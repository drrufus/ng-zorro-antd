!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/cdk/overlay"),require("@angular/core"),require("@angular/forms"),require("ng-zorro-antd/core"),require("ng-zorro-antd/i18n"),require("ng-zorro-antd/icon"),require("@angular/common"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("ng-zorro-antd/time-picker",["exports","@angular/cdk/overlay","@angular/core","@angular/forms","ng-zorro-antd/core","ng-zorro-antd/i18n","ng-zorro-antd/icon","@angular/common","rxjs","rxjs/operators"],t):t(((e=e||self)["ng-zorro-antd"]=e["ng-zorro-antd"]||{},e["ng-zorro-antd"]["time-picker"]={}),e.ng.cdk.overlay,e.ng.core,e.ng.forms,e["ng-zorro-antd"].core,e["ng-zorro-antd"].i18n,e["ng-zorro-antd"].icon,e.ng.common,e.rxjs,e.rxjs.operators)}(this,(function(e,t,n,i,o,s,r,l,u,a){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function c(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r}function d(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function p(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,s=n.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)r.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return r}
/**
     * @license
     * Copyright Alibaba.com All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE
     */
var h=function(){function e(e,t){this.dateHelper=e,this.elementRef=t}return e.prototype.keyup=function(){this.changed()},e.prototype.blur=function(){this.touched()},e.prototype.changed=function(){if(this._onChange){var e=this.dateHelper.parseTime(this.elementRef.nativeElement.value);this._onChange(e)}},e.prototype.touched=function(){this._onTouch&&this._onTouch()},e.prototype.setRange=function(){this.elementRef.nativeElement.focus(),this.elementRef.nativeElement.setSelectionRange(0,this.elementRef.nativeElement.value.length)},e.prototype.writeValue=function(e){this.elementRef.nativeElement.value=this.dateHelper.format(e,this.nzTime)},e.prototype.registerOnChange=function(e){this._onChange=e},e.prototype.registerOnTouched=function(e){this._onTouch=e},e.ɵfac=function(t){return new(t||e)(n.ɵɵdirectiveInject(s.DateHelperService),n.ɵɵdirectiveInject(n.ElementRef))},e.ɵdir=n.ɵɵdefineDirective({type:e,selectors:[["input","nzTime",""]],hostBindings:function(e,t,i){1&e&&n.ɵɵlistener("keyup",(function(e){return t.keyup()}))("blur",(function(e){return t.blur()}))},inputs:{nzTime:"nzTime"},exportAs:["nzTime"],features:[n.ɵɵProvidersFeature([{provide:i.NG_VALUE_ACCESSOR,useExisting:e,multi:!0}])]}),e}(),f=function(){function e(){this._seconds=void 0,this._hours=void 0,this._minutes=void 0,this._selected12Hours=void 0,this._use12Hours=!1,this._defaultOpenValue=new Date,this._changes=new u.Subject}return e.prototype.setDefaultValueIfNil=function(){o.isNotNil(this._value)||(this._value=new Date(this.defaultOpenValue))},e.prototype.setMinutes=function(e,t){return t?this:(this.setDefaultValueIfNil(),this.minutes=e,this)},e.prototype.setHours=function(e,t){return t?this:(this.setDefaultValueIfNil(),this.hours=e,this)},e.prototype.setSeconds=function(e,t){return t?this:(this.setDefaultValueIfNil(),this.seconds=e,this)},e.prototype.setUse12Hours=function(e){return this._use12Hours=e,this},Object.defineProperty(e.prototype,"changes",{get:function(){return this._changes.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){e!==this._value&&(this._value=e,o.isNotNil(this._value)?(this._hours=this._value.getHours(),this._minutes=this._value.getMinutes(),this._seconds=this._value.getSeconds(),this._use12Hours&&o.isNotNil(this._hours)&&(this._selected12Hours=this._hours>=12?"PM":"AM")):this._clear())},enumerable:!0,configurable:!0}),e.prototype.setValue=function(e,t){return o.isNotNil(t)&&(this._use12Hours=t),this.value=e,this},e.prototype.clear=function(){this._clear(),this.update()},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return!(o.isNotNil(this._hours)||o.isNotNil(this._minutes)||o.isNotNil(this._seconds))},enumerable:!0,configurable:!0}),e.prototype._clear=function(){this._hours=void 0,this._minutes=void 0,this._seconds=void 0,this._selected12Hours=void 0},e.prototype.update=function(){this.isEmpty?this._value=void 0:(o.isNotNil(this._hours)?this._value.setHours(this.hours):this._hours=this.defaultHours,o.isNotNil(this._minutes)?this._value.setMinutes(this.minutes):this._minutes=this.defaultMinutes,o.isNotNil(this._seconds)?this._value.setSeconds(this.seconds):this._seconds=this.defaultSeconds,this._use12Hours&&(o.isNotNil(this._selected12Hours)||(this._selected12Hours=this.default12Hours),"PM"===this.selected12Hours&&this._hours<12&&(this._hours+=12,this._value.setHours(this._hours)),"AM"===this.selected12Hours&&this._hours>=12&&(this._hours-=12,this._value.setHours(this._hours))),this._value=new Date(this._value)),this.changed()},e.prototype.changed=function(){this._changes.next(this._value)},Object.defineProperty(e.prototype,"viewHours",{get:function(){return this._use12Hours&&o.isNotNil(this._hours)?this.calculateViewHour(this._hours):this._hours},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"realHours",{get:function(){return this._hours},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hours",{get:function(){return this._hours},set:function(e){e!==this._hours&&(this._use12Hours?"PM"===this.selected12Hours&&12!==e?this._hours=e+12:"AM"===this.selected12Hours&&12===e?this._hours=0:this._hours=e:this._hours=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minutes",{get:function(){return this._minutes},set:function(e){e!==this._minutes&&(this._minutes=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"seconds",{get:function(){return this._seconds},set:function(e){e!==this._seconds&&(this._seconds=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected12Hours",{get:function(){return this._selected12Hours},set:function(e){e.toUpperCase()!==this._selected12Hours&&(this._selected12Hours=e.toUpperCase(),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultOpenValue",{get:function(){return this._defaultOpenValue},set:function(e){this._defaultOpenValue!==e&&(this._defaultOpenValue=e,this.update())},enumerable:!0,configurable:!0}),e.prototype.setDefaultOpenValue=function(e){return this.defaultOpenValue=e,this},Object.defineProperty(e.prototype,"defaultViewHours",{get:function(){var e=this._defaultOpenValue.getHours();return this._use12Hours&&o.isNotNil(e)?this.calculateViewHour(e):e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultRealHours",{get:function(){return this._defaultOpenValue.getHours()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultHours",{get:function(){return this._defaultOpenValue.getHours()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultMinutes",{get:function(){return this._defaultOpenValue.getMinutes()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultSeconds",{get:function(){return this._defaultOpenValue.getSeconds()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"default12Hours",{get:function(){return this._defaultOpenValue.getHours()>=12?"PM":"AM"},enumerable:!0,configurable:!0}),e.prototype.calculateViewHour=function(e){var t=this._selected12Hours||this.default12Hours;return"PM"===t&&e>12?e-12:"AM"===t&&0===e?12:e},e}(),m=["hourListElement"],z=["minuteListElement"],v=["secondListElement"],b=["use12HoursListElement"];function g(e,t){if(1&e){var i=n.ɵɵgetCurrentView();n.ɵɵelementStart(0,"li",5),n.ɵɵlistener("click",(function(e){n.ɵɵrestoreView(i);var t=n.ɵɵnextContext().$implicit;return n.ɵɵnextContext(2).selectHour(t)})),n.ɵɵtext(1),n.ɵɵpipe(2,"number"),n.ɵɵelementEnd()}if(2&e){var o=n.ɵɵnextContext().$implicit,s=n.ɵɵnextContext(2);n.ɵɵclassMapInterpolate2("\n                ",s.isSelectedHour(o)?s.prefixCls+"-select-option-selected":"","\n                ",o.disabled?s.prefixCls+"-select-option-disabled":"","\n              "),n.ɵɵadvance(1),n.ɵɵtextInterpolate1(" ",n.ɵɵpipeBind2(2,5,o.index,"2.0-0")," ")}}function y(e,t){if(1&e&&(n.ɵɵelementContainerStart(0),n.ɵɵtemplate(1,g,3,8,"li",4),n.ɵɵelementContainerEnd()),2&e){var i=t.$implicit,o=n.ɵɵnextContext(2);n.ɵɵadvance(1),n.ɵɵproperty("ngIf",!(o.nzHideDisabledOptions&&i.disabled))}}function C(e,t){if(1&e&&(n.ɵɵelementStart(0,"div",null,2),n.ɵɵelementStart(2,"ul"),n.ɵɵtemplate(3,y,2,1,"ng-container",3),n.ɵɵelementEnd(),n.ɵɵelementEnd()),2&e){var i=n.ɵɵnextContext();n.ɵɵclassMapInterpolate1("",i.prefixCls,"-select"),n.ɵɵadvance(3),n.ɵɵproperty("ngForOf",i.hourRange)}}function H(e,t){if(1&e){var i=n.ɵɵgetCurrentView();n.ɵɵelementStart(0,"li",5),n.ɵɵlistener("click",(function(e){n.ɵɵrestoreView(i);var t=n.ɵɵnextContext().$implicit;return n.ɵɵnextContext(2).selectMinute(t)})),n.ɵɵtext(1),n.ɵɵpipe(2,"number"),n.ɵɵelementEnd()}if(2&e){var o=n.ɵɵnextContext().$implicit,s=n.ɵɵnextContext(2);n.ɵɵclassMapInterpolate2("\n                ",s.isSelectedMinute(o)?s.prefixCls+"-select-option-selected":"","\n                ",o.disabled?s.prefixCls+"-select-option-disabled":"","\n              "),n.ɵɵadvance(1),n.ɵɵtextInterpolate1(" ",n.ɵɵpipeBind2(2,5,o.index,"2.0-0")," ")}}function S(e,t){if(1&e&&(n.ɵɵelementContainerStart(0),n.ɵɵtemplate(1,H,3,8,"li",4),n.ɵɵelementContainerEnd()),2&e){var i=t.$implicit,o=n.ɵɵnextContext(2);n.ɵɵadvance(1),n.ɵɵproperty("ngIf",!(o.nzHideDisabledOptions&&i.disabled))}}function x(e,t){if(1&e&&(n.ɵɵelementStart(0,"div",null,6),n.ɵɵelementStart(2,"ul"),n.ɵɵtemplate(3,S,2,1,"ng-container",3),n.ɵɵelementEnd(),n.ɵɵelementEnd()),2&e){var i=n.ɵɵnextContext();n.ɵɵclassMapInterpolate1("",i.prefixCls,"-select"),n.ɵɵadvance(3),n.ɵɵproperty("ngForOf",i.minuteRange)}}function O(e,t){if(1&e){var i=n.ɵɵgetCurrentView();n.ɵɵelementStart(0,"li",5),n.ɵɵlistener("click",(function(e){n.ɵɵrestoreView(i);var t=n.ɵɵnextContext().$implicit;return n.ɵɵnextContext(2).selectSecond(t)})),n.ɵɵtext(1),n.ɵɵpipe(2,"number"),n.ɵɵelementEnd()}if(2&e){var o=n.ɵɵnextContext().$implicit,s=n.ɵɵnextContext(2);n.ɵɵclassMapInterpolate2("\n                ",s.isSelectedSecond(o)?s.prefixCls+"-select-option-selected":"","\n                ",o.disabled?s.prefixCls+"-select-option-disabled":"","\n              "),n.ɵɵadvance(1),n.ɵɵtextInterpolate1(" ",n.ɵɵpipeBind2(2,5,o.index,"2.0-0")," ")}}function _(e,t){if(1&e&&(n.ɵɵelementContainerStart(0),n.ɵɵtemplate(1,O,3,8,"li",4),n.ɵɵelementContainerEnd()),2&e){var i=t.$implicit,o=n.ɵɵnextContext(2);n.ɵɵadvance(1),n.ɵɵproperty("ngIf",!(o.nzHideDisabledOptions&&i.disabled))}}function E(e,t){if(1&e&&(n.ɵɵelementStart(0,"div",null,7),n.ɵɵelementStart(2,"ul"),n.ɵɵtemplate(3,_,2,1,"ng-container",3),n.ɵɵelementEnd(),n.ɵɵelementEnd()),2&e){var i=n.ɵɵnextContext();n.ɵɵclassMapInterpolate1("",i.prefixCls,"-select"),n.ɵɵadvance(3),n.ɵɵproperty("ngForOf",i.secondRange)}}function M(e,t){if(1&e){var i=n.ɵɵgetCurrentView();n.ɵɵelementStart(0,"li",5),n.ɵɵlistener("click",(function(e){n.ɵɵrestoreView(i);var t=n.ɵɵnextContext().$implicit;return n.ɵɵnextContext(2).select12Hours(t)})),n.ɵɵtext(1),n.ɵɵelementEnd()}if(2&e){var o=n.ɵɵnextContext().$implicit,s=n.ɵɵnextContext(2);n.ɵɵclassMapInterpolate1("\n                ",s.isSelected12Hours(o)?s.prefixCls+"-select-option-selected":"","\n              "),n.ɵɵadvance(1),n.ɵɵtextInterpolate1(" ",o.value," ")}}function D(e,t){if(1&e&&(n.ɵɵelementContainerStart(0),n.ɵɵtemplate(1,M,2,4,"li",4),n.ɵɵelementContainerEnd()),2&e){var i=n.ɵɵnextContext(2);n.ɵɵadvance(1),n.ɵɵproperty("ngIf",!i.nzHideDisabledOptions)}}function N(e,t){if(1&e&&(n.ɵɵelementStart(0,"div",null,8),n.ɵɵelementStart(2,"ul"),n.ɵɵtemplate(3,D,2,1,"ng-container",3),n.ɵɵelementEnd(),n.ɵɵelementEnd()),2&e){var i=n.ɵɵnextContext();n.ɵɵclassMapInterpolate1("",i.prefixCls,"-select"),n.ɵɵadvance(3),n.ɵɵproperty("ngForOf",i.use12HoursRange)}}function P(e,t){}function I(e,t){if(1&e&&(n.ɵɵelementStart(0,"div"),n.ɵɵtemplate(1,P,0,0,"ng-template",9),n.ɵɵelementEnd()),2&e){var i=n.ɵɵnextContext();n.ɵɵclassMapInterpolate1("",i.prefixCls,"-addon"),n.ɵɵadvance(1),n.ɵɵproperty("ngTemplateOutlet",i.nzAddOn)}}function k(e,t,n){return void 0===t&&(t=1),void 0===n&&(n=0),new Array(Math.ceil(e/t)).fill(0).map((function(e,i){return(i+n)*t}))}var T=function(){function e(e,t,n){this.element=e,this.updateCls=t,this.cdr=n,this._nzHourStep=1,this._nzMinuteStep=1,this._nzSecondStep=1,this.unsubscribe$=new u.Subject,this._format="HH:mm:ss",this._allowEmpty=!0,this.prefixCls="ant-time-picker-panel",this.time=new f,this.hourEnabled=!0,this.minuteEnabled=!0,this.secondEnabled=!0,this.enabledColumns=3,this.nzInDatePicker=!1,this.nzHideDisabledOptions=!1,this.nzUse12Hours=!1,this.opened=!1,this.nzDefaultOpenValue=new Date}return Object.defineProperty(e.prototype,"nzAllowEmpty",{get:function(){return this._allowEmpty},set:function(e){o.isNotNil(e)&&(this._allowEmpty=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nzDisabledHours",{get:function(){return this._disabledHours},set:function(e){this._disabledHours=e,this._disabledHours&&this.buildHours()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nzDisabledMinutes",{get:function(){return this._disabledMinutes},set:function(e){o.isNotNil(e)&&(this._disabledMinutes=e,this.buildMinutes())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nzDisabledSeconds",{get:function(){return this._disabledSeconds},set:function(e){o.isNotNil(e)&&(this._disabledSeconds=e,this.buildSeconds())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"format",{get:function(){return this._format},set:function(e){if(o.isNotNil(e)){this._format=e,this.enabledColumns=0;var t=new Set(e);this.hourEnabled=t.has("H")||t.has("h"),this.minuteEnabled=t.has("m"),this.secondEnabled=t.has("s"),this.hourEnabled&&this.enabledColumns++,this.minuteEnabled&&this.enabledColumns++,this.secondEnabled&&this.enabledColumns++,this.nzUse12Hours&&this.build12Hours()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nzHourStep",{get:function(){return this._nzHourStep},set:function(e){o.isNotNil(e)&&(this._nzHourStep=e,this.buildHours())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nzMinuteStep",{get:function(){return this._nzMinuteStep},set:function(e){o.isNotNil(e)&&(this._nzMinuteStep=e,this.buildMinutes())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nzSecondStep",{get:function(){return this._nzSecondStep},set:function(e){o.isNotNil(e)&&(this._nzSecondStep=e,this.buildSeconds())},enumerable:!0,configurable:!0}),e.prototype.selectInputRange=function(){var e=this;setTimeout((function(){e.nzTimeValueAccessorDirective&&e.nzTimeValueAccessorDirective.setRange()}))},e.prototype.buildHours=function(){var e=this,t=24,n=this.nzDisabledHours&&this.nzDisabledHours(),i=0;if(this.nzUse12Hours&&(t=12,n&&(n="PM"===this.time.selected12Hours?n.filter((function(e){return e>=12})).map((function(e){return e>12?e-12:e})):n.filter((function(e){return e<12||24===e})).map((function(e){return 24===e||0===e?12:e}))),i=1),this.hourRange=k(t,this.nzHourStep,i).map((function(t){return{index:t,disabled:e.nzDisabledHours&&-1!==n.indexOf(t)}})),this.nzUse12Hours&&12===this.hourRange[this.hourRange.length-1].index){var o=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}(this.hourRange);o.unshift(o[o.length-1]),o.splice(o.length-1,1),this.hourRange=o}},e.prototype.buildMinutes=function(){var e=this;this.minuteRange=k(60,this.nzMinuteStep).map((function(t){return{index:t,disabled:e.nzDisabledMinutes&&-1!==e.nzDisabledMinutes(e.time.hours).indexOf(t)}}))},e.prototype.buildSeconds=function(){var e=this;this.secondRange=k(60,this.nzSecondStep).map((function(t){return{index:t,disabled:e.nzDisabledSeconds&&-1!==e.nzDisabledSeconds(e.time.hours,e.time.minutes).indexOf(t)}}))},e.prototype.build12Hours=function(){var e=this._format.includes("A");this.use12HoursRange=[{index:0,value:e?"AM":"am"},{index:1,value:e?"PM":"pm"}]},e.prototype.buildTimes=function(){this.buildHours(),this.buildMinutes(),this.buildSeconds(),this.build12Hours()},e.prototype.selectHour=function(e){this.time.setHours(e.index,e.disabled),this.scrollToSelected(this.hourListElement.nativeElement,e.index,120,"hour"),this._disabledMinutes&&this.buildMinutes(),(this._disabledSeconds||this._disabledMinutes)&&this.buildSeconds()},e.prototype.selectMinute=function(e){this.time.setMinutes(e.index,e.disabled),this.scrollToSelected(this.minuteListElement.nativeElement,e.index,120,"minute"),this._disabledSeconds&&this.buildSeconds()},e.prototype.selectSecond=function(e){this.time.setSeconds(e.index,e.disabled),this.scrollToSelected(this.secondListElement.nativeElement,e.index,120,"second")},e.prototype.select12Hours=function(e){this.time.selected12Hours=e.value,this._disabledHours&&this.buildHours(),this._disabledMinutes&&this.buildMinutes(),this._disabledSeconds&&this.buildSeconds(),this.scrollToSelected(this.use12HoursListElement.nativeElement,e.index,120,"12-hour")},e.prototype.scrollToSelected=function(e,t,n,i){void 0===n&&(n=0);var o=this.translateIndex(t,i),s=e.children[0].children[o]||e.children[0].children[0];this.scrollTo(e,s.offsetTop,n)},e.prototype.translateIndex=function(e,t){if("hour"===t){var n=this.nzDisabledHours&&this.nzDisabledHours();return this.calcIndex(n,this.hourRange.map((function(e){return e.index})).indexOf(e))}if("minute"===t){var i=this.nzDisabledMinutes&&this.nzDisabledMinutes(this.time.hours);return this.calcIndex(i,this.minuteRange.map((function(e){return e.index})).indexOf(e))}if("second"===t){var o=this.nzDisabledSeconds&&this.nzDisabledSeconds(this.time.hours,this.time.minutes);return this.calcIndex(o,this.secondRange.map((function(e){return e.index})).indexOf(e))}return this.calcIndex([],this.use12HoursRange.map((function(e){return e.index})).indexOf(e))},e.prototype.scrollTo=function(e,t,n){var i=this;if(n<=0)e.scrollTop=t;else{var s=(t-e.scrollTop)/n*10;o.reqAnimFrame((function(){e.scrollTop=e.scrollTop+s,e.scrollTop!==t&&i.scrollTo(e,t,n-10)}))}},e.prototype.calcIndex=function(e,t){return e&&e.length&&this.nzHideDisabledOptions?t-e.reduce((function(e,n){return e+(n<t?1:0)}),0):t},e.prototype.changed=function(){this.onChange&&this.onChange(this.time.value)},e.prototype.touched=function(){this.onTouch&&this.onTouch()},e.prototype.setClassMap=function(){var e;this.updateCls.updateHostClass(this.element.nativeElement,((e={})[""+this.prefixCls]=!0,e[this.prefixCls+"-column-"+this.enabledColumns]=!this.nzInDatePicker,e[this.prefixCls+"-narrow"]=this.enabledColumns<3,e[this.prefixCls+"-placement-bottomLeft"]=!this.nzInDatePicker,e))},e.prototype.isSelectedHour=function(e){return e.index===this.time.viewHours||!o.isNotNil(this.time.viewHours)&&e.index===this.time.defaultViewHours},e.prototype.isSelectedMinute=function(e){return e.index===this.time.minutes||!o.isNotNil(this.time.minutes)&&e.index===this.time.defaultMinutes},e.prototype.isSelectedSecond=function(e){return e.index===this.time.seconds||!o.isNotNil(this.time.seconds)&&e.index===this.time.defaultSeconds},e.prototype.isSelected12Hours=function(e){return e.value.toUpperCase()===this.time.selected12Hours||!o.isNotNil(this.time.selected12Hours)&&e.value.toUpperCase()===this.time.default12Hours},e.prototype.initPosition=function(){var e=this;setTimeout((function(){if(e.hourEnabled&&e.hourListElement&&(o.isNotNil(e.time.viewHours)?e.scrollToSelected(e.hourListElement.nativeElement,e.time.viewHours,0,"hour"):e.scrollToSelected(e.hourListElement.nativeElement,e.time.defaultViewHours,0,"hour")),e.minuteEnabled&&e.minuteListElement&&(o.isNotNil(e.time.minutes)?e.scrollToSelected(e.minuteListElement.nativeElement,e.time.minutes,0,"minute"):e.scrollToSelected(e.minuteListElement.nativeElement,e.time.defaultMinutes,0,"minute")),e.secondEnabled&&e.secondListElement&&(o.isNotNil(e.time.seconds)?e.scrollToSelected(e.secondListElement.nativeElement,e.time.seconds,0,"second"):e.scrollToSelected(e.secondListElement.nativeElement,e.time.defaultSeconds,0,"second")),e.nzUse12Hours&&e.use12HoursListElement){var t="AM"===(o.isNotNil(e.time.selected12Hours)?e.time.selected12Hours:e.time.default12Hours)?0:1;e.scrollToSelected(e.use12HoursListElement.nativeElement,t,0,"12-hour")}}))},e.prototype.ngOnInit=function(){var e=this;this.nzInDatePicker&&(this.prefixCls="ant-calendar-time-picker"),this.time.changes.pipe(a.takeUntil(this.unsubscribe$)).subscribe((function(){e.changed(),e.touched()})),this.buildTimes(),this.setClassMap()},e.prototype.ngOnDestroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete()},e.prototype.ngOnChanges=function(e){var t=e.nzUse12Hours,n=e.opened,i=e.nzDefaultOpenValue;if(t&&!t.previousValue&&t.currentValue&&(this.build12Hours(),this.enabledColumns++),n&&n.currentValue&&(this.initPosition(),this.selectInputRange()),i){var s=i.currentValue;o.isNotNil(s)&&this.time.setDefaultOpenValue(this.nzDefaultOpenValue)}},e.prototype.writeValue=function(e){this.time.setValue(e,this.nzUse12Hours),this.buildTimes(),this.cdr.markForCheck()},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouch=e},e.ɵfac=function(t){return new(t||e)(n.ɵɵdirectiveInject(n.ElementRef),n.ɵɵdirectiveInject(o.NzUpdateHostClassService),n.ɵɵdirectiveInject(n.ChangeDetectorRef))},e.ɵcmp=n.ɵɵdefineComponent({type:e,selectors:[["nz-time-picker-panel"]],viewQuery:function(e,t){var i;(1&e&&(n.ɵɵviewQuery(h,!0),n.ɵɵviewQuery(m,!0),n.ɵɵviewQuery(z,!0),n.ɵɵviewQuery(v,!0),n.ɵɵviewQuery(b,!0)),2&e)&&(n.ɵɵqueryRefresh(i=n.ɵɵloadQuery())&&(t.nzTimeValueAccessorDirective=i.first),n.ɵɵqueryRefresh(i=n.ɵɵloadQuery())&&(t.hourListElement=i.first),n.ɵɵqueryRefresh(i=n.ɵɵloadQuery())&&(t.minuteListElement=i.first),n.ɵɵqueryRefresh(i=n.ɵɵloadQuery())&&(t.secondListElement=i.first),n.ɵɵqueryRefresh(i=n.ɵɵloadQuery())&&(t.use12HoursListElement=i.first))},inputs:{nzInDatePicker:"nzInDatePicker",nzAddOn:"nzAddOn",nzHideDisabledOptions:"nzHideDisabledOptions",nzClearText:"nzClearText",nzPlaceHolder:"nzPlaceHolder",nzUse12Hours:"nzUse12Hours",opened:"opened",nzDefaultOpenValue:"nzDefaultOpenValue",nzAllowEmpty:"nzAllowEmpty",nzDisabledHours:"nzDisabledHours",nzDisabledMinutes:"nzDisabledMinutes",nzDisabledSeconds:"nzDisabledSeconds",format:"format",nzHourStep:"nzHourStep",nzMinuteStep:"nzMinuteStep",nzSecondStep:"nzSecondStep"},exportAs:["nzTimePickerPanel"],features:[n.ɵɵProvidersFeature([o.NzUpdateHostClassService,{provide:i.NG_VALUE_ACCESSOR,useExisting:e,multi:!0}]),n.ɵɵNgOnChangesFeature()],decls:10,vars:25,consts:[["type","text",3,"placeholder","nzTime","ngModel","ngModelChange","blur"],[3,"class",4,"ngIf"],["hourListElement",""],[4,"ngFor","ngForOf"],[3,"class","click",4,"ngIf"],[3,"click"],["minuteListElement",""],["secondListElement",""],["use12HoursListElement",""],[3,"ngTemplateOutlet"]],template:function(e,t){1&e&&(n.ɵɵelementStart(0,"div"),n.ɵɵelementStart(1,"div"),n.ɵɵelementStart(2,"div"),n.ɵɵelementStart(3,"input",0),n.ɵɵlistener("ngModelChange",(function(e){return t.time.value=e}))("blur",(function(e){return t.time.changed()})),n.ɵɵelementEnd(),n.ɵɵelementEnd(),n.ɵɵelementStart(4,"div"),n.ɵɵtemplate(5,C,4,4,"div",1),n.ɵɵtemplate(6,x,4,4,"div",1),n.ɵɵtemplate(7,E,4,4,"div",1),n.ɵɵtemplate(8,N,4,4,"div",1),n.ɵɵelementEnd(),n.ɵɵtemplate(9,I,2,4,"div",1),n.ɵɵelementEnd(),n.ɵɵelementEnd()),2&e&&(n.ɵɵclassMap(t.nzInDatePicker?t.prefixCls+"-panel":""),n.ɵɵadvance(1),n.ɵɵclassMapInterpolate2("",t.prefixCls,"-inner ",t.nzInDatePicker?t.prefixCls+"-column-"+t.enabledColumns:"",""),n.ɵɵstyleProp("width",t.nzInDatePicker?null:56*t.enabledColumns,"px"),n.ɵɵadvance(1),n.ɵɵclassMapInterpolate1("",t.prefixCls,"-input-wrap"),n.ɵɵadvance(1),n.ɵɵclassMapInterpolate1("",t.prefixCls,"-input"),n.ɵɵproperty("placeholder",t.nzPlaceHolder)("nzTime",t.format)("ngModel",t.time.value),n.ɵɵadvance(1),n.ɵɵclassMapInterpolate1("",t.prefixCls,"-combobox"),n.ɵɵadvance(1),n.ɵɵproperty("ngIf",t.hourEnabled),n.ɵɵadvance(1),n.ɵɵproperty("ngIf",t.minuteEnabled),n.ɵɵadvance(1),n.ɵɵproperty("ngIf",t.secondEnabled),n.ɵɵadvance(1),n.ɵɵproperty("ngIf",t.nzUse12Hours),n.ɵɵadvance(1),n.ɵɵproperty("ngIf",t.nzAddOn))},directives:[h,i.DefaultValueAccessor,i.NgControlStatus,i.NgModel,l.NgIf,l.NgForOf,l.NgTemplateOutlet],pipes:[l.DecimalPipe],encapsulation:2,changeDetection:0}),c([o.InputBoolean(),d("design:type",Object)],e.prototype,"nzUse12Hours",void 0),e}(),V=["inputElement"];function w(e,t){if(1&e){var i=n.ɵɵgetCurrentView();n.ɵɵelementStart(0,"i",6),n.ɵɵlistener("click",(function(e){return n.ɵɵrestoreView(i),n.ɵɵnextContext().onClickClearBtn()})),n.ɵɵelementEnd()}if(2&e){var o=n.ɵɵnextContext();n.ɵɵattribute("aria-label",o.nzClearText)("title",o.nzClearText)}}function A(e,t){if(1&e){var i=n.ɵɵgetCurrentView();n.ɵɵelementStart(0,"nz-time-picker-panel",7),n.ɵɵlistener("ngModelChange",(function(e){return n.ɵɵrestoreView(i),n.ɵɵnextContext().value=e})),n.ɵɵpipe(1,"nzI18n"),n.ɵɵelementEnd()}if(2&e){var o=n.ɵɵnextContext();n.ɵɵproperty("ngClass",o.nzPopupClassName)("@slideMotion","bottom")("format",o.nzFormat)("nzHourStep",o.nzHourStep)("nzMinuteStep",o.nzMinuteStep)("nzSecondStep",o.nzSecondStep)("nzDisabledHours",o.nzDisabledHours)("nzDisabledMinutes",o.nzDisabledMinutes)("nzDisabledSeconds",o.nzDisabledSeconds)("nzPlaceHolder",o.nzPlaceHolder||n.ɵɵpipeBind1(1,18,"TimePicker.placeholder"))("nzHideDisabledOptions",o.nzHideDisabledOptions)("nzUse12Hours",o.nzUse12Hours)("nzDefaultOpenValue",o.nzDefaultOpenValue)("nzAddOn",o.nzAddOn)("opened",o.nzOpen)("nzClearText",o.nzClearText)("nzAllowEmpty",o.nzAllowEmpty)("ngModel",o.value)}}var R=function(){function e(e,t,i,o,s){this.nzConfigService=e,this.element=t,this.renderer=i,this.updateCls=o,this.cdr=s,this._value=null,this.isInit=!1,this.overlayPositions=[{originX:"start",originY:"top",overlayX:"end",overlayY:"top",offsetX:0,offsetY:0}],this.nzSize=null,this.nzPlaceHolder="",this.nzDefaultOpenValue=new Date,this.nzOpen=!1,this.nzOpenChange=new n.EventEmitter,this.nzHideDisabledOptions=!1,this.nzDisabled=!1,this.nzAutoFocus=!1}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e,this._onChange&&this._onChange(this.value),this._onTouched&&this._onTouched()},enumerable:!0,configurable:!0}),e.prototype.open=function(){this.nzDisabled||(this.nzOpen=!0,this.nzOpenChange.emit(this.nzOpen))},e.prototype.close=function(){this.nzOpen=!1,this.cdr.markForCheck(),this.nzOpenChange.emit(this.nzOpen)},e.prototype.updateAutoFocus=function(){this.isInit&&!this.nzDisabled&&(this.nzAutoFocus?this.renderer.setAttribute(this.inputRef.nativeElement,"autofocus","autofocus"):this.renderer.removeAttribute(this.inputRef.nativeElement,"autofocus"))},e.prototype.onClickClearBtn=function(){this.value=null},e.prototype.setClassMap=function(){var e;this.updateCls.updateHostClass(this.element.nativeElement,((e={})["ant-time-picker"]=!0,e["ant-time-picker-"+this.nzSize]=o.isNotNil(this.nzSize),e))},e.prototype.focus=function(){this.inputRef.nativeElement&&this.inputRef.nativeElement.focus()},e.prototype.blur=function(){this.inputRef.nativeElement&&this.inputRef.nativeElement.blur()},e.prototype.ngOnInit=function(){this.setClassMap(),this.origin=new t.CdkOverlayOrigin(this.element)},e.prototype.ngOnChanges=function(e){var t=e.nzUse12Hours,n=e.nzFormat,i=e.nzDisabled,o=e.nzAutoFocus;if(t&&!t.previousValue&&t.currentValue&&!n&&(this.nzFormat="h:mm:ss a"),i){var s=i.currentValue,r=this.inputRef.nativeElement;s?this.renderer.setAttribute(r,"disabled",""):this.renderer.removeAttribute(r,"disabled")}o&&this.updateAutoFocus()},e.prototype.ngAfterViewInit=function(){this.isInit=!0,this.updateAutoFocus()},e.prototype.writeValue=function(e){this._value=e,this.cdr.markForCheck()},e.prototype.registerOnChange=function(e){this._onChange=e},e.prototype.registerOnTouched=function(e){this._onTouched=e},e.prototype.setDisabledState=function(e){this.nzDisabled=e,this.cdr.markForCheck()},e.ɵfac=function(t){return new(t||e)(n.ɵɵdirectiveInject(o.NzConfigService),n.ɵɵdirectiveInject(n.ElementRef),n.ɵɵdirectiveInject(n.Renderer2),n.ɵɵdirectiveInject(o.NzUpdateHostClassService),n.ɵɵdirectiveInject(n.ChangeDetectorRef))},e.ɵcmp=n.ɵɵdefineComponent({type:e,selectors:[["nz-time-picker"]],viewQuery:function(e,t){var i;(1&e&&n.ɵɵstaticViewQuery(V,!0),2&e)&&(n.ɵɵqueryRefresh(i=n.ɵɵloadQuery())&&(t.inputRef=i.first))},inputs:{nzSize:"nzSize",nzHourStep:"nzHourStep",nzMinuteStep:"nzMinuteStep",nzSecondStep:"nzSecondStep",nzClearText:"nzClearText",nzPopupClassName:"nzPopupClassName",nzPlaceHolder:"nzPlaceHolder",nzAddOn:"nzAddOn",nzDefaultOpenValue:"nzDefaultOpenValue",nzDisabledHours:"nzDisabledHours",nzDisabledMinutes:"nzDisabledMinutes",nzDisabledSeconds:"nzDisabledSeconds",nzFormat:"nzFormat",nzOpen:"nzOpen",nzUse12Hours:"nzUse12Hours",nzHideDisabledOptions:"nzHideDisabledOptions",nzAllowEmpty:"nzAllowEmpty",nzDisabled:"nzDisabled",nzAutoFocus:"nzAutoFocus"},outputs:{nzOpenChange:"nzOpenChange"},exportAs:["nzTimePicker"],features:[n.ɵɵProvidersFeature([o.NzUpdateHostClassService,{provide:i.NG_VALUE_ACCESSOR,useExisting:e,multi:!0}]),n.ɵɵNgOnChangesFeature()],decls:7,vars:10,consts:[["nzType","text","readonly","readonly",1,"ant-time-picker-input",3,"nzTime","placeholder","ngModel","ngModelChange","click"],["inputElement",""],[1,"ant-time-picker-icon"],["nz-icon","","nzType","clock-circle"],["nz-icon","","nzType","close-circle","nzTheme","fill","class","anticon anticon-close-circle ant-time-picker-clear","tabindex","-1",3,"click",4,"ngIf"],["cdkConnectedOverlay","","nzConnectedOverlay","","cdkConnectedOverlayHasBackdrop","",3,"cdkConnectedOverlayPositions","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayOffsetY","detach","backdropClick"],["nz-icon","","nzType","close-circle","nzTheme","fill","tabindex","-1",1,"anticon","anticon-close-circle","ant-time-picker-clear",3,"click"],[3,"ngClass","format","nzHourStep","nzMinuteStep","nzSecondStep","nzDisabledHours","nzDisabledMinutes","nzDisabledSeconds","nzPlaceHolder","nzHideDisabledOptions","nzUse12Hours","nzDefaultOpenValue","nzAddOn","opened","nzClearText","nzAllowEmpty","ngModel","ngModelChange"]],template:function(e,t){1&e&&(n.ɵɵelementStart(0,"input",0,1),n.ɵɵlistener("ngModelChange",(function(e){return t.value=e}))("click",(function(e){return t.open()})),n.ɵɵpipe(2,"nzI18n"),n.ɵɵelementEnd(),n.ɵɵelementStart(3,"span",2),n.ɵɵelement(4,"i",3),n.ɵɵelementEnd(),n.ɵɵtemplate(5,w,1,2,"i",4),n.ɵɵtemplate(6,A,2,20,"ng-template",5),n.ɵɵlistener("detach",(function(e){return t.close()}))("backdropClick",(function(e){return t.close()}))),2&e&&(n.ɵɵproperty("nzTime",t.nzFormat)("placeholder",t.nzPlaceHolder||n.ɵɵpipeBind1(2,8,"TimePicker.placeholder"))("ngModel",t.value),n.ɵɵadvance(5),n.ɵɵproperty("ngIf",t.nzAllowEmpty&&t.value),n.ɵɵadvance(1),n.ɵɵproperty("cdkConnectedOverlayPositions",t.overlayPositions)("cdkConnectedOverlayOrigin",t.origin)("cdkConnectedOverlayOpen",t.nzOpen)("cdkConnectedOverlayOffsetY",-2))},directives:[h,i.DefaultValueAccessor,i.NgControlStatus,i.NgModel,r.NzIconDirective,l.NgIf,t.CdkConnectedOverlay,o.NzConnectedOverlayDirective,T,l.NgClass],pipes:[s.NzI18nPipe],encapsulation:2,data:{animation:[o.slideMotion]},changeDetection:0}),c([o.WithConfig("timePicker",1),d("design:type",Number)],e.prototype,"nzHourStep",void 0),c([o.WithConfig("timePicker",1),d("design:type",Number)],e.prototype,"nzMinuteStep",void 0),c([o.WithConfig("timePicker",1),d("design:type",Number)],e.prototype,"nzSecondStep",void 0),c([o.WithConfig("timePicker","clear"),d("design:type",String)],e.prototype,"nzClearText",void 0),c([o.WithConfig("timePicker"),d("design:type",String)],e.prototype,"nzPopupClassName",void 0),c([o.WithConfig("timePicker","HH:mm:ss"),d("design:type",String)],e.prototype,"nzFormat",void 0),c([o.WithConfig("timePicker",!1),o.InputBoolean(),d("design:type",Boolean)],e.prototype,"nzUse12Hours",void 0),c([o.InputBoolean(),d("design:type",Object)],e.prototype,"nzHideDisabledOptions",void 0),c([o.WithConfig("timePicker",!0),o.InputBoolean(),d("design:type",Boolean)],e.prototype,"nzAllowEmpty",void 0),c([o.InputBoolean(),d("design:type",Object)],e.prototype,"nzDisabled",void 0),c([o.InputBoolean(),d("design:type",Object)],e.prototype,"nzAutoFocus",void 0),e}(),j=function(){function e(){}return e.ɵmod=n.ɵɵdefineNgModule({type:e}),e.ɵinj=n.ɵɵdefineInjector({factory:function(t){return new(t||e)},imports:[[l.CommonModule,i.FormsModule,s.NzI18nModule,t.OverlayModule,r.NzIconModule,o.NzOverlayModule]]}),e}();("undefined"==typeof ngJitMode||ngJitMode)&&n.ɵɵsetNgModuleScope(j,{declarations:[R,T,h],imports:[l.CommonModule,i.FormsModule,s.NzI18nModule,t.OverlayModule,r.NzIconModule,o.NzOverlayModule],exports:[T,R]}),e.NzTimePickerComponent=R,e.NzTimePickerModule=j,e.NzTimePickerPanelComponent=T,e.NzTimeValueAccessorDirective=h,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ng-zorro-antd-time-picker.umd.min.js.map