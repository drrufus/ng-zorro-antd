!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("ng-zorro-antd/core"),require("@angular/cdk/overlay"),require("@angular/core"),require("rxjs"),require("@angular/common"),require("ng-zorro-antd/icon"),require("@angular/cdk/bidi"),require("@angular/cdk/scrolling")):"function"==typeof define&&define.amd?define("ng-zorro-antd/message",["exports","ng-zorro-antd/core","@angular/cdk/overlay","@angular/core","rxjs","@angular/common","ng-zorro-antd/icon","@angular/cdk/bidi","@angular/cdk/scrolling"],t):t(((e=e||self)["ng-zorro-antd"]=e["ng-zorro-antd"]||{},e["ng-zorro-antd"].message={}),e["ng-zorro-antd"].core,e.ng.cdk.overlay,e.ng.core,e.rxjs,e.ng.common,e["ng-zorro-antd"].icon,e.ng.cdk.bidi,e.ng.cdk.scrolling)}(this,(function(e,t,n,i,o,r,s,a,c){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var p=function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var g=function(){return(g=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};
/**
     * @license
     * Copyright Alibaba.com All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE
     */
var u=0,l=function(){function e(e,t,n,i,o,r,s){void 0===s&&(s=""),this.nzSingletonService=e,this.overlay=t,this.containerClass=n,this.injector=i,this.cfr=o,this.appRef=r,this.name=s,this._container=this.withContainer(),this.nzSingletonService.registerSingletonWithKey(this.name,this._container)}return e.prototype.remove=function(e){e?this._container.removeMessage(e):this._container.removeMessageAll()},e.prototype.createMessage=function(e,t){var n=g(g({},e),{createdAt:new Date,messageId:this._generateMessageId(),options:t});return this._container.createMessage(n),n},e.prototype.config=function(e){t.warnDeprecation("'config' of 'NzMessageService' and 'NzNotificationService' is deprecated and will be removed in 9.0.0. Please use 'set' of 'NzConfigService' instead."),this._container.setConfig(e)},e.prototype._generateMessageId=function(){return this.name+"-"+u++},e.prototype.withContainer=function(){var e=this.nzSingletonService.getSingletonWithKey(this.name);if(e)return e;var t=this.cfr.resolveComponentFactory(this.containerClass).create(this.injector);t.changeDetectorRef.detectChanges(),this.appRef.attachView(t.hostView);var n=this.overlay.create().overlayElement;return n.style.zIndex="1010",n.appendChild(t.hostView.rootNodes[0]),t.instance},e}(),d=new i.InjectionToken("NZ_MESSAGE_DEFAULT_CONFIG"),h=new i.InjectionToken("NZ_MESSAGE_CONFIG"),f={provide:d,useValue:{nzAnimate:!0,nzDuration:3e3,nzMaxStack:7,nzPauseOnHover:!0,nzTop:24}};function m(e,t){if(1&e&&i.ɵɵelement(0,"nz-message",2),2&e){var n=t.$implicit,o=t.index;i.ɵɵproperty("nzMessage",n)("nzIndex",o)}}var z=function(){function e(e,n,i,o){this.cdr=e,this.nzConfigService=n,this.messages=[],o&&t.warnDeprecation("Injection token 'NZ_MESSAGE_CONFIG' is deprecated and will be removed in 9.0.0. Please use 'NzConfigService' instead."),this.setConfig(g(g({},i),o))}return e.prototype.ngOnInit=function(){this.subscribeConfigChange()},e.prototype.setConfig=function(e){this.config=this.mergeMessageConfig(e),this.top=t.toCssPixel(this.config.nzTop),this.cdr.markForCheck()},e.prototype.createMessage=function(e){this.messages.length>=this.config.nzMaxStack&&this.messages.splice(0,1),e.options=this._mergeMessageOptions(e.options),e.onClose=new o.Subject,this.messages.push(e),this.cdr.detectChanges()},e.prototype.removeMessage=function(e,t){var n=this;void 0===t&&(t=!1),this.messages.some((function(i,o){return i.messageId===e&&(n.messages.splice(o,1),n.cdr.detectChanges(),i.onClose.next(t),i.onClose.complete(),!0)}))},e.prototype.removeMessageAll=function(){this.messages=[],this.cdr.detectChanges()},e.prototype.subscribeConfigChange=function(){var e=this;this.nzConfigService.getConfigChangeEventForComponent("message").subscribe((function(){return e.setConfig()}))},e.prototype.mergeMessageConfig=function(e){return g(g(g({},this.config),e),this.nzConfigService.getConfigForComponent("message"))},e.prototype._mergeMessageOptions=function(e){var t={nzDuration:this.config.nzDuration,nzAnimate:this.config.nzAnimate,nzPauseOnHover:this.config.nzPauseOnHover};return g(g({},t),e)},e.ɵfac=function(n){return new(n||e)(i.ɵɵdirectiveInject(i.ChangeDetectorRef),i.ɵɵdirectiveInject(t.NzConfigService),i.ɵɵdirectiveInject(d,8),i.ɵɵdirectiveInject(h,8))},e.ɵcmp=i.ɵɵdefineComponent({type:e,selectors:[["nz-message-container"]],exportAs:["nzMessageContainer"],decls:2,vars:2,consts:[[1,"ant-message"],[3,"nzMessage","nzIndex",4,"ngFor","ngForOf"],[3,"nzMessage","nzIndex"]],template:function(e,t){1&e&&(i.ɵɵelementStart(0,"div",0),i.ɵɵtemplate(1,m,1,2,"nz-message",1),i.ɵɵelementEnd()),2&e&&(i.ɵɵstyleProp("top",t.top),i.ɵɵadvance(1),i.ɵɵproperty("ngForOf",t.messages))},encapsulation:2,changeDetection:0}),e}(),v=function(){function e(){}return e.ɵmod=i.ɵɵdefineNgModule({type:e}),e.ɵinj=i.ɵɵdefineInjector({factory:function(t){return new(t||e)}}),e}(),y=function(e){function o(t,n,i,o,r){return e.call(this,t,n,z,i,o,r,"message")||this}return function(e,t){function n(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(o,e),o.prototype.success=function(e,t){return this.createMessage({type:"success",content:e},t)},o.prototype.error=function(e,t){return this.createMessage({type:"error",content:e},t)},o.prototype.info=function(e,t){return this.createMessage({type:"info",content:e},t)},o.prototype.warning=function(e,t){return this.createMessage({type:"warning",content:e},t)},o.prototype.loading=function(e,t){return this.createMessage({type:"loading",content:e},t)},o.prototype.create=function(e,t,n){return this.createMessage({type:e,content:t},n)},o.ɵfac=function(e){return new(e||o)(i.ɵɵinject(t.NzSingletonService),i.ɵɵinject(n.Overlay),i.ɵɵinject(i.Injector),i.ɵɵinject(i.ComponentFactoryResolver),i.ɵɵinject(i.ApplicationRef))},o.ɵprov=i.ɵɵdefineInjectable({token:o,factory:o.ɵfac,providedIn:v}),o}(l);
/**
     * @license
     * Copyright Alibaba.com All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE
     */
function C(e,t){1&e&&i.ɵɵelement(0,"i",10)}function _(e,t){1&e&&i.ɵɵelement(0,"i",11)}function S(e,t){1&e&&i.ɵɵelement(0,"i",12)}function M(e,t){1&e&&i.ɵɵelement(0,"i",13)}function T(e,t){1&e&&i.ɵɵelement(0,"i",14)}function N(e,t){if(1&e&&(i.ɵɵelementContainerStart(0),i.ɵɵelement(1,"span",15),i.ɵɵelementContainerEnd()),2&e){var n=i.ɵɵnextContext();i.ɵɵadvance(1),i.ɵɵproperty("innerHTML",n.nzMessage.content,i.ɵɵsanitizeHtml)}}var w=function(){function e(e,t){this._messageContainer=e,this.cdr=t,this._eraseTimer=null}return e.prototype.ngOnInit=function(){this._options=this.nzMessage.options,this._options.nzAnimate&&(this.nzMessage.state="enter"),this._autoErase=this._options.nzDuration>0,this._autoErase&&(this._initErase(),this._startEraseTimeout())},e.prototype.ngOnDestroy=function(){this._autoErase&&this._clearEraseTimeout()},e.prototype.onEnter=function(){this._autoErase&&this._options.nzPauseOnHover&&(this._clearEraseTimeout(),this._updateTTL())},e.prototype.onLeave=function(){this._autoErase&&this._options.nzPauseOnHover&&this._startEraseTimeout()},e.prototype._destroy=function(e){var t=this;void 0===e&&(e=!1),this._options.nzAnimate?(this.nzMessage.state="leave",this.cdr.detectChanges(),setTimeout((function(){return t._messageContainer.removeMessage(t.nzMessage.messageId,e)}),200)):this._messageContainer.removeMessage(this.nzMessage.messageId,e)},e.prototype._initErase=function(){this._eraseTTL=this._options.nzDuration,this._eraseTimingStart=Date.now()},e.prototype._updateTTL=function(){this._autoErase&&(this._eraseTTL-=Date.now()-this._eraseTimingStart)},e.prototype._startEraseTimeout=function(){var e=this;this._eraseTTL>0?(this._clearEraseTimeout(),this._eraseTimer=setTimeout((function(){return e._destroy()}),this._eraseTTL),this._eraseTimingStart=Date.now()):this._destroy()},e.prototype._clearEraseTimeout=function(){null!==this._eraseTimer&&(clearTimeout(this._eraseTimer),this._eraseTimer=null)},e.ɵfac=function(t){return new(t||e)(i.ɵɵdirectiveInject(z),i.ɵɵdirectiveInject(i.ChangeDetectorRef))},e.ɵcmp=i.ɵɵdefineComponent({type:e,selectors:[["nz-message"]],inputs:{nzMessage:"nzMessage",nzIndex:"nzIndex"},exportAs:["nzMessage"],decls:10,vars:9,consts:[[1,"ant-message-notice",3,"mouseenter","mouseleave"],[1,"ant-message-notice-content"],[1,"ant-message-custom-content",3,"ngClass"],[3,"ngSwitch"],["nz-icon","","nzType","check-circle",4,"ngSwitchCase"],["nz-icon","","nzType","info-circle",4,"ngSwitchCase"],["nz-icon","","nzType","exclamation-circle",4,"ngSwitchCase"],["nz-icon","","nzType","close-circle",4,"ngSwitchCase"],["nz-icon","","nzType","loading",4,"ngSwitchCase"],[4,"nzStringTemplateOutlet"],["nz-icon","","nzType","check-circle"],["nz-icon","","nzType","info-circle"],["nz-icon","","nzType","exclamation-circle"],["nz-icon","","nzType","close-circle"],["nz-icon","","nzType","loading"],[3,"innerHTML"]],template:function(e,t){1&e&&(i.ɵɵelementStart(0,"div",0),i.ɵɵlistener("mouseenter",(function(e){return t.onEnter()}))("mouseleave",(function(e){return t.onLeave()})),i.ɵɵelementStart(1,"div",1),i.ɵɵelementStart(2,"div",2),i.ɵɵelementContainerStart(3,3),i.ɵɵtemplate(4,C,1,0,"i",4),i.ɵɵtemplate(5,_,1,0,"i",5),i.ɵɵtemplate(6,S,1,0,"i",6),i.ɵɵtemplate(7,M,1,0,"i",7),i.ɵɵtemplate(8,T,1,0,"i",8),i.ɵɵelementContainerEnd(),i.ɵɵtemplate(9,N,2,1,"ng-container",9),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd()),2&e&&(i.ɵɵproperty("@moveUpMotion",t.nzMessage.state),i.ɵɵadvance(2),i.ɵɵproperty("ngClass","ant-message-"+t.nzMessage.type),i.ɵɵadvance(1),i.ɵɵproperty("ngSwitch",t.nzMessage.type),i.ɵɵadvance(1),i.ɵɵproperty("ngSwitchCase","success"),i.ɵɵadvance(1),i.ɵɵproperty("ngSwitchCase","info"),i.ɵɵadvance(1),i.ɵɵproperty("ngSwitchCase","warning"),i.ɵɵadvance(1),i.ɵɵproperty("ngSwitchCase","error"),i.ɵɵadvance(1),i.ɵɵproperty("ngSwitchCase","loading"),i.ɵɵadvance(1),i.ɵɵproperty("nzStringTemplateOutlet",t.nzMessage.content))},directives:[r.NgClass,r.NgSwitch,r.NgSwitchCase,t.NzStringTemplateOutletDirective,s.NzIconDirective],encapsulation:2,data:{animation:[t.moveUpMotion]},changeDetection:0}),e}(),O=function(){function e(){}return e.ɵmod=i.ɵɵdefineNgModule({type:e}),e.ɵinj=i.ɵɵdefineInjector({factory:function(t){return new(t||e)},providers:[f],imports:[[r.CommonModule,n.OverlayModule,s.NzIconModule,t.NzAddOnModule,v]]}),e}();("undefined"==typeof ngJitMode||ngJitMode)&&i.ɵɵsetNgModuleScope(O,{declarations:[z,w],imports:[r.CommonModule,n.OverlayModule,s.NzIconModule,t.NzAddOnModule,v]}),i.ɵɵsetComponentScope(z,[z,w,r.NgClass,r.NgComponentOutlet,r.NgForOf,r.NgIf,r.NgTemplateOutlet,r.NgStyle,r.NgSwitch,r.NgSwitchCase,r.NgSwitchDefault,r.NgPlural,r.NgPluralCase,n.CdkConnectedOverlay,n.CdkOverlayOrigin,a.Dir,c.CdkFixedSizeVirtualScroll,c.CdkScrollable,c.CdkVirtualForOf,c.CdkVirtualScrollViewport,s.NzIconDirective,t.NzStringTemplateOutletDirective,t.NzClassListAddDirective],[r.AsyncPipe,r.UpperCasePipe,r.LowerCasePipe,r.JsonPipe,r.SlicePipe,r.DecimalPipe,r.PercentPipe,r.TitleCasePipe,r.CurrencyPipe,r.DatePipe,r.I18nPluralPipe,r.I18nSelectPipe,r.KeyValuePipe]),e.NZ_MESSAGE_CONFIG=h,e.NZ_MESSAGE_DEFAULT_CONFIG=d,e.NZ_MESSAGE_DEFAULT_CONFIG_PROVIDER=f,e.NzMessageBaseService=l,e.NzMessageComponent=w,e.NzMessageContainerComponent=z,e.NzMessageModule=O,e.NzMessageService=y,e.NzMessageServiceModule=v,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ng-zorro-antd-message.umd.min.js.map