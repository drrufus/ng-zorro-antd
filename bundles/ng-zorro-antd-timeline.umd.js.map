{"version":3,"file":"ng-zorro-antd-timeline.umd.js","sources":["ng:/ng-zorro-antd/timeline/nz-timeline-item.component.ts","ng:/ng-zorro-antd/timeline/nz-timeline.component.ts","ng:/ng-zorro-antd/timeline/nz-timeline.module.ts"],"names":["Component","ChangeDetectionStrategy","ViewEncapsulation","Renderer2","ChangeDetectorRef","ViewChild","Input","Subject","takeUntil","reverseChildNodes","Platform","ContentChildren","ContentChild","NgModule","CommonModule","PlatformModule","NzIconModule","NzAddOnModule"],"mappings":"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","sourcesContent":["/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  Input,\r\n  OnChanges,\r\n  OnInit,\r\n  Renderer2,\r\n  SimpleChanges,\r\n  TemplateRef,\r\n  ViewChild,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { NzTimelineMode } from './nz-timeline.component';\r\n\r\nexport type NzTimelineItemColor = 'red' | 'blue' | 'green' | 'gray' | string;\r\n\r\n@Component({\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  preserveWhitespaces: false,\r\n  selector: 'nz-timeline-item, [nz-timeline-item]',\r\n  exportAs: 'nzTimelineItem',\r\n  templateUrl: './nz-timeline-item.component.html'\r\n})\r\nexport class NzTimelineItemComponent implements OnInit, OnChanges {\r\n  @ViewChild('liTemplate', { static: true }) liTemplate: ElementRef;\r\n  @Input() nzColor: NzTimelineItemColor = 'blue';\r\n  @Input() nzDot: string | TemplateRef<void>;\r\n\r\n  isLast = false;\r\n  position: NzTimelineMode | undefined;\r\n\r\n  constructor(private renderer: Renderer2, private cdr: ChangeDetectorRef) {}\r\n\r\n  ngOnInit(): void {\r\n    this.tryUpdateCustomColor();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.nzColor) {\r\n      this.tryUpdateCustomColor();\r\n    }\r\n  }\r\n\r\n  detectChanges(): void {\r\n    this.cdr.detectChanges();\r\n  }\r\n\r\n  private tryUpdateCustomColor(): void {\r\n    const defaultColors = ['blue', 'red', 'green', 'gray'];\r\n    const circle = this.liTemplate.nativeElement.querySelector('.ant-timeline-item-head');\r\n    if (defaultColors.indexOf(this.nzColor) === -1) {\r\n      this.renderer.setStyle(circle, 'border-color', this.nzColor);\r\n    } else {\r\n      this.renderer.removeStyle(circle, 'border-color');\r\n    }\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { Platform } from '@angular/cdk/platform';\r\nimport {\r\n  AfterContentInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ContentChild,\r\n  ContentChildren,\r\n  ElementRef,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  QueryList,\r\n  SimpleChanges,\r\n  TemplateRef,\r\n  ViewChild,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { reverseChildNodes } from 'ng-zorro-antd/core';\r\n\r\nimport { NzTimelineItemComponent } from './nz-timeline-item.component';\r\n\r\nexport type NzTimelineMode = 'left' | 'alternate' | 'right';\r\n\r\n@Component({\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  preserveWhitespaces: false,\r\n  selector: 'nz-timeline',\r\n  exportAs: 'nzTimeline',\r\n  templateUrl: './nz-timeline.component.html'\r\n})\r\nexport class NzTimelineComponent implements AfterContentInit, OnChanges, OnDestroy {\r\n  @ViewChild('timeline', { static: false }) timeline: ElementRef<HTMLElement>;\r\n  @ContentChildren(NzTimelineItemComponent) listOfTimeLine: QueryList<NzTimelineItemComponent>;\r\n  @ContentChild('pending', { static: false }) _pendingContent: TemplateRef<void>;\r\n\r\n  @Input() nzMode: NzTimelineMode;\r\n  @Input() nzPending: string | boolean | TemplateRef<void>;\r\n  @Input() nzPendingDot: string | TemplateRef<void>;\r\n  @Input() nzReverse: boolean = false;\r\n\r\n  isPendingBoolean: boolean = false;\r\n\r\n  private destroy$ = new Subject<void>();\r\n\r\n  constructor(private cdr: ChangeDetectorRef, private platform: Platform) {}\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    const modeChanges = changes.nzMode;\r\n    const reverseChanges = changes.nzReverse;\r\n    const pendingChanges = changes.nzPending;\r\n\r\n    if (modeChanges && (modeChanges.previousValue !== modeChanges.currentValue || modeChanges.isFirstChange())) {\r\n      this.updateChildren();\r\n    }\r\n    if (\r\n      reverseChanges &&\r\n      reverseChanges.previousValue !== reverseChanges.currentValue &&\r\n      !reverseChanges.isFirstChange()\r\n    ) {\r\n      this.reverseChildTimelineDots();\r\n    }\r\n    if (pendingChanges) {\r\n      this.isPendingBoolean = pendingChanges.currentValue === true;\r\n    }\r\n  }\r\n\r\n  ngAfterContentInit(): void {\r\n    this.updateChildren();\r\n    if (this.listOfTimeLine) {\r\n      this.listOfTimeLine.changes.pipe(takeUntil(this.destroy$)).subscribe(() => {\r\n        this.updateChildren();\r\n      });\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  private updateChildren(): void {\r\n    if (this.listOfTimeLine && this.listOfTimeLine.length) {\r\n      const length = this.listOfTimeLine.length;\r\n      this.listOfTimeLine.toArray().forEach((item, index) => {\r\n        item.isLast = !this.nzReverse ? index === length - 1 : index === 0;\r\n        item.position =\r\n          this.nzMode === 'left' || !this.nzMode\r\n            ? undefined\r\n            : this.nzMode === 'right'\r\n            ? 'right'\r\n            : this.nzMode === 'alternate' && index % 2 === 0\r\n            ? 'left'\r\n            : 'right';\r\n        item.detectChanges();\r\n      });\r\n      this.cdr.markForCheck();\r\n    }\r\n  }\r\n\r\n  private reverseChildTimelineDots(): void {\r\n    if (this.platform.isBrowser) {\r\n      reverseChildNodes(this.timeline.nativeElement as HTMLElement);\r\n      this.updateChildren();\r\n    }\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\nimport { PlatformModule } from '@angular/cdk/platform';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { NzAddOnModule } from 'ng-zorro-antd/core';\r\nimport { NzIconModule } from 'ng-zorro-antd/icon';\r\n\r\nimport { NzTimelineItemComponent } from './nz-timeline-item.component';\r\nimport { NzTimelineComponent } from './nz-timeline.component';\r\n\r\n@NgModule({\r\n  declarations: [NzTimelineItemComponent, NzTimelineComponent],\r\n  exports: [NzTimelineItemComponent, NzTimelineComponent],\r\n  imports: [CommonModule, PlatformModule, NzIconModule, NzAddOnModule]\r\n})\r\nexport class NzTimelineModule {}\r\n"]}