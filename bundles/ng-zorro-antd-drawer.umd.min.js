!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/cdk/keycodes"),require("@angular/common"),require("@angular/core"),require("@angular/cdk/a11y"),require("@angular/cdk/overlay"),require("@angular/cdk/portal"),require("rxjs"),require("ng-zorro-antd/core"),require("rxjs/operators"),require("ng-zorro-antd/icon")):"function"==typeof define&&define.amd?define("ng-zorro-antd/drawer",["exports","@angular/cdk/keycodes","@angular/common","@angular/core","@angular/cdk/a11y","@angular/cdk/overlay","@angular/cdk/portal","rxjs","ng-zorro-antd/core","rxjs/operators","ng-zorro-antd/icon"],t):t(((e=e||self)["ng-zorro-antd"]=e["ng-zorro-antd"]||{},e["ng-zorro-antd"].drawer={}),e.ng.cdk.keycodes,e.ng.common,e.ng.core,e.ng.cdk.a11y,e.ng.cdk.overlay,e.ng.cdk.portal,e.rxjs,e["ng-zorro-antd"].core,e.rxjs.operators,e["ng-zorro-antd"].icon)}(this,(function(e,t,n,r,o,i,a,s,l,c,u){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var p=function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function f(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function d(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}
/**
     * @license
     * Copyright Alibaba.com All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE
     */
var y=function(){},h=["drawerTemplate"];function m(e,t){if(1&e){var n=r.ɵɵgetCurrentView();r.ɵɵelementStart(0,"div",9),r.ɵɵlistener("click",(function(e){return r.ɵɵrestoreView(n),r.ɵɵnextContext(2).maskClick()})),r.ɵɵelementEnd()}if(2&e){var o=r.ɵɵnextContext(2);r.ɵɵproperty("ngStyle",o.nzMaskStyle)}}function v(e,t){if(1&e&&(r.ɵɵelementContainerStart(0),r.ɵɵelement(1,"div",14),r.ɵɵelementContainerEnd()),2&e){var n=r.ɵɵnextContext(4);r.ɵɵadvance(1),r.ɵɵproperty("innerHTML",n.nzTitle,r.ɵɵsanitizeHtml)}}function g(e,t){if(1&e&&(r.ɵɵelementStart(0,"div",12),r.ɵɵtemplate(1,v,2,1,"ng-container",13),r.ɵɵelementEnd()),2&e){var n=r.ɵɵnextContext(3);r.ɵɵadvance(1),r.ɵɵproperty("nzStringTemplateOutlet",n.nzTitle)}}function z(e,t){if(1&e){var n=r.ɵɵgetCurrentView();r.ɵɵelementStart(0,"button",15),r.ɵɵlistener("click",(function(e){return r.ɵɵrestoreView(n),r.ɵɵnextContext(3).closeClick()})),r.ɵɵelement(1,"i",16),r.ɵɵelementEnd()}}function O(e,t){if(1&e&&(r.ɵɵelementStart(0,"div"),r.ɵɵtemplate(1,g,2,1,"div",10),r.ɵɵtemplate(2,z,2,0,"button",11),r.ɵɵelementEnd()),2&e){var n=r.ɵɵnextContext(2);r.ɵɵclassProp("ant-drawer-header",!!n.nzTitle)("ant-drawer-header-no-title",!!n.nzTitle),r.ɵɵadvance(1),r.ɵɵproperty("ngIf",n.nzTitle),r.ɵɵadvance(1),r.ɵɵproperty("ngIf",n.nzClosable)}}function b(e,t){}function w(e,t){1&e&&r.ɵɵelementContainer(0)}function C(e,t){if(1&e&&(r.ɵɵelementContainerStart(0),r.ɵɵtemplate(1,w,1,0,"ng-container",17),r.ɵɵelementContainerEnd()),2&e){var n=r.ɵɵnextContext(2);r.ɵɵadvance(1),r.ɵɵproperty("ngTemplateOutlet",n.nzContent)("ngTemplateOutletContext",n.templateContext)}}function R(e,t){1&e&&r.ɵɵprojection(0,0,["*ngIf","!nzContent"])}function I(e,t){if(1&e&&(r.ɵɵelementStart(0,"div",1),r.ɵɵtemplate(1,m,1,1,"div",2),r.ɵɵelementStart(2,"div"),r.ɵɵelementStart(3,"div",3),r.ɵɵelementStart(4,"div",4),r.ɵɵtemplate(5,O,3,4,"div",5),r.ɵɵelementStart(6,"div",6),r.ɵɵtemplate(7,b,0,0,"ng-template",7),r.ɵɵtemplate(8,C,2,2,"ng-container",8),r.ɵɵtemplate(9,R,1,0,void 0,8),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd()),2&e){var n=r.ɵɵnextContext();r.ɵɵstyleProp("transform",n.offsetTransform)("z-index",n.nzZIndex),r.ɵɵclassProp("ant-drawer-open",n.isOpen)("ant-drawer-top","top"===n.nzPlacement)("ant-drawer-bottom","bottom"===n.nzPlacement)("ant-drawer-right","right"===n.nzPlacement)("ant-drawer-left","left"===n.nzPlacement),r.ɵɵproperty("nzNoAnimation",n.nzNoAnimation),r.ɵɵadvance(1),r.ɵɵproperty("ngIf",n.nzMask),r.ɵɵadvance(1),r.ɵɵclassMapInterpolate1("ant-drawer-content-wrapper ",n.nzWrapClassName,""),r.ɵɵstyleProp("width",n.width)("height",n.height)("transform",n.transform),r.ɵɵadvance(2),r.ɵɵstyleProp("height",n.isLeftOrRight?"100%":null),r.ɵɵadvance(1),r.ɵɵproperty("ngIf",n.nzTitle||n.nzClosable),r.ɵɵadvance(1),r.ɵɵproperty("ngStyle",n.nzBodyStyle),r.ɵɵadvance(2),r.ɵɵproperty("ngIf",n.isTemplateRef(n.nzContent)),r.ɵɵadvance(1),r.ɵɵproperty("ngIf",!n.nzContent)}}var j=["*"],P=function(e){function m(t,n,o,i,a,l,c,u,p){var f=e.call(this)||this;return f.document=t,f.nzConfigService=n,f.renderer=o,f.overlay=i,f.injector=a,f.changeDetectorRef=l,f.focusTrapFactory=c,f.viewContainerRef=u,f.overlayKeyboardDispatcher=p,f.nzClosable=!0,f.nzNoAnimation=!1,f.nzKeyboard=!0,f.nzPlacement="right",f.nzMaskStyle={},f.nzBodyStyle={},f.nzWidth=256,f.nzHeight=256,f.nzZIndex=1e3,f.nzOffsetX=0,f.nzOffsetY=0,f.nzOnViewInit=new r.EventEmitter,f.nzOnClose=new r.EventEmitter,f.destroy$=new s.Subject,f.isOpen=!1,f.templateContext={$implicit:void 0,drawerRef:f},f.nzAfterOpen=new s.Subject,f.nzAfterClose=new s.Subject,f}return function(e,t){function n(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(m,e),Object.defineProperty(m.prototype,"nzVisible",{get:function(){return this.isOpen},set:function(e){this.isOpen=e},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"offsetTransform",{get:function(){if(!this.isOpen||this.nzOffsetX+this.nzOffsetY===0)return null;switch(this.nzPlacement){case"left":return"translateX("+this.nzOffsetX+"px)";case"right":return"translateX(-"+this.nzOffsetX+"px)";case"top":return"translateY("+this.nzOffsetY+"px)";case"bottom":return"translateY(-"+this.nzOffsetY+"px)"}},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"transform",{get:function(){if(this.isOpen)return null;switch(this.nzPlacement){case"left":return"translateX(-100%)";case"right":return"translateX(100%)";case"top":return"translateY(-100%)";case"bottom":return"translateY(100%)"}},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"width",{get:function(){return this.isLeftOrRight?l.toCssPixel(this.nzWidth):null},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"height",{get:function(){return this.isLeftOrRight?null:l.toCssPixel(this.nzHeight)},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"isLeftOrRight",{get:function(){return"left"===this.nzPlacement||"right"===this.nzPlacement},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"afterOpen",{get:function(){return this.nzAfterOpen.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"afterClose",{get:function(){return this.nzAfterClose.asObservable()},enumerable:!0,configurable:!0}),m.prototype.isTemplateRef=function(e){return e instanceof r.TemplateRef},m.prototype.ngOnInit=function(){this.attachOverlay(),this.updateOverlayStyle(),this.updateBodyOverflow(),this.templateContext={$implicit:this.nzContentParams,drawerRef:this},this.changeDetectorRef.detectChanges()},m.prototype.ngAfterViewInit=function(){var e=this;this.attachBodyContent(),setTimeout((function(){e.nzOnViewInit.emit()}))},m.prototype.ngOnChanges=function(e){e.hasOwnProperty("nzVisible")&&(e.nzVisible.currentValue?this.open():this.close())},m.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete(),this.disposeOverlay()},m.prototype.getAnimationDuration=function(){return this.nzNoAnimation?0:300},m.prototype.close=function(e){var t=this;this.isOpen=!1,this.updateOverlayStyle(),this.overlayKeyboardDispatcher.remove(this.overlayRef),this.changeDetectorRef.detectChanges(),setTimeout((function(){t.updateBodyOverflow(),t.restoreFocus(),t.nzAfterClose.next(e),t.nzAfterClose.complete()}),this.getAnimationDuration())},m.prototype.open=function(){var e=this;this.isOpen=!0,this.overlayKeyboardDispatcher.add(this.overlayRef),this.updateOverlayStyle(),this.updateBodyOverflow(),this.savePreviouslyFocusedElement(),this.trapFocus(),this.changeDetectorRef.detectChanges(),setTimeout((function(){e.nzAfterOpen.next()}),this.getAnimationDuration())},m.prototype.closeClick=function(){this.nzOnClose.emit()},m.prototype.maskClick=function(){this.nzMaskClosable&&this.nzMask&&this.nzOnClose.emit()},m.prototype.attachBodyContent=function(){if(this.bodyPortalOutlet.dispose(),this.nzContent instanceof r.Type){var e=new a.PortalInjector(this.injector,new WeakMap([[y,this]])),t=new a.ComponentPortal(this.nzContent,null,e),n=this.bodyPortalOutlet.attachComponentPortal(t);Object.assign(n.instance,this.nzContentParams),n.changeDetectorRef.detectChanges()}},m.prototype.attachOverlay=function(){var e=this;this.overlayRef||(this.portal=new a.TemplatePortal(this.drawerTemplate,this.viewContainerRef),this.overlayRef=this.overlay.create(this.getOverlayConfig())),this.overlayRef&&!this.overlayRef.hasAttached()&&(this.overlayRef.attach(this.portal),this.overlayRef.keydownEvents().pipe(c.takeUntil(this.destroy$)).subscribe((function(n){n.keyCode===t.ESCAPE&&e.isOpen&&e.nzKeyboard&&e.nzOnClose.emit()})))},m.prototype.disposeOverlay=function(){this.overlayRef&&this.overlayRef.dispose(),this.overlayRef=null},m.prototype.getOverlayConfig=function(){return new i.OverlayConfig({positionStrategy:this.overlay.position().global(),scrollStrategy:this.overlay.scrollStrategies.block()})},m.prototype.updateOverlayStyle=function(){this.overlayRef&&this.overlayRef.overlayElement&&this.renderer.setStyle(this.overlayRef.overlayElement,"pointer-events",this.isOpen?"auto":"none")},m.prototype.updateBodyOverflow=function(){this.overlayRef&&(this.isOpen?this.overlayRef.getConfig().scrollStrategy.enable():this.overlayRef.getConfig().scrollStrategy.disable())},m.prototype.savePreviouslyFocusedElement=function(){this.document&&!this.previouslyFocusedElement&&(this.previouslyFocusedElement=this.document.activeElement,this.previouslyFocusedElement&&"function"==typeof this.previouslyFocusedElement.blur&&this.previouslyFocusedElement.blur())},m.prototype.trapFocus=function(){!this.focusTrap&&this.overlayRef&&this.overlayRef.overlayElement&&(this.focusTrap=this.focusTrapFactory.create(this.overlayRef.overlayElement),this.focusTrap.focusInitialElement())},m.prototype.restoreFocus=function(){this.previouslyFocusedElement&&"function"==typeof this.previouslyFocusedElement.focus&&this.previouslyFocusedElement.focus(),this.focusTrap&&this.focusTrap.destroy()},m.ɵfac=function(e){return new(e||m)(r.ɵɵdirectiveInject(n.DOCUMENT,8),r.ɵɵdirectiveInject(l.NzConfigService),r.ɵɵdirectiveInject(r.Renderer2),r.ɵɵdirectiveInject(i.Overlay),r.ɵɵdirectiveInject(r.Injector),r.ɵɵdirectiveInject(r.ChangeDetectorRef),r.ɵɵdirectiveInject(o.FocusTrapFactory),r.ɵɵdirectiveInject(r.ViewContainerRef),r.ɵɵdirectiveInject(i.OverlayKeyboardDispatcher))},m.ɵcmp=r.ɵɵdefineComponent({type:m,selectors:[["nz-drawer"]],viewQuery:function(e,t){var n;(1&e&&(r.ɵɵstaticViewQuery(h,!0),r.ɵɵviewQuery(a.CdkPortalOutlet,!0)),2&e)&&(r.ɵɵqueryRefresh(n=r.ɵɵloadQuery())&&(t.drawerTemplate=n.first),r.ɵɵqueryRefresh(n=r.ɵɵloadQuery())&&(t.bodyPortalOutlet=n.first))},inputs:{nzContent:"nzContent",nzClosable:"nzClosable",nzMaskClosable:"nzMaskClosable",nzMask:"nzMask",nzNoAnimation:"nzNoAnimation",nzKeyboard:"nzKeyboard",nzTitle:"nzTitle",nzPlacement:"nzPlacement",nzMaskStyle:"nzMaskStyle",nzBodyStyle:"nzBodyStyle",nzWrapClassName:"nzWrapClassName",nzWidth:"nzWidth",nzHeight:"nzHeight",nzZIndex:"nzZIndex",nzOffsetX:"nzOffsetX",nzOffsetY:"nzOffsetY",nzVisible:"nzVisible"},outputs:{nzOnViewInit:"nzOnViewInit",nzOnClose:"nzOnClose"},exportAs:["nzDrawer"],features:[r.ɵɵInheritDefinitionFeature,r.ɵɵNgOnChangesFeature()],ngContentSelectors:j,decls:2,vars:0,consts:[["drawerTemplate",""],[1,"ant-drawer",3,"nzNoAnimation"],["class","ant-drawer-mask",3,"ngStyle","click",4,"ngIf"],[1,"ant-drawer-content"],[1,"ant-drawer-wrapper-body"],[3,"ant-drawer-header","ant-drawer-header-no-title",4,"ngIf"],[1,"ant-drawer-body",3,"ngStyle"],["cdkPortalOutlet",""],[4,"ngIf"],[1,"ant-drawer-mask",3,"ngStyle","click"],["class","ant-drawer-title",4,"ngIf"],["aria-label","Close","class","ant-drawer-close",3,"click",4,"ngIf"],[1,"ant-drawer-title"],[4,"nzStringTemplateOutlet"],[3,"innerHTML"],["aria-label","Close",1,"ant-drawer-close",3,"click"],["nz-icon","","nzType","close"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(r.ɵɵprojectionDef(),r.ɵɵtemplate(0,I,10,20,"ng-template",null,0,r.ɵɵtemplateRefExtractor))},directives:[l.NzNoAnimationDirective,n.NgIf,n.NgStyle,a.CdkPortalOutlet,l.NzStringTemplateOutletDirective,u.NzIconDirective,n.NgTemplateOutlet],encapsulation:2,changeDetection:0}),f([l.InputBoolean(),d("design:type",Boolean)],m.prototype,"nzClosable",void 0),f([l.WithConfig("drawer",!0),l.InputBoolean(),d("design:type",Boolean)],m.prototype,"nzMaskClosable",void 0),f([l.WithConfig("drawer",!0),l.InputBoolean(),d("design:type",Boolean)],m.prototype,"nzMask",void 0),f([l.InputBoolean(),d("design:type",Object)],m.prototype,"nzNoAnimation",void 0),f([l.InputBoolean(),d("design:type",Boolean)],m.prototype,"nzKeyboard",void 0),m}(y),k=function(){function e(){}return e.ɵmod=r.ɵɵdefineNgModule({type:e}),e.ɵinj=r.ɵɵdefineInjector({factory:function(t){return new(t||e)}}),e}(),S=function(){function e(){}return e.ɵmod=r.ɵɵdefineNgModule({type:e}),e.ɵinj=r.ɵɵdefineInjector({factory:function(t){return new(t||e)},imports:[[n.CommonModule,i.OverlayModule,a.PortalModule,u.NzIconModule,l.NzAddOnModule,l.NzNoAnimationModule,k]]}),e}();("undefined"==typeof ngJitMode||ngJitMode)&&r.ɵɵsetNgModuleScope(S,{declarations:[P],imports:[n.CommonModule,i.OverlayModule,a.PortalModule,u.NzIconModule,l.NzAddOnModule,l.NzNoAnimationModule,k],exports:[P]});var x=function(){function e(e,t){var n=this;this.overlay=e,this.options=t,this.unsubscribe$=new s.Subject;var r=this.options,o=r.nzOnCancel,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(r,["nzOnCancel"]);this.createDrawer(),this.updateOptions(i),this.drawerRef.instance.savePreviouslyFocusedElement(),this.drawerRef.instance.nzOnViewInit.pipe(c.takeUntil(this.unsubscribe$)).subscribe((function(){n.drawerRef.instance.open()})),this.drawerRef.instance.nzOnClose.subscribe((function(){o?o().then((function(e){!1!==e&&n.drawerRef.instance.close()})):n.drawerRef.instance.close()})),this.drawerRef.instance.afterClose.pipe(c.takeUntil(this.unsubscribe$)).subscribe((function(){n.overlayRef.dispose(),n.drawerRef=null,n.unsubscribe$.next(),n.unsubscribe$.complete()}))}return e.prototype.getInstance=function(){return this.drawerRef&&this.drawerRef.instance},e.prototype.createDrawer=function(){this.overlayRef=this.overlay.create(),this.drawerRef=this.overlayRef.attach(new a.ComponentPortal(P))},e.prototype.updateOptions=function(e){Object.assign(this.drawerRef.instance,e)},e}(),T=function(){function e(e){this.overlay=e}return e.prototype.create=function(e){return new x(this.overlay,e).getInstance()},e.ɵfac=function(t){return new(t||e)(r.ɵɵinject(i.Overlay))},e.ɵprov=r.ɵɵdefineInjectable({token:e,factory:e.ɵfac,providedIn:k}),e}();e.DRAWER_ANIMATE_DURATION=300,e.DrawerBuilderForService=x,e.NzDrawerComponent=P,e.NzDrawerModule=S,e.NzDrawerRef=y,e.NzDrawerService=T,e.NzDrawerServiceModule=k,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ng-zorro-antd-drawer.umd.min.js.map