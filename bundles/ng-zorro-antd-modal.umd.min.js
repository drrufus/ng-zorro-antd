!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/cdk/a11y"),require("@angular/cdk/keycodes"),require("@angular/cdk/overlay"),require("@angular/common"),require("@angular/core"),require("rxjs"),require("rxjs/operators"),require("ng-zorro-antd/core"),require("ng-zorro-antd/i18n"),require("ng-zorro-antd/icon"),require("ng-zorro-antd/button"),require("@angular/cdk/portal")):"function"==typeof define&&define.amd?define("ng-zorro-antd/modal",["exports","@angular/cdk/a11y","@angular/cdk/keycodes","@angular/cdk/overlay","@angular/common","@angular/core","rxjs","rxjs/operators","ng-zorro-antd/core","ng-zorro-antd/i18n","ng-zorro-antd/icon","ng-zorro-antd/button","@angular/cdk/portal"],n):n(((e=e||self)["ng-zorro-antd"]=e["ng-zorro-antd"]||{},e["ng-zorro-antd"].modal={}),e.ng.cdk.a11y,e.ng.cdk.keycodes,e.ng.cdk.overlay,e.ng.common,e.ng.core,e.rxjs,e.rxjs.operators,e["ng-zorro-antd"].core,e["ng-zorro-antd"].i18n,e["ng-zorro-antd"].icon,e["ng-zorro-antd"].button,e.ng.cdk.portal)}(this,(function(e,n,t,o,i,r,a,l,s,c,p,d,u){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var f=function(e,n){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)};var m=function(){return(m=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e}).apply(this,arguments)};function y(e,n,t,o){var i,r=arguments.length,a=r<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,o);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(a=(r<3?i(a):r>3?i(n,t,a):i(n,t))||a);return r>3&&a&&Object.defineProperty(n,t,a),a}function C(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)}
/**
     * @license
     * Copyright Alibaba.com All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE
     */
var h=new r.InjectionToken("NZ_MODAL_CONFIG"),g=function(){function e(){}return e.ɵmod=r.ɵɵdefineNgModule({type:e}),e.ɵinj=r.ɵɵdefineInjector({factory:function(n){return new(n||e)}}),e}(),z=function(){function e(e){this.parentService=e,this.rootOpenModals=this.parentService?null:[],this.rootAfterAllClose=this.parentService?null:new a.Subject,this.rootRegisteredMetaMap=this.parentService?null:new Map}return Object.defineProperty(e.prototype,"afterAllClose",{get:function(){return this.parentService?this.parentService.afterAllClose:this.rootAfterAllClose},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"openModals",{get:function(){return this.parentService?this.parentService.openModals:this.rootOpenModals},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"registeredMetaMap",{get:function(){return this.parentService?this.parentService.registeredMetaMap:this.rootRegisteredMetaMap},enumerable:!0,configurable:!0}),e.prototype.registerModal=function(e){var n=this;if(!this.hasRegistered(e)){var t=e.afterOpen.subscribe((function(){return n.openModals.push(e)})),o=e.afterClose.subscribe((function(){return n.removeOpenModal(e)}));this.registeredMetaMap.set(e,{modalRef:e,afterOpenSubscription:t,afterCloseSubscription:o})}},e.prototype.deregisterModal=function(e){var n=this.registeredMetaMap.get(e);n&&(this.removeOpenModal(n.modalRef),n.afterOpenSubscription.unsubscribe(),n.afterCloseSubscription.unsubscribe(),this.registeredMetaMap.delete(e))},e.prototype.hasRegistered=function(e){return this.registeredMetaMap.has(e)},e.prototype.closeAll=function(){for(var e=this.openModals.length;e--;)this.openModals[e].close()},e.prototype.removeOpenModal=function(e){var n=this.openModals.indexOf(e);n>-1&&(this.openModals.splice(n,1),this.openModals.length||this.afterAllClose.next())},e.ɵfac=function(n){return new(n||e)(r.ɵɵinject(e,12))},e.ɵprov=r.ɵɵdefineInjectable({token:e,factory:e.ɵfac,providedIn:g}),e}(),v=function(){},b=function(){function e(e,n){this.nzModalRef=e,this.templateRef=n,this.nzModalRef&&this.nzModalRef.getInstance().setFooterWithTemplate(this.templateRef)}return e.ɵfac=function(n){return new(n||e)(r.ɵɵdirectiveInject(v,8),r.ɵɵdirectiveInject(r.TemplateRef))},e.ɵdir=r.ɵɵdefineDirective({type:e,selectors:[["","nzModalFooter",""]],exportAs:["nzModalFooter"]}),e}(),O=["modalContainer"],k=["bodyContainer"],M=["autoFocusButtonOk"];
/**
     * @license
     * Copyright Alibaba.com All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE
     */function x(e,n){1&e&&r.ɵɵprojection(0)}function S(e,n){if(1&e&&r.ɵɵelement(0,"div",11),2&e){var t=r.ɵɵnextContext();r.ɵɵstyleProp("z-index",t.nzZIndex),r.ɵɵclassProp("ant-modal-mask-hidden",t.hidden),r.ɵɵproperty("ngClass",t.maskAnimationClassMap)("ngStyle",t.nzMaskStyle)}}function T(e,n){if(1&e&&(r.ɵɵelementContainerStart(0),r.ɵɵelement(1,"i",15),r.ɵɵelementContainerEnd()),2&e){var t=r.ɵɵnextContext(2);r.ɵɵadvance(1),r.ɵɵproperty("nzType",t.nzCloseIcon)}}function w(e,n){if(1&e){var t=r.ɵɵgetCurrentView();r.ɵɵelementStart(0,"button",12),r.ɵɵlistener("click",(function(e){return r.ɵɵrestoreView(t),r.ɵɵnextContext().onClickCloseBtn()})),r.ɵɵelementStart(1,"span",13),r.ɵɵtemplate(2,T,2,1,"ng-container",14),r.ɵɵelementEnd(),r.ɵɵelementEnd()}if(2&e){var o=r.ɵɵnextContext();r.ɵɵattribute("aria-label",o.nzAriaLabel),r.ɵɵadvance(2),r.ɵɵproperty("nzStringTemplateOutlet",o.nzCloseIcon)}}function I(e,n){if(1&e&&r.ɵɵelementContainer(0,18),2&e){r.ɵɵnextContext(2);var t=r.ɵɵreference(12);r.ɵɵproperty("ngTemplateOutlet",t)}}function R(e,n){if(1&e&&r.ɵɵelementContainer(0,18),2&e){r.ɵɵnextContext(2);var t=r.ɵɵreference(14);r.ɵɵproperty("ngTemplateOutlet",t)}}function E(e,n){if(1&e&&(r.ɵɵelementContainerStart(0,16),r.ɵɵtemplate(1,I,1,1,"ng-container",17),r.ɵɵtemplate(2,R,1,1,"ng-container",17),r.ɵɵelementContainerEnd()),2&e){var t=r.ɵɵnextContext();r.ɵɵproperty("ngSwitch",!0),r.ɵɵadvance(1),r.ɵɵproperty("ngSwitchCase",t.isModalType("default")),r.ɵɵadvance(1),r.ɵɵproperty("ngSwitchCase",t.isModalType("confirm"))}}function N(e,n){if(1&e&&r.ɵɵelementContainer(0,18),2&e){var t=r.ɵɵnextContext(3);r.ɵɵproperty("ngTemplateOutlet",t.nzTitle)}}function j(e,n){if(1&e&&(r.ɵɵelementContainerStart(0),r.ɵɵelement(1,"div",26),r.ɵɵelementContainerEnd()),2&e){var t=r.ɵɵnextContext(3);r.ɵɵadvance(1),r.ɵɵproperty("innerHTML",t.nzTitle,r.ɵɵsanitizeHtml)}}function F(e,n){if(1&e&&(r.ɵɵelementStart(0,"div",23),r.ɵɵelementStart(1,"div",24),r.ɵɵelementContainerStart(2,16),r.ɵɵtemplate(3,N,1,1,"ng-container",17),r.ɵɵtemplate(4,j,2,1,"ng-container",25),r.ɵɵelementContainerEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd()),2&e){var t=r.ɵɵnextContext(2);r.ɵɵadvance(2),r.ɵɵproperty("ngSwitch",!0),r.ɵɵadvance(1),r.ɵɵproperty("ngSwitchCase",t.isTemplateRef(t.nzTitle)),r.ɵɵadvance(1),r.ɵɵproperty("ngSwitchCase",t.isNonEmptyString(t.nzTitle))}}function A(e,n){if(1&e&&r.ɵɵelementContainer(0,18),2&e){var t=r.ɵɵnextContext(3);r.ɵɵproperty("ngTemplateOutlet",t.nzContent)}}function D(e,n){if(1&e&&(r.ɵɵelementContainerStart(0),r.ɵɵelement(1,"div",26),r.ɵɵelementContainerEnd()),2&e){var t=r.ɵɵnextContext(3);r.ɵɵadvance(1),r.ɵɵproperty("innerHTML",t.nzContent,r.ɵɵsanitizeHtml)}}function B(e,n){if(1&e&&r.ɵɵelementContainer(0,18),2&e){r.ɵɵnextContext(3);var t=r.ɵɵreference(1);r.ɵɵproperty("ngTemplateOutlet",t)}}function P(e,n){if(1&e&&(r.ɵɵelementContainerStart(0,16),r.ɵɵtemplate(1,A,1,1,"ng-container",17),r.ɵɵtemplate(2,D,2,1,"ng-container",25),r.ɵɵtemplate(3,B,1,1,"ng-container",27),r.ɵɵelementContainerEnd()),2&e){var t=r.ɵɵnextContext(2);r.ɵɵproperty("ngSwitch",!0),r.ɵɵadvance(1),r.ɵɵproperty("ngSwitchCase",t.isTemplateRef(t.nzContent)),r.ɵɵadvance(1),r.ɵɵproperty("ngSwitchCase",t.isNonEmptyString(t.nzContent))}}function L(e,n){if(1&e&&r.ɵɵelementContainer(0,18),2&e){var t=r.ɵɵnextContext(3);r.ɵɵproperty("ngTemplateOutlet",t.nzFooter)}}function V(e,n){if(1&e&&(r.ɵɵelementContainerStart(0),r.ɵɵelement(1,"div",26),r.ɵɵelementContainerEnd()),2&e){var t=r.ɵɵnextContext(3);r.ɵɵadvance(1),r.ɵɵproperty("innerHTML",t.nzFooter,r.ɵɵsanitizeHtml)}}function G(e,n){if(1&e){var t=r.ɵɵgetCurrentView();r.ɵɵelementStart(0,"button",31),r.ɵɵlistener("click",(function(e){r.ɵɵrestoreView(t);var o=n.$implicit;return r.ɵɵnextContext(4).onButtonClick(o)})),r.ɵɵtext(1),r.ɵɵelementEnd()}if(2&e){var o=n.$implicit,i=r.ɵɵnextContext(4);r.ɵɵproperty("hidden",!i.getButtonCallableProp(o,"show"))("nzLoading",i.getButtonCallableProp(o,"loading"))("disabled",i.getButtonCallableProp(o,"disabled"))("nzType",o.type)("nzShape",o.shape)("nzSize",o.size)("nzGhost",o.ghost),r.ɵɵadvance(1),r.ɵɵtextInterpolate1(" ",o.label," ")}}function q(e,n){if(1&e&&(r.ɵɵelementContainerStart(0),r.ɵɵtemplate(1,G,2,8,"button",30),r.ɵɵelementContainerEnd()),2&e){var t=r.ɵɵnextContext(3);r.ɵɵadvance(1),r.ɵɵproperty("ngForOf",t.nzFooter)}}function _(e,n){if(1&e){var t=r.ɵɵgetCurrentView();r.ɵɵelementStart(0,"button",34),r.ɵɵlistener("click",(function(e){return r.ɵɵrestoreView(t),r.ɵɵnextContext(4).onClickOkCancel("cancel")})),r.ɵɵtext(1),r.ɵɵelementEnd()}if(2&e){var o=r.ɵɵnextContext(4);r.ɵɵproperty("nzLoading",o.nzCancelLoading)("disabled",o.nzCancelDisabled),r.ɵɵadvance(1),r.ɵɵtextInterpolate1(" ",o.cancelText," ")}}function W(e,n){if(1&e){var t=r.ɵɵgetCurrentView();r.ɵɵelementStart(0,"button",35),r.ɵɵlistener("click",(function(e){return r.ɵɵrestoreView(t),r.ɵɵnextContext(4).onClickOkCancel("ok")})),r.ɵɵtext(1),r.ɵɵelementEnd()}if(2&e){var o=r.ɵɵnextContext(4);r.ɵɵproperty("nzType",o.nzOkType)("nzLoading",o.nzOkLoading)("disabled",o.nzOkDisabled),r.ɵɵadvance(1),r.ɵɵtextInterpolate1(" ",o.okText," ")}}function H(e,n){if(1&e&&(r.ɵɵelementContainerStart(0),r.ɵɵtemplate(1,_,2,3,"button",32),r.ɵɵtemplate(2,W,2,4,"button",33),r.ɵɵelementContainerEnd()),2&e){var t=r.ɵɵnextContext(3);r.ɵɵadvance(1),r.ɵɵproperty("ngIf",null!==t.nzCancelText),r.ɵɵadvance(1),r.ɵɵproperty("ngIf",null!==t.nzOkText)}}function Q(e,n){if(1&e&&(r.ɵɵelementStart(0,"div",28),r.ɵɵelementContainerStart(1,16),r.ɵɵtemplate(2,L,1,1,"ng-container",17),r.ɵɵtemplate(3,V,2,1,"ng-container",25),r.ɵɵtemplate(4,q,2,1,"ng-container",25),r.ɵɵtemplate(5,H,3,2,"ng-container",29),r.ɵɵelementContainerEnd(),r.ɵɵelementEnd()),2&e){var t=r.ɵɵnextContext(2);r.ɵɵadvance(1),r.ɵɵproperty("ngSwitch",!0),r.ɵɵadvance(1),r.ɵɵproperty("ngSwitchCase",t.isTemplateRef(t.nzFooter)),r.ɵɵadvance(1),r.ɵɵproperty("ngSwitchCase",t.isNonEmptyString(t.nzFooter)),r.ɵɵadvance(1),r.ɵɵproperty("ngSwitchCase",t.isModalButtons(t.nzFooter))}}function K(e,n){if(1&e&&(r.ɵɵtemplate(0,F,5,3,"div",19),r.ɵɵelementStart(1,"div",20),r.ɵɵelementContainerStart(2,null,21),r.ɵɵtemplate(4,P,4,3,"ng-container",8),r.ɵɵelementContainerEnd(),r.ɵɵelementEnd(),r.ɵɵtemplate(5,Q,6,4,"div",22)),2&e){var t=r.ɵɵnextContext();r.ɵɵproperty("ngIf",t.nzTitle),r.ɵɵadvance(1),r.ɵɵproperty("ngStyle",t.nzBodyStyle),r.ɵɵadvance(3),r.ɵɵproperty("ngIf",!t.isComponent(t.nzContent)),r.ɵɵadvance(1),r.ɵɵproperty("ngIf",null!==t.nzFooter)}}function U(e,n){if(1&e&&r.ɵɵelementContainer(0,18),2&e){var t=r.ɵɵnextContext(2);r.ɵɵproperty("ngTemplateOutlet",t.nzTitle)}}function Z(e,n){if(1&e&&(r.ɵɵelementContainerStart(0),r.ɵɵelement(1,"span",26),r.ɵɵelementContainerEnd()),2&e){var t=r.ɵɵnextContext(2);r.ɵɵadvance(1),r.ɵɵproperty("innerHTML",t.nzTitle,r.ɵɵsanitizeHtml)}}function $(e,n){if(1&e&&r.ɵɵelementContainer(0,18),2&e){var t=r.ɵɵnextContext(3);r.ɵɵproperty("ngTemplateOutlet",t.nzContent)}}function J(e,n){if(1&e&&(r.ɵɵelementContainerStart(0),r.ɵɵelement(1,"div",26),r.ɵɵelementContainerEnd()),2&e){var t=r.ɵɵnextContext(3);r.ɵɵadvance(1),r.ɵɵproperty("innerHTML",t.nzContent,r.ɵɵsanitizeHtml)}}function X(e,n){if(1&e&&r.ɵɵelementContainer(0,18),2&e){r.ɵɵnextContext(3);var t=r.ɵɵreference(1);r.ɵɵproperty("ngTemplateOutlet",t)}}function Y(e,n){if(1&e&&(r.ɵɵelementContainerStart(0,16),r.ɵɵtemplate(1,$,1,1,"ng-container",17),r.ɵɵtemplate(2,J,2,1,"ng-container",25),r.ɵɵtemplate(3,X,1,1,"ng-container",27),r.ɵɵelementContainerEnd()),2&e){var t=r.ɵɵnextContext(2);r.ɵɵproperty("ngSwitch",!0),r.ɵɵadvance(1),r.ɵɵproperty("ngSwitchCase",t.isTemplateRef(t.nzContent)),r.ɵɵadvance(1),r.ɵɵproperty("ngSwitchCase",t.isNonEmptyString(t.nzContent))}}function ee(e,n){if(1&e){var t=r.ɵɵgetCurrentView();r.ɵɵelementStart(0,"button",34),r.ɵɵlistener("click",(function(e){return r.ɵɵrestoreView(t),r.ɵɵnextContext(2).onClickOkCancel("cancel")})),r.ɵɵtext(1),r.ɵɵelementEnd()}if(2&e){var o=r.ɵɵnextContext(2);r.ɵɵproperty("nzLoading",o.nzCancelLoading)("disabled",o.nzCancelDisabled),r.ɵɵadvance(1),r.ɵɵtextInterpolate1(" ",o.cancelText," ")}}function ne(e,n){if(1&e){var t=r.ɵɵgetCurrentView();r.ɵɵelementStart(0,"button",35,42),r.ɵɵlistener("click",(function(e){return r.ɵɵrestoreView(t),r.ɵɵnextContext(2).onClickOkCancel("ok")})),r.ɵɵtext(2),r.ɵɵelementEnd()}if(2&e){var o=r.ɵɵnextContext(2);r.ɵɵproperty("nzType",o.nzOkType)("nzLoading",o.nzOkLoading)("disabled",o.nzOkDisabled),r.ɵɵadvance(2),r.ɵɵtextInterpolate1(" ",o.okText," ")}}function te(e,n){if(1&e&&(r.ɵɵelementStart(0,"div",20),r.ɵɵelementStart(1,"div",36),r.ɵɵelementStart(2,"div",37),r.ɵɵelement(3,"i",38),r.ɵɵelementStart(4,"span",39),r.ɵɵelementContainerStart(5,16),r.ɵɵtemplate(6,U,1,1,"ng-container",17),r.ɵɵtemplate(7,Z,2,1,"ng-container",25),r.ɵɵelementContainerEnd(),r.ɵɵelementEnd(),r.ɵɵelementStart(8,"div",40),r.ɵɵelementContainerStart(9,null,21),r.ɵɵtemplate(11,Y,4,3,"ng-container",8),r.ɵɵelementContainerEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementStart(12,"div",41),r.ɵɵtemplate(13,ee,2,3,"button",32),r.ɵɵtemplate(14,ne,3,4,"button",33),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd()),2&e){var t=r.ɵɵnextContext();r.ɵɵproperty("ngStyle",t.nzBodyStyle),r.ɵɵadvance(3),r.ɵɵproperty("nzType",t.nzIconType),r.ɵɵadvance(2),r.ɵɵproperty("ngSwitch",!0),r.ɵɵadvance(1),r.ɵɵproperty("ngSwitchCase",t.isTemplateRef(t.nzTitle)),r.ɵɵadvance(1),r.ɵɵproperty("ngSwitchCase",t.isNonEmptyString(t.nzTitle)),r.ɵɵadvance(4),r.ɵɵproperty("ngIf",!t.isComponent(t.nzContent)),r.ɵɵadvance(2),r.ɵɵproperty("ngIf",null!==t.nzCancelText),r.ɵɵadvance(1),r.ɵɵproperty("ngIf",null!==t.nzOkText)}}var oe=["*"],ie=function(e){function u(n,t,o,i,l,c,p,d,u,f,m,y){var C=e.call(this)||this;return C.nzConfigService=n,C.overlay=t,C.overlayKeyboardDispatcher=o,C.i18n=i,C.cfr=l,C.elementRef=c,C.viewContainer=p,C.modalControl=d,C.focusTrapFactory=u,C.cdr=f,C.nzModalGlobalConfig=m,C.document=y,C.nzVisible=!1,C.nzClosable=!0,C.nzOkLoading=!1,C.nzOkDisabled=!1,C.nzCancelDisabled=!1,C.nzCancelLoading=!1,C.nzKeyboard=!0,C.nzNoAnimation=!1,C.nzGetContainer=function(){return C.overlay.create()},C.nzZIndex=1e3,C.nzWidth=520,C.nzCloseIcon="close",C.nzOkType="primary",C.nzIconType="question-circle",C.nzModalType="default",C.nzAriaLabel="Close",C.nzOnOk=new r.EventEmitter,C.nzOnCancel=new r.EventEmitter,C.nzAfterOpen=new r.EventEmitter,C.nzAfterClose=new r.EventEmitter,C.nzVisibleChange=new r.EventEmitter,C.locale={},C.transformOrigin="0px 0px 0px",C.unsubscribe$=new a.Subject,C.dialogMouseDown=!1,C.scrollStrategy=C.overlay.scrollStrategies.block(),C.nzModalGlobalConfig&&s.warnDeprecation("`NZ_MODAL_CONFIG` has been deprecated and will be removed in 9.0.0. Please use global config instead."),C}return function(e,n){function t(){this.constructor=e}f(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}(u,e),Object.defineProperty(u.prototype,"modalFooter",{set:function(e){e&&e.templateRef&&this.setFooterWithTemplate(e.templateRef)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"afterOpen",{get:function(){return this.nzAfterOpen.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"afterClose",{get:function(){return this.nzAfterClose.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"cancelText",{get:function(){return this.nzCancelText||this.locale.cancelText},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"okText",{get:function(){return this.nzOkText||this.locale.okText},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"hidden",{get:function(){return!this.nzVisible&&!this.animationState},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"mask",{get:function(){return null!=this.nzMask?this.nzMask:!this.nzModalGlobalConfig||null==this.nzModalGlobalConfig.nzMask||this.nzModalGlobalConfig.nzMask},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"maskClosable",{get:function(){return null!=this.nzMaskClosable?this.nzMaskClosable:!this.nzModalGlobalConfig||null==this.nzModalGlobalConfig.nzMaskClosable||this.nzModalGlobalConfig.nzMaskClosable},enumerable:!0,configurable:!0}),u.prototype.ngOnInit=function(){var e=this;this.i18n.localeChange.pipe(l.takeUntil(this.unsubscribe$)).subscribe((function(){e.locale=e.i18n.getLocaleData("Modal")})),this.isComponent(this.nzContent)&&this.createDynamicComponent(this.nzContent),this.isModalButtons(this.nzFooter)&&(this.nzFooter=this.formatModalButtons(this.nzFooter)),this.container="function"==typeof this.nzGetContainer?this.nzGetContainer():this.nzGetContainer,this.container instanceof HTMLElement?(this.container.appendChild(this.elementRef.nativeElement),a.fromEvent(this.document.body,"keydown").pipe(l.takeUntil(this.unsubscribe$)).subscribe((function(n){return e.keydownListener(n)}))):this.container instanceof o.OverlayRef&&(this.setOverlayRef(this.container),this.container.overlayElement.appendChild(this.elementRef.nativeElement)),this.overlayRef&&this.overlayRef.keydownEvents().pipe(l.takeUntil(this.unsubscribe$)).subscribe((function(n){return e.keydownListener(n)})),this.modalControl.registerModal(this)},u.prototype.ngOnChanges=function(e){e.nzVisible&&this.handleVisibleStateChange(this.nzVisible,!e.nzVisible.firstChange)},u.prototype.ngAfterViewInit=function(){this.contentComponentRef&&this.bodyContainer.insert(this.contentComponentRef.hostView),this.autoFocusButtonOk&&this.autoFocusButtonOk.nativeElement.focus()},u.prototype.ngOnDestroy=function(){var e=this;this.changeVisibleFromInside(!1).then((function(){e.modalControl.deregisterModal(e),e.container instanceof o.OverlayRef&&e.container.dispose(),e.unsubscribe$.next(),e.unsubscribe$.complete()})),clearTimeout(this.timeoutId)},u.prototype.setFooterWithTemplate=function(e){this.nzFooter=e,this.cdr.markForCheck()},u.prototype.setOverlayRef=function(e){this.overlayRef=e},u.prototype.keydownListener=function(e){e.keyCode===t.ESCAPE&&this.nzKeyboard&&this.onClickOkCancel("cancel")},u.prototype.open=function(){this.changeVisibleFromInside(!0)},u.prototype.close=function(e){this.changeVisibleFromInside(!1,e)},u.prototype.destroy=function(e){this.close(e)},u.prototype.triggerOk=function(){this.onClickOkCancel("ok")},u.prototype.triggerCancel=function(){this.onClickOkCancel("cancel")},u.prototype.getInstance=function(){return this},u.prototype.getContentComponentRef=function(){return this.contentComponentRef},u.prototype.getContentComponent=function(){return this.contentComponentRef&&this.contentComponentRef.instance},u.prototype.getElement=function(){return this.elementRef&&this.elementRef.nativeElement},u.prototype.onMaskDialogDown=function(){this.dialogMouseDown=!0},u.prototype.onDialogUp=function(){var e=this;this.dialogMouseDown&&(this.timeoutId=setTimeout((function(){e.dialogMouseDown=!1}),0))},u.prototype.onClickMask=function(e){this.mask&&this.maskClosable&&e.target.classList.contains("ant-modal-wrap")&&this.nzVisible&&!this.dialogMouseDown&&this.onClickOkCancel("cancel")},u.prototype.isModalType=function(e){return this.nzModalType===e},u.prototype.onClickCloseBtn=function(){this.nzVisible&&this.onClickOkCancel("cancel")},u.prototype.onClickOkCancel=function(e){var n=this,t={ok:this.nzOnOk,cancel:this.nzOnCancel}[e],o={ok:"nzOkLoading",cancel:"nzCancelLoading"}[e];if(t instanceof r.EventEmitter)t.emit(this.getContentComponent());else if("function"==typeof t){var i=t(this.getContentComponent()),a=function(e){return!1!==e&&n.close(e)};if(s.isPromise(i)){this[o]=!0;var l=function(e){n[o]=!1,a(e)};i.then(l).catch(l)}else a(i)}},u.prototype.isNonEmptyString=function(e){return"string"==typeof e&&""!==e},u.prototype.isTemplateRef=function(e){return e instanceof r.TemplateRef},u.prototype.isComponent=function(e){return e instanceof r.Type},u.prototype.isModalButtons=function(e){return Array.isArray(e)&&e.length>0},u.prototype.handleVisibleStateChange=function(e,n,t){var i=this;return void 0===n&&(n=!0),e?(this.scrollStrategy.enable(),this.savePreviouslyFocusedElement(),this.trapFocus(),this.container instanceof o.OverlayRef&&this.overlayKeyboardDispatcher.add(this.overlayRef)):this.container instanceof o.OverlayRef&&this.overlayKeyboardDispatcher.remove(this.overlayRef),Promise.resolve(n?this.animateTo(e):void 0).then((function(){e?i.nzAfterOpen.emit():(i.nzAfterClose.emit(t),i.restoreFocus(),i.scrollStrategy.disable(),i.cdr.markForCheck())}))},u.prototype.getButtonCallableProp=function(e,n){var t=e[n],o=[];return this.contentComponentRef&&o.push(this.contentComponentRef.instance),"function"==typeof t?t.apply(e,o):t},u.prototype.onButtonClick=function(e){var n=this.getButtonCallableProp(e,"onClick");s.isPromise(n)&&(e.loading=!0,n.then((function(){return e.loading=!1})).catch((function(){return e.loading=!1})))},u.prototype.changeVisibleFromInside=function(e,n){return this.nzVisible!==e?(this.nzVisible=e,this.nzVisibleChange.emit(e),this.handleVisibleStateChange(e,!0,n)):Promise.resolve()},u.prototype.changeAnimationState=function(e){var n,t;this.animationState=e,e?(this.maskAnimationClassMap=((n={})["fade-"+e]=!0,n["fade-"+e+"-active"]=!0,n),this.modalAnimationClassMap=((t={})["zoom-"+e]=!0,t["zoom-"+e+"-active"]=!0,t)):this.maskAnimationClassMap=this.modalAnimationClassMap=null},u.prototype.animateTo=function(e){var n=this;return e&&setTimeout((function(){return n.updateTransformOrigin()})),this.changeAnimationState(e?"enter":"leave"),new Promise((function(e){return setTimeout((function(){n.changeAnimationState(null),e()}),n.nzNoAnimation?0:200)}))},u.prototype.formatModalButtons=function(e){return e.map((function(e){return m({type:"default",size:"default",autoLoading:!0,show:!0,loading:!1,disabled:!1},e)}))},u.prototype.createDynamicComponent=function(e){var n=this.cfr.resolveComponentFactory(e),t=r.Injector.create({providers:[{provide:v,useValue:this}],parent:this.viewContainer.parentInjector});this.contentComponentRef=n.create(t),this.nzComponentParams&&Object.assign(this.contentComponentRef.instance,this.nzComponentParams),this.contentComponentRef.changeDetectorRef.detectChanges()},u.prototype.updateTransformOrigin=function(){var e=this.modalContainer.nativeElement;if(this.previouslyFocusedElement){var n=this.previouslyFocusedElement.getBoundingClientRect(),t=s.getElementOffset(this.previouslyFocusedElement),o=t.left+n.width/2,i=t.top+n.height/2;this.transformOrigin=o-e.offsetLeft+"px "+(i-e.offsetTop)+"px 0px"}},u.prototype.savePreviouslyFocusedElement=function(){this.document&&(this.previouslyFocusedElement=this.document.activeElement)},u.prototype.trapFocus=function(){this.focusTrap||(this.focusTrap=this.focusTrapFactory.create(this.elementRef.nativeElement)),this.focusTrap.focusInitialElementWhenReady()},u.prototype.restoreFocus=function(){this.previouslyFocusedElement&&"function"==typeof this.previouslyFocusedElement.focus&&this.previouslyFocusedElement.focus(),this.focusTrap&&this.focusTrap.destroy()},u.ɵfac=function(e){return new(e||u)(r.ɵɵdirectiveInject(s.NzConfigService),r.ɵɵdirectiveInject(o.Overlay),r.ɵɵdirectiveInject(o.OverlayKeyboardDispatcher),r.ɵɵdirectiveInject(c.NzI18nService),r.ɵɵdirectiveInject(r.ComponentFactoryResolver),r.ɵɵdirectiveInject(r.ElementRef),r.ɵɵdirectiveInject(r.ViewContainerRef),r.ɵɵdirectiveInject(z),r.ɵɵdirectiveInject(n.FocusTrapFactory),r.ɵɵdirectiveInject(r.ChangeDetectorRef),r.ɵɵdirectiveInject(h,8),r.ɵɵdirectiveInject(i.DOCUMENT))},u.ɵcmp=r.ɵɵdefineComponent({type:u,selectors:[["nz-modal"]],contentQueries:function(e,n,t){var o;(1&e&&r.ɵɵcontentQuery(t,b,!0),2&e)&&(r.ɵɵqueryRefresh(o=r.ɵɵloadQuery())&&(n.modalFooter=o.first))},viewQuery:function(e,n){var t;(1&e&&(r.ɵɵstaticViewQuery(O,!0),r.ɵɵviewQuery(k,!0,r.ViewContainerRef),r.ɵɵviewQuery(M,!0,r.ElementRef)),2&e)&&(r.ɵɵqueryRefresh(t=r.ɵɵloadQuery())&&(n.modalContainer=t.first),r.ɵɵqueryRefresh(t=r.ɵɵloadQuery())&&(n.bodyContainer=t.first),r.ɵɵqueryRefresh(t=r.ɵɵloadQuery())&&(n.autoFocusButtonOk=t.first))},inputs:{nzVisible:"nzVisible",nzClosable:"nzClosable",nzOkLoading:"nzOkLoading",nzOkDisabled:"nzOkDisabled",nzCancelDisabled:"nzCancelDisabled",nzCancelLoading:"nzCancelLoading",nzKeyboard:"nzKeyboard",nzNoAnimation:"nzNoAnimation",nzMask:"nzMask",nzMaskClosable:"nzMaskClosable",nzContent:"nzContent",nzComponentParams:"nzComponentParams",nzFooter:"nzFooter",nzGetContainer:"nzGetContainer",nzZIndex:"nzZIndex",nzWidth:"nzWidth",nzWrapClassName:"nzWrapClassName",nzClassName:"nzClassName",nzStyle:"nzStyle",nzTitle:"nzTitle",nzCloseIcon:"nzCloseIcon",nzMaskStyle:"nzMaskStyle",nzBodyStyle:"nzBodyStyle",nzOkText:"nzOkText",nzCancelText:"nzCancelText",nzOkType:"nzOkType",nzIconType:"nzIconType",nzModalType:"nzModalType",nzAriaLabel:"nzAriaLabel",nzOnOk:"nzOnOk",nzOnCancel:"nzOnCancel"},outputs:{nzOnOk:"nzOnOk",nzOnCancel:"nzOnCancel",nzAfterOpen:"nzAfterOpen",nzAfterClose:"nzAfterClose",nzVisibleChange:"nzVisibleChange"},exportAs:["nzModal"],features:[r.ɵɵInheritDefinitionFeature,r.ɵɵNgOnChangesFeature()],ngContentSelectors:oe,decls:15,vars:18,consts:[["tplOriginContent",""],[3,"nzNoAnimation"],["class","ant-modal-mask",3,"ngClass","ant-modal-mask-hidden","ngStyle","zIndex",4,"ngIf"],["tabindex","-1","role","dialog",3,"click","mouseup"],["role","document",3,"ngClass","ngStyle","mousedown"],["modalContainer",""],[1,"ant-modal-content"],["class","ant-modal-close",3,"click",4,"ngIf"],[3,"ngSwitch",4,"ngIf"],["tplContentDefault",""],["tplContentConfirm",""],[1,"ant-modal-mask",3,"ngClass","ngStyle"],[1,"ant-modal-close",3,"click"],[1,"ant-modal-close-x"],[4,"nzStringTemplateOutlet"],["nz-icon","",1,"ant-modal-close-icon",3,"nzType"],[3,"ngSwitch"],[3,"ngTemplateOutlet",4,"ngSwitchCase"],[3,"ngTemplateOutlet"],["class","ant-modal-header",4,"ngIf"],[1,"ant-modal-body",3,"ngStyle"],["bodyContainer",""],["class","ant-modal-footer",4,"ngIf"],[1,"ant-modal-header"],[1,"ant-modal-title"],[4,"ngSwitchCase"],[3,"innerHTML"],[3,"ngTemplateOutlet",4,"ngSwitchDefault"],[1,"ant-modal-footer"],[4,"ngSwitchDefault"],["nz-button","",3,"hidden","nzLoading","disabled","nzType","nzShape","nzSize","nzGhost","click",4,"ngFor","ngForOf"],["nz-button","",3,"hidden","nzLoading","disabled","nzType","nzShape","nzSize","nzGhost","click"],["nz-button","",3,"nzLoading","disabled","click",4,"ngIf"],["nz-button","",3,"nzType","nzLoading","disabled","click",4,"ngIf"],["nz-button","",3,"nzLoading","disabled","click"],["nz-button","",3,"nzType","nzLoading","disabled","click"],[1,"ant-modal-confirm-body-wrapper"],[1,"ant-modal-confirm-body"],["nz-icon","",3,"nzType"],[1,"ant-modal-confirm-title"],[1,"ant-modal-confirm-content"],[1,"ant-modal-confirm-btns"],["autoFocusButtonOk",""]],template:function(e,n){1&e&&(r.ɵɵprojectionDef(),r.ɵɵtemplate(0,x,1,0,"ng-template",null,0,r.ɵɵtemplateRefExtractor),r.ɵɵelementStart(2,"div",1),r.ɵɵtemplate(3,S,1,4,"div",2),r.ɵɵelementStart(4,"div",3),r.ɵɵlistener("click",(function(e){return n.onClickMask(e)}))("mouseup",(function(e){return n.onDialogUp()})),r.ɵɵelementStart(5,"div",4,5),r.ɵɵlistener("mousedown",(function(e){return n.onMaskDialogDown()})),r.ɵɵpipe(7,"nzToCssUnit"),r.ɵɵelementStart(8,"div",6),r.ɵɵtemplate(9,w,3,2,"button",7),r.ɵɵtemplate(10,E,3,3,"ng-container",8),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵtemplate(11,K,6,4,"ng-template",null,9,r.ɵɵtemplateRefExtractor),r.ɵɵtemplate(13,te,15,8,"ng-template",null,10,r.ɵɵtemplateRefExtractor)),2&e&&(r.ɵɵadvance(2),r.ɵɵproperty("nzNoAnimation",n.nzNoAnimation),r.ɵɵadvance(1),r.ɵɵproperty("ngIf",n.mask),r.ɵɵadvance(1),r.ɵɵclassMapInterpolate1("ant-modal-wrap ",n.nzWrapClassName,""),r.ɵɵstyleProp("z-index",n.nzZIndex)("visibility",n.hidden?"hidden":null),r.ɵɵadvance(1),r.ɵɵclassMapInterpolate1("ant-modal ",n.nzClassName,""),r.ɵɵstyleProp("width",r.ɵɵpipeBind1(7,16,n.nzWidth))("transform-origin",n.transformOrigin),r.ɵɵproperty("ngClass",n.modalAnimationClassMap)("ngStyle",n.nzStyle),r.ɵɵadvance(4),r.ɵɵproperty("ngIf",n.nzClosable),r.ɵɵadvance(1),r.ɵɵproperty("ngIf",!n.hidden))},directives:[s.NzNoAnimationDirective,i.NgIf,i.NgClass,i.NgStyle,s.NzStringTemplateOutletDirective,p.NzIconDirective,i.NgSwitch,i.NgSwitchCase,i.NgTemplateOutlet,i.NgSwitchDefault,i.NgForOf,d.NzButtonComponent],pipes:[s.NzToCssUnitPipe],encapsulation:2}),y([s.InputBoolean(),C("design:type",Boolean)],u.prototype,"nzVisible",void 0),y([s.InputBoolean(),C("design:type",Boolean)],u.prototype,"nzClosable",void 0),y([s.InputBoolean(),C("design:type",Boolean)],u.prototype,"nzOkLoading",void 0),y([s.InputBoolean(),C("design:type",Boolean)],u.prototype,"nzOkDisabled",void 0),y([s.InputBoolean(),C("design:type",Boolean)],u.prototype,"nzCancelDisabled",void 0),y([s.InputBoolean(),C("design:type",Boolean)],u.prototype,"nzCancelLoading",void 0),y([s.InputBoolean(),C("design:type",Boolean)],u.prototype,"nzKeyboard",void 0),y([s.InputBoolean(),C("design:type",Object)],u.prototype,"nzNoAnimation",void 0),y([s.WithConfig("modal"),s.InputBoolean(),C("design:type",Boolean)],u.prototype,"nzMask",void 0),y([s.WithConfig("modal"),s.InputBoolean(),C("design:type",Boolean)],u.prototype,"nzMaskClosable",void 0),u}(v),re=function(){function e(){}return e.ɵmod=r.ɵɵdefineNgModule({type:e}),e.ɵinj=r.ɵɵdefineInjector({factory:function(n){return new(n||e)}}),e}(),ae=function(){function e(){}return e.ɵmod=r.ɵɵdefineNgModule({type:e}),e.ɵinj=r.ɵɵdefineInjector({factory:function(n){return new(n||e)},imports:[[i.CommonModule,o.OverlayModule,s.NzAddOnModule,c.NzI18nModule,d.NzButtonModule,p.NzIconModule,s.NzPipesModule,s.NzNoAnimationModule,re,g]]}),e}();("undefined"==typeof ngJitMode||ngJitMode)&&r.ɵɵsetNgModuleScope(ae,{declarations:[ie,b],imports:[i.CommonModule,o.OverlayModule,s.NzAddOnModule,c.NzI18nModule,d.NzButtonModule,p.NzIconModule,s.NzPipesModule,s.NzNoAnimationModule,re,g],exports:[ie,b]});
/**
     * @license
     * Copyright Alibaba.com All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE
     */
var le=function(){function e(e,n){var t=this;void 0===n&&(n={}),this.overlay=e,this.createModal(),"nzGetContainer"in n||(n.nzGetContainer=void 0),this.changeProps(n),this.modalRef.instance.setOverlayRef(this.overlayRef),this.modalRef.instance.open(),this.modalRef.instance.nzAfterClose.subscribe((function(){return t.destroyModal()}))}return e.prototype.getInstance=function(){return this.modalRef&&this.modalRef.instance},e.prototype.destroyModal=function(){this.modalRef&&(this.overlayRef.dispose(),this.modalRef=null)},e.prototype.changeProps=function(e){this.modalRef&&Object.assign(this.modalRef.instance,e)},e.prototype.createModal=function(){this.overlayRef=this.overlay.create(),this.modalRef=this.overlayRef.attach(new u.ComponentPortal(ie))},e}(),se=function(){function e(e,n){this.overlay=e,this.modalControl=n}return Object.defineProperty(e.prototype,"openModals",{get:function(){return this.modalControl.openModals},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"afterAllClose",{get:function(){return this.modalControl.afterAllClose.asObservable()},enumerable:!0,configurable:!0}),e.prototype.closeAll=function(){this.modalControl.closeAll()},e.prototype.create=function(e){return void 0===e&&(e={}),"function"!=typeof e.nzOnCancel&&(e.nzOnCancel=function(){}),new le(this.overlay,e).getInstance()},e.prototype.confirm=function(e,n){return void 0===e&&(e={}),void 0===n&&(n="confirm"),"nzFooter"in e&&s.warn('The Confirm-Modal doesn\'t support "nzFooter", this property will be ignored.'),"nzWidth"in e||(e.nzWidth=416),"nzMaskClosable"in e||(e.nzMaskClosable=!1),"function"!=typeof e.nzOnOk&&(e.nzOnOk=function(){}),e.nzModalType="confirm",e.nzClassName="ant-modal-confirm ant-modal-confirm-"+n+" "+(e.nzClassName||""),this.create(e)},e.prototype.info=function(e){return void 0===e&&(e={}),this.simpleConfirm(e,"info")},e.prototype.success=function(e){return void 0===e&&(e={}),this.simpleConfirm(e,"success")},e.prototype.error=function(e){return void 0===e&&(e={}),this.simpleConfirm(e,"error")},e.prototype.warning=function(e){return void 0===e&&(e={}),this.simpleConfirm(e,"warning")},e.prototype.simpleConfirm=function(e,n){void 0===e&&(e={});return"nzIconType"in e||(e.nzIconType={info:"info-circle",success:"check-circle",error:"close-circle",warning:"exclamation-circle"}[n]),"nzCancelText"in e||(e.nzCancelText=null),this.confirm(e,n)},e.ɵfac=function(n){return new(n||e)(r.ɵɵinject(o.Overlay),r.ɵɵinject(z))},e.ɵprov=r.ɵɵdefineInjectable({token:e,factory:e.ɵfac,providedIn:re}),e}();e.NZ_MODAL_CONFIG=h,e.NzModalComponent=ie,e.NzModalControlService=z,e.NzModalControlServiceModule=g,e.NzModalFooterDirective=b,e.NzModalModule=ae,e.NzModalRef=v,e.NzModalService=se,e.NzModalServiceModule=re,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ng-zorro-antd-modal.umd.min.js.map