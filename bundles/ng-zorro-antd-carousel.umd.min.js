!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/cdk/platform"),require("@angular/common"),require("@angular/core"),require("@angular/cdk/keycodes"),require("rxjs"),require("rxjs/operators"),require("ng-zorro-antd/core")):"function"==typeof define&&define.amd?define("ng-zorro-antd/carousel",["exports","@angular/cdk/platform","@angular/common","@angular/core","@angular/cdk/keycodes","rxjs","rxjs/operators","ng-zorro-antd/core"],e):e(((t=t||self)["ng-zorro-antd"]=t["ng-zorro-antd"]||{},t["ng-zorro-antd"].carousel={}),t.ng.cdk.platform,t.ng.common,t.ng.core,t.ng.cdk.keycodes,t.rxjs,t.rxjs.operators,t["ng-zorro-antd"].core)}(this,(function(t,e,n,i,r,s,o,a){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function c(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function h(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}
/**
     * @license
     * Copyright Alibaba.com All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE
     */
var p=function(){function t(t,e){this.elementRef=t,this.renderer=e,this.el=this.elementRef.nativeElement,this._active=!1,e.addClass(t.nativeElement,"slick-slide")}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._active},set:function(t){this._active=t,this.isActive?this.renderer.addClass(this.el,"slick-active"):this.renderer.removeClass(this.el,"slick-active")},enumerable:!0,configurable:!0}),t.ɵfac=function(e){return new(e||t)(i.ɵɵdirectiveInject(i.ElementRef),i.ɵɵdirectiveInject(i.Renderer2))},t.ɵdir=i.ɵɵdefineDirective({type:t,selectors:[["","nz-carousel-content",""]],exportAs:["nzCarouselContent"]}),t}(),d=new i.InjectionToken("nz-carousel-custom-strategies"),f=function(){function t(t,e,n){this.cdr=e,this.renderer=n,this.carouselComponent=t}return Object.defineProperty(t.prototype,"maxIndex",{get:function(){return this.length-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstEl",{get:function(){return this.contents[0].el},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastEl",{get:function(){return this.contents[this.maxIndex].el},enumerable:!0,configurable:!0}),t.prototype.withCarouselContents=function(t){var e=this.carouselComponent,n=e.el.getBoundingClientRect();this.slickListEl=e.slickListEl,this.slickTrackEl=e.slickTrackEl,this.unitWidth=n.width,this.unitHeight=n.height,this.contents=t?t.toArray():[],this.length=this.contents.length},t.prototype.dragging=function(t){},t.prototype.dispose=function(){},t.prototype.getFromToInBoundary=function(t,e){var n=this.maxIndex+1;return{from:(t+n)%n,to:(e+n)%n}},t}(),g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.withCarouselContents=function(e){var n=this;t.prototype.withCarouselContents.call(this,e),this.contents&&(this.slickTrackEl.style.width=this.length*this.unitWidth+"px",this.contents.forEach((function(t,e){n.renderer.setStyle(t.el,"opacity",n.carouselComponent.activeIndex===e?"1":"0"),n.renderer.setStyle(t.el,"position","relative"),n.renderer.setStyle(t.el,"width",n.unitWidth+"px"),n.renderer.setStyle(t.el,"left",-n.unitWidth*e+"px"),n.renderer.setStyle(t.el,"transition",["opacity 500ms ease 0s","visibility 500ms ease 0s"])})))},e.prototype.switch=function(t,e){var n=this,i=this.getFromToInBoundary(t,e).to,r=new s.Subject;return this.contents.forEach((function(t,e){n.renderer.setStyle(t.el,"opacity",i===e?"1":"0")})),setTimeout((function(){r.next(),r.complete()}),this.carouselComponent.nzTransitionSpeed),r},e.prototype.dispose=function(){var e=this;this.contents.forEach((function(t){e.renderer.setStyle(t.el,"transition",null)})),t.prototype.dispose.call(this)},e}(f),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isDragging=!1,e.isTransitioning=!1,e}return c(e,t),Object.defineProperty(e.prototype,"vertical",{get:function(){return this.carouselComponent.vertical},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){t.prototype.dispose.call(this),this.renderer.setStyle(this.slickTrackEl,"transform",null)},e.prototype.withCarouselContents=function(e){var n=this;t.prototype.withCarouselContents.call(this,e);var i=this.carouselComponent.activeIndex;this.contents.length&&(this.renderer.setStyle(this.slickListEl,"height",this.unitHeight+"px"),this.vertical?(this.renderer.setStyle(this.slickTrackEl,"width",this.unitWidth+"px"),this.renderer.setStyle(this.slickTrackEl,"height",this.length*this.unitHeight+"px"),this.renderer.setStyle(this.slickTrackEl,"transform","translate3d(0, "+-i*this.unitHeight+"px, 0)")):(this.renderer.setStyle(this.slickTrackEl,"height",this.unitHeight+"px"),this.renderer.setStyle(this.slickTrackEl,"width",this.length*this.unitWidth+"px"),this.renderer.setStyle(this.slickTrackEl,"transform","translate3d("+-i*this.unitWidth+"px, 0, 0)")),this.contents.forEach((function(t){n.renderer.setStyle(t.el,"position","relative"),n.renderer.setStyle(t.el,"width",n.unitWidth+"px"),n.renderer.setStyle(t.el,"height",n.unitHeight+"px")})))},e.prototype.switch=function(t,e){var n=this,i=this.getFromToInBoundary(t,e).to,r=new s.Subject;return this.renderer.setStyle(this.slickTrackEl,"transition","transform "+this.carouselComponent.nzTransitionSpeed+"ms ease"),this.vertical?this.verticalTransform(t,e):this.horizontalTransform(t,e),this.isTransitioning=!0,this.isDragging=!1,setTimeout((function(){n.renderer.setStyle(n.slickTrackEl,"transition",null),n.contents.forEach((function(t){n.renderer.setStyle(t.el,n.vertical?"top":"left",null)})),n.vertical?n.renderer.setStyle(n.slickTrackEl,"transform","translate3d(0, "+-i*n.unitHeight+"px, 0)"):n.renderer.setStyle(n.slickTrackEl,"transform","translate3d("+-i*n.unitWidth+"px, 0, 0)"),n.isTransitioning=!1,r.next(),r.complete()}),this.carouselComponent.nzTransitionSpeed),r.asObservable()},e.prototype.dragging=function(t){if(!this.isTransitioning){var e=this.carouselComponent.activeIndex;this.carouselComponent.vertical?(!this.isDragging&&this.length>2&&(e===this.maxIndex?this.prepareVerticalContext(!0):0===e&&this.prepareVerticalContext(!1)),this.renderer.setStyle(this.slickTrackEl,"transform","translate3d(0, "+(-e*this.unitHeight+t.x)+"px, 0)")):(!this.isDragging&&this.length>2&&(e===this.maxIndex?this.prepareHorizontalContext(!0):0===e&&this.prepareHorizontalContext(!1)),this.renderer.setStyle(this.slickTrackEl,"transform","translate3d("+(-e*this.unitWidth+t.x)+"px, 0, 0)")),this.isDragging=!0}},e.prototype.verticalTransform=function(t,e){var n=this.getFromToInBoundary(t,e),i=n.from,r=n.to;this.length>2&&e!==r?(this.prepareVerticalContext(r<i),this.renderer.setStyle(this.slickTrackEl,"transform","translate3d(0, "+-e*this.unitHeight+"px, 0)")):this.renderer.setStyle(this.slickTrackEl,"transform","translate3d(0, "+-r*this.unitHeight+"px, 0")},e.prototype.horizontalTransform=function(t,e){var n=this.getFromToInBoundary(t,e),i=n.from,r=n.to;this.length>2&&e!==r?(this.prepareHorizontalContext(r<i),this.renderer.setStyle(this.slickTrackEl,"transform","translate3d("+-e*this.unitWidth+"px, 0, 0)")):this.renderer.setStyle(this.slickTrackEl,"transform","translate3d("+-r*this.unitWidth+"px, 0, 0")},e.prototype.prepareVerticalContext=function(t){t?(this.renderer.setStyle(this.firstEl,"top",this.length*this.unitHeight+"px"),this.renderer.setStyle(this.lastEl,"top",null)):(this.renderer.setStyle(this.firstEl,"top",null),this.renderer.setStyle(this.lastEl,"top",-this.unitHeight*this.length+"px"))},e.prototype.prepareHorizontalContext=function(t){t?(this.renderer.setStyle(this.firstEl,"left",this.length*this.unitWidth+"px"),this.renderer.setStyle(this.lastEl,"left",null)):(this.renderer.setStyle(this.firstEl,"left",null),this.renderer.setStyle(this.lastEl,"left",-this.unitWidth*this.length+"px"))},e}(f),m=["slickList"],v=["slickTrack"];function k(t,e){}var S=function(t){return{$implicit:t}};function C(t,e){if(1&t){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"li",9),i.ɵɵlistener("click",(function(t){i.ɵɵrestoreView(n);var r=e.index;return i.ɵɵnextContext(2).goTo(r)})),i.ɵɵtemplate(1,k,0,0,"ng-template",10),i.ɵɵelementEnd()}if(2&t){var r=e.$implicit,s=e.index,o=i.ɵɵnextContext(2),a=i.ɵɵreference(8);i.ɵɵclassProp("slick-active",r.isActive),i.ɵɵadvance(1),i.ɵɵproperty("ngTemplateOutlet",o.nzDotRender||a)("ngTemplateOutletContext",i.ɵɵpureFunction1(3,S,s))}}function z(t,e){if(1&t&&(i.ɵɵelementStart(0,"ul",7),i.ɵɵtemplate(1,C,2,5,"li",8),i.ɵɵelementEnd()),2&t){var n=i.ɵɵnextContext();i.ɵɵclassProp("slick-dots-top","top"===n.nzDotPosition)("slick-dots-bottom","bottom"===n.nzDotPosition)("slick-dots-left","left"===n.nzDotPosition)("slick-dots-right","right"===n.nzDotPosition),i.ɵɵadvance(1),i.ɵɵproperty("ngForOf",n.carouselContents)}}function x(t,e){if(1&t&&(i.ɵɵelementStart(0,"button"),i.ɵɵtext(1),i.ɵɵelementEnd()),2&t){var n=e.$implicit;i.ɵɵadvance(1),i.ɵɵtextInterpolate(n+1)}}var T=["*"],E=function(){function t(t,e,n,r,o,a,l,c){var h=this;this.nzConfigService=e,this.renderer=n,this.cdr=r,this.platform=o,this.nzDomEventService=a,this.nzDragService=l,this.customStrategies=c,this.nzTransitionSpeed=500,this.nzBeforeChange=new i.EventEmitter,this.nzAfterChange=new i.EventEmitter,this.activeIndex=0,this.vertical=!1,this.destroy$=new s.Subject,this.gestureRect=null,this.pointerDelta=null,this.isTransiting=!1,this.isDragging=!1,this.pointerDown=function(t){h.isDragging||h.isTransiting||!h.nzEnableSwipe||(h.clearScheduledTransition(),h.gestureRect=h.slickListEl.getBoundingClientRect(),h.nzDragService.requestDraggingSequence(t).subscribe((function(t){h.pointerDelta=t,h.isDragging=!0,h.strategy.dragging(h.pointerDelta)}),(function(){}),(function(){if(h.nzEnableSwipe&&h.isDragging){var t=h.pointerDelta?h.pointerDelta.x:0;Math.abs(t)>h.gestureRect.width/3?h.goTo(t>0?h.activeIndex-1:h.activeIndex+1):h.goTo(h.activeIndex),h.gestureRect=null,h.pointerDelta=null}h.isDragging=!1})))},this.renderer.addClass(t.nativeElement,"ant-carousel"),this.el=t.nativeElement}return Object.defineProperty(t.prototype,"nzVertical",{get:function(){return this.vertical},set:function(t){a.warnDeprecation("'nzVertical' is deprecated and will be removed in 9.0.0. Please use 'nzDotPosition' instead."),this.vertical=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nzDotPosition",{get:function(){return this._dotPosition},set:function(t){this._dotPosition=t,this.vertical="left"===t||"right"===t},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){this.markContentActive(0)},t.prototype.ngAfterViewInit=function(){var t=this;this.platform.isBrowser&&(this.slickListEl=this.slickList.nativeElement,this.slickTrackEl=this.slickTrack.nativeElement,this.carouselContents.changes.pipe(o.takeUntil(this.destroy$)).subscribe((function(){t.markContentActive(0),t.syncStrategy()})),this.nzDomEventService.registerResizeListener().pipe(o.takeUntil(this.destroy$),o.finalize((function(){return t.nzDomEventService.unregisterResizeListener()}))).subscribe((function(){t.syncStrategy()})),this.switchStrategy(),this.markContentActive(0),this.syncStrategy(),Promise.resolve().then((function(){t.syncStrategy()})))},t.prototype.ngOnChanges=function(t){var e=t.nzEffect,n=t.nzDotPosition;e&&!e.isFirstChange()&&(this.switchStrategy(),this.markContentActive(0),this.syncStrategy()),n&&!n.isFirstChange()&&(this.switchStrategy(),this.markContentActive(0),this.syncStrategy()),this.nzAutoPlay&&this.nzAutoPlaySpeed?this.scheduleNextTransition():this.clearScheduledTransition()},t.prototype.ngOnDestroy=function(){this.clearScheduledTransition(),this.strategy&&this.strategy.dispose(),this.destroy$.next(),this.destroy$.complete()},t.prototype.onKeyDown=function(t){t.keyCode===r.LEFT_ARROW?(t.preventDefault(),this.pre()):t.keyCode===r.RIGHT_ARROW&&(this.next(),t.preventDefault())},t.prototype.next=function(){this.goTo(this.activeIndex+1)},t.prototype.pre=function(){this.goTo(this.activeIndex-1)},t.prototype.goTo=function(t){var e=this;if(this.carouselContents&&this.carouselContents.length&&!this.isTransiting){var n=this.carouselContents.length,i=this.activeIndex,r=(t+n)%n;this.isTransiting=!0,this.nzBeforeChange.emit({from:i,to:r}),this.strategy.switch(this.activeIndex,t).subscribe((function(){e.scheduleNextTransition(),e.nzAfterChange.emit(t),e.isTransiting=!1})),this.markContentActive(r),this.cdr.markForCheck()}},t.prototype.switchStrategy=function(){var t=this;this.strategy&&this.strategy.dispose();var e=this.customStrategies?this.customStrategies.find((function(e){return e.name===t.nzEffect})):null;this.strategy=e?new e.strategy(this,this.cdr,this.renderer):"scrollx"===this.nzEffect?new y(this,this.cdr,this.renderer):new g(this,this.cdr,this.renderer)},t.prototype.scheduleNextTransition=function(){var t=this;this.clearScheduledTransition(),this.nzAutoPlay&&this.nzAutoPlaySpeed>0&&this.platform.isBrowser&&(this.transitionInProgress=setTimeout((function(){t.goTo(t.activeIndex+1)}),this.nzAutoPlaySpeed))},t.prototype.clearScheduledTransition=function(){this.transitionInProgress&&(clearTimeout(this.transitionInProgress),this.transitionInProgress=null)},t.prototype.markContentActive=function(t){this.activeIndex=t,this.carouselContents&&this.carouselContents.forEach((function(e,n){e.isActive=t===n})),this.cdr.markForCheck()},t.prototype.syncStrategy=function(){this.strategy&&this.strategy.withCarouselContents(this.carouselContents)},t.ɵfac=function(n){return new(n||t)(i.ɵɵdirectiveInject(i.ElementRef),i.ɵɵdirectiveInject(a.NzConfigService),i.ɵɵdirectiveInject(i.Renderer2),i.ɵɵdirectiveInject(i.ChangeDetectorRef),i.ɵɵdirectiveInject(e.Platform),i.ɵɵdirectiveInject(a.NzDomEventService),i.ɵɵdirectiveInject(a.NzDragService),i.ɵɵdirectiveInject(d,8))},t.ɵcmp=i.ɵɵdefineComponent({type:t,selectors:[["nz-carousel"]],contentQueries:function(t,e,n){var r;(1&t&&i.ɵɵcontentQuery(n,p,!1),2&t)&&(i.ɵɵqueryRefresh(r=i.ɵɵloadQuery())&&(e.carouselContents=r))},viewQuery:function(t,e){var n;(1&t&&(i.ɵɵviewQuery(m,!0),i.ɵɵviewQuery(v,!0)),2&t)&&(i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(e.slickList=n.first),i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(e.slickTrack=n.first))},hostBindings:function(t,e,n){1&t&&i.ɵɵallocHostVars(1),2&t&&i.ɵɵclassProp("ant-carousel-vertical",e.vertical)},inputs:{nzDotRender:"nzDotRender",nzEffect:"nzEffect",nzEnableSwipe:"nzEnableSwipe",nzDots:"nzDots",nzAutoPlay:"nzAutoPlay",nzAutoPlaySpeed:"nzAutoPlaySpeed",nzTransitionSpeed:"nzTransitionSpeed",nzVertical:"nzVertical",nzDotPosition:"nzDotPosition"},outputs:{nzBeforeChange:"nzBeforeChange",nzAfterChange:"nzAfterChange"},exportAs:["nzCarousel"],features:[i.ɵɵNgOnChangesFeature()],ngContentSelectors:T,decls:9,vars:2,consts:[[1,"slick-initialized","slick-slider"],["tabindex","-1",1,"slick-list",3,"keydown","mousedown","touchstart"],["slickList",""],[1,"slick-track"],["slickTrack",""],["class","slick-dots",3,"slick-dots-top","slick-dots-bottom","slick-dots-left","slick-dots-right",4,"ngIf"],["renderDotTemplate",""],[1,"slick-dots"],[3,"slick-active","click",4,"ngFor","ngForOf"],[3,"click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(i.ɵɵprojectionDef(),i.ɵɵelementStart(0,"div",0),i.ɵɵelementStart(1,"div",1,2),i.ɵɵlistener("keydown",(function(t){return e.onKeyDown(t)}))("mousedown",(function(t){return e.pointerDown(t)}))("touchstart",(function(t){return e.pointerDown(t)})),i.ɵɵelementStart(3,"div",3,4),i.ɵɵprojection(5),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵtemplate(6,z,2,5,"ul",5),i.ɵɵelementEnd(),i.ɵɵtemplate(7,x,2,1,"ng-template",null,6,i.ɵɵtemplateRefExtractor)),2&t&&(i.ɵɵclassProp("slick-vertical",e.nzVertical),i.ɵɵadvance(6),i.ɵɵproperty("ngIf",e.nzDots))},directives:[n.NgIf,n.NgForOf,n.NgTemplateOutlet],styles:["\n      nz-carousel {\n        display: block;\n        position: relative;\n        overflow: hidden;\n        width: 100%;\n        height: 100%;\n      }\n\n      .slick-dots {\n        display: block;\n      }\n\n      .slick-track {\n        opacity: 1;\n      }\n    "],encapsulation:2,changeDetection:0}),h([a.WithConfig("carousel","scrollx"),u("design:type",String)],t.prototype,"nzEffect",void 0),h([a.WithConfig("carousel",!0),a.InputBoolean(),u("design:type",Boolean)],t.prototype,"nzEnableSwipe",void 0),h([a.WithConfig("carousel",!0),a.InputBoolean(),u("design:type",Boolean)],t.prototype,"nzDots",void 0),h([a.WithConfig("carousel",!1),a.InputBoolean(),u("design:type",Boolean)],t.prototype,"nzAutoPlay",void 0),h([a.WithConfig("carousel",3e3),a.InputNumber(),u("design:type",Number)],t.prototype,"nzAutoPlaySpeed",void 0),h([a.InputNumber(),u("design:type",Object)],t.prototype,"nzTransitionSpeed",void 0),h([a.InputBoolean(),u("design:type",Boolean),u("design:paramtypes",[Boolean])],t.prototype,"nzVertical",null),h([a.WithConfig("carousel","bottom"),u("design:type",String),u("design:paramtypes",[String])],t.prototype,"nzDotPosition",null),t}(),b=function(){function t(){}return t.ɵmod=i.ɵɵdefineNgModule({type:t}),t.ɵinj=i.ɵɵdefineInjector({factory:function(e){return new(e||t)},imports:[[n.CommonModule,e.PlatformModule]]}),t}();("undefined"==typeof ngJitMode||ngJitMode)&&i.ɵɵsetNgModuleScope(b,{declarations:[E,p],imports:[n.CommonModule,e.PlatformModule],exports:[E,p]}),t.NZ_CAROUSEL_CUSTOM_STRATEGIES=d,t.NzCarouselBaseStrategy=f,t.NzCarouselComponent=E,t.NzCarouselContentDirective=p,t.NzCarouselModule=b,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ng-zorro-antd-carousel.umd.min.js.map