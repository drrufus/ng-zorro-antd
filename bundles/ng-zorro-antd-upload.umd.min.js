!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/cdk/keycodes"),require("@angular/common/http"),require("@angular/core"),require("rxjs"),require("rxjs/operators"),require("ng-zorro-antd/core"),require("@angular/animations"),require("@angular/cdk/platform"),require("@angular/common"),require("ng-zorro-antd/icon"),require("ng-zorro-antd/tooltip"),require("ng-zorro-antd/progress"),require("ng-zorro-antd/i18n"),require("@angular/forms")):"function"==typeof define&&define.amd?define("ng-zorro-antd/upload",["exports","@angular/cdk/keycodes","@angular/common/http","@angular/core","rxjs","rxjs/operators","ng-zorro-antd/core","@angular/animations","@angular/cdk/platform","@angular/common","ng-zorro-antd/icon","ng-zorro-antd/tooltip","ng-zorro-antd/progress","ng-zorro-antd/i18n","@angular/forms"],t):t(((e=e||self)["ng-zorro-antd"]=e["ng-zorro-antd"]||{},e["ng-zorro-antd"].upload={}),e.ng.cdk.keycodes,e.ng.common.http,e.ng.core,e.rxjs,e.rxjs.operators,e["ng-zorro-antd"].core,e.ng.animations,e.ng.cdk.platform,e.ng.common,e["ng-zorro-antd"].icon,e["ng-zorro-antd"].tooltip,e["ng-zorro-antd"].progress,e["ng-zorro-antd"].i18n,e.ng.forms)}(this,(function(e,t,n,i,r,o,a,l,s,p,c,u,f,d,m){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var h=function(){return(h=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function g(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function y(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function v(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function z(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}var C=["file"],x=["nz-upload-btn",""],b=["*"],w=function(){function e(e,t,n){if(this.http=e,this.el=t,this.updateHostClassService=n,this.reqs={},this.inited=!1,this.destroy=!1,this.classes={},this.prefixCls="ant-upload",!e)throw new Error("Not found 'HttpClient', You can import 'HttpClientModule' in your root module.")}return e.prototype.onClick=function(){!this.options.disabled&&this.options.openFileDialogOnClick&&this.file.nativeElement.click()},e.prototype.onKeyDown=function(e){this.options.disabled||"Enter"!==e.key&&e.keyCode!==t.ENTER||this.onClick()},e.prototype.onFileDrop=function(e){var t=this;if(this.options.disabled||"dragover"===e.type)e.preventDefault();else{if(this.options.directory)this.traverseFileTree(e.dataTransfer.items);else{var n=Array.prototype.slice.call(e.dataTransfer.files).filter((function(e){return t.attrAccept(e,t.options.accept)}));n.length&&this.uploadFiles(n)}e.preventDefault()}},e.prototype.onChange=function(e){if(!this.options.disabled){var t=e.target;this.uploadFiles(t.files),t.value=""}},e.prototype.traverseFileTree=function(e){var t,n,i=this,r=function(e,t){if(e.isFile)e.file((function(e){i.attrAccept(e,i.options.accept)&&i.uploadFiles([e])}));else if(e.isDirectory){e.createReader().readEntries((function(n){var i,o;try{for(var a=v(n),l=a.next();!l.done;l=a.next()){var s=l.value;r(s,""+t+e.name+"/")}}catch(e){i={error:e}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}}))}};try{for(var o=v(e),a=o.next();!a.done;a=o.next()){var l=a.value;r(l.webkitGetAsEntry(),"")}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},e.prototype.attrAccept=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),i=""+e.name,r=""+e.type,o=r.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim();return"."===t.charAt(0)?-1!==i.toLowerCase().indexOf(t.toLowerCase(),i.toLowerCase().length-t.toLowerCase().length):/\/\*$/.test(t)?o===t.replace(/\/.*$/,""):r===t}))}return!0},e.prototype.attachUid=function(e){return e.uid||(e.uid=Math.random().toString(36).substring(2)),e},e.prototype.uploadFiles=function(e){var t=this,n=r.of(Array.prototype.slice.call(e));this.options.filters&&this.options.filters.forEach((function(e){n=n.pipe(o.switchMap((function(t){var n=e.fn(t);return n instanceof r.Observable?n:r.of(n)})))})),n.subscribe((function(e){e.forEach((function(n){t.attachUid(n),t.upload(n,e)}))}),(function(e){a.warn("Unhandled upload filter error",e)}))},e.prototype.upload=function(e,t){var n=this;if(!this.options.beforeUpload)return this.post(e);var i=this.options.beforeUpload(e,t);if(i instanceof r.Observable)i.subscribe((function(t){var i=Object.prototype.toString.call(t);"[object File]"===i||"[object Blob]"===i?(n.attachUid(t),n.post(t)):"boolean"==typeof t&&!1!==t&&n.post(e)}),(function(e){a.warn("Unhandled upload beforeUpload error",e)}));else if(!1!==i)return this.post(e)},e.prototype.post=function(e){var t=this;if(!this.destroy){var n=this.options,i=e.uid,o=n.data,l=n.headers;"function"==typeof o&&(o=o(e)),"function"==typeof l&&(l=l(e));var s={action:n.action,name:n.name,headers:l,file:e,data:o,withCredentials:n.withCredentials,onProgress:n.onProgress?function(t){n.onProgress(t,e)}:void 0,onSuccess:function(r,o){t.clean(i),n.onSuccess(r,e,o)},onError:function(r){t.clean(i),n.onError(r,e)}},p=(n.customRequest||this.xhr).call(this,s);p instanceof r.Subscription||a.warn("Must return Subscription type in '[nzCustomRequest]' property"),this.reqs[i]=p,n.onStart(e)}},e.prototype.xhr=function(e){var t=this,i=new FormData;i.append(e.name,e.file),e.data&&Object.keys(e.data).map((function(t){i.append(t,e.data[t])})),e.headers||(e.headers={}),null!==e.headers["X-Requested-With"]?e.headers["X-Requested-With"]="XMLHttpRequest":delete e.headers["X-Requested-With"];var r=new n.HttpRequest("POST",e.action,i,{reportProgress:!0,withCredentials:e.withCredentials,headers:new n.HttpHeaders(e.headers)});return this.http.request(r).subscribe((function(t){t.type===n.HttpEventType.UploadProgress?(t.total>0&&(t.percent=t.loaded/t.total*100),e.onProgress(t,e.file)):t instanceof n.HttpResponse&&e.onSuccess(t.body,e.file,t)}),(function(n){t.abort(e.file),e.onError(n,e.file)}))},e.prototype.clean=function(e){var t=this.reqs[e];t instanceof r.Subscription&&t.unsubscribe(),delete this.reqs[e]},e.prototype.abort=function(e){var t=this;e?this.clean(e&&e.uid):Object.keys(this.reqs).forEach((function(e){return t.clean(e)}))},e.prototype.setClassMap=function(){var e,t=h(((e={})[this.prefixCls]=!0,e[this.prefixCls+"-disabled"]=this.options.disabled,e),this.classes);this.updateHostClassService.updateHostClass(this.el.nativeElement,t)},e.prototype.ngOnInit=function(){this.inited=!0,this.setClassMap()},e.prototype.ngOnChanges=function(){this.inited&&this.setClassMap()},e.prototype.ngOnDestroy=function(){this.destroy=!0,this.abort()},e.ɵfac=function(t){return new(t||e)(i.ɵɵdirectiveInject(n.HttpClient,8),i.ɵɵdirectiveInject(i.ElementRef),i.ɵɵdirectiveInject(a.NzUpdateHostClassService))},e.ɵcmp=i.ɵɵdefineComponent({type:e,selectors:[["","nz-upload-btn",""]],viewQuery:function(e,t){var n;(1&e&&i.ɵɵviewQuery(C,!0),2&e)&&(i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.file=n.first))},hostBindings:function(e,t,n){1&e&&(i.ɵɵallocHostVars(2),i.ɵɵlistener("click",(function(e){return t.onClick()}))("keydown",(function(e){return t.onKeyDown(e)}))("drop",(function(e){return t.onFileDrop(e)}))("dragover",(function(e){return t.onFileDrop(e)}))),2&e&&i.ɵɵattribute("tabindex","0")("role","button")},inputs:{classes:"classes",options:"options"},exportAs:["nzUploadBtn"],features:[i.ɵɵProvidersFeature([a.NzUpdateHostClassService]),i.ɵɵNgOnChangesFeature()],attrs:x,ngContentSelectors:b,decls:3,vars:4,consts:[["type","file",2,"display","none",3,"multiple","change"],["file",""]],template:function(e,t){1&e&&(i.ɵɵprojectionDef(),i.ɵɵelementStart(0,"input",0,1),i.ɵɵlistener("change",(function(e){return t.onChange(e)})),i.ɵɵelementEnd(),i.ɵɵprojection(2)),2&e&&(i.ɵɵproperty("multiple",t.options.multiple),i.ɵɵattribute("accept",t.options.accept)("directory",t.options.directory?"directory":null)("webkitdirectory",t.options.directory?"webkitdirectory":null))},encapsulation:2}),e}();
/**
     * @license
     * Copyright Alibaba.com All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE
     */
function I(e,t){if(1&e&&(i.ɵɵelementStart(0,"div",14),i.ɵɵtext(1),i.ɵɵelementEnd()),2&e){var n=i.ɵɵnextContext(4);i.ɵɵadvance(1),i.ɵɵtextInterpolate1(" ",n.locale.uploading," ")}}function S(e,t){if(1&e&&(i.ɵɵelementContainerStart(0),i.ɵɵtemplate(1,I,2,1,"div",13),i.ɵɵelementContainerEnd()),2&e){i.ɵɵnextContext();var n=i.ɵɵreference(2),r=i.ɵɵnextContext().$implicit,o=i.ɵɵnextContext();i.ɵɵadvance(1),i.ɵɵproperty("ngIf","picture-card"===o.listType&&"uploading"===r.status)("ngIfElse",n)}}function F(e,t){1&e&&i.ɵɵelement(0,"i",16)}function T(e,t){if(1&e&&i.ɵɵtemplate(0,F,1,0,"i",15),2&e){i.ɵɵnextContext();var n=i.ɵɵreference(4),r=i.ɵɵnextContext().$implicit;i.ɵɵproperty("ngIf",!r.thumbUrl&&!r.url)("ngIfElse",n)}}function E(e,t){if(1&e&&i.ɵɵelement(0,"img",19),2&e){var n=i.ɵɵnextContext(3).$implicit;i.ɵɵproperty("src",n.thumbUrl||n.url,i.ɵɵsanitizeUrl),i.ɵɵattribute("alt",n.name)}}function O(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"a",17),i.ɵɵlistener("click",(function(e){i.ɵɵrestoreView(n);var t=i.ɵɵnextContext(2).$implicit;return i.ɵɵnextContext().handlePreview(t,e)})),i.ɵɵtemplate(1,E,1,2,"img",18),i.ɵɵelementEnd()}if(2&e){i.ɵɵnextContext();var r=i.ɵɵreference(6),o=i.ɵɵnextContext().$implicit,a=i.ɵɵnextContext();i.ɵɵproperty("href",o.thumbUrl||o.url,i.ɵɵsanitizeUrl),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",a.isImageUrl(o))("ngIfElse",r)}}function L(e,t){1&e&&i.ɵɵelement(0,"i",20)}function R(e,t){if(1&e&&i.ɵɵelement(0,"i",21),2&e){var n=i.ɵɵnextContext(2).$implicit;i.ɵɵproperty("nzType","uploading"===n.status?"loading":"paper-clip")}}function P(e,t){if(1&e&&(i.ɵɵtemplate(0,S,2,2,"ng-container",6),i.ɵɵtemplate(1,T,1,2,"ng-template",null,9,i.ɵɵtemplateRefExtractor),i.ɵɵtemplate(3,O,2,3,"ng-template",null,10,i.ɵɵtemplateRefExtractor),i.ɵɵtemplate(5,L,1,0,"ng-template",null,11,i.ɵɵtemplateRefExtractor),i.ɵɵtemplate(7,R,1,1,"ng-template",null,12,i.ɵɵtemplateRefExtractor)),2&e){var n=i.ɵɵreference(8),r=i.ɵɵnextContext(2);i.ɵɵproperty("ngIf",r.showPic)("ngIfElse",n)}}function k(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementContainerStart(0),i.ɵɵelementStart(1,"a",23),i.ɵɵlistener("click",(function(e){i.ɵɵrestoreView(n);var t=i.ɵɵnextContext(2).$implicit;return i.ɵɵnextContext().handlePreview(t,e)})),i.ɵɵtext(2),i.ɵɵelementEnd(),i.ɵɵelementContainerEnd()}if(2&e){var r=i.ɵɵnextContext(2).$implicit;i.ɵɵadvance(1),i.ɵɵpropertyInterpolate("title",r.name),i.ɵɵproperty("href",r.thumbUrl||r.url,i.ɵɵsanitizeUrl),i.ɵɵattribute("download",r.linkProps&&r.linkProps.download),i.ɵɵadvance(1),i.ɵɵtextInterpolate(r.name)}}function U(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"span",24),i.ɵɵlistener("click",(function(e){i.ɵɵrestoreView(n);var t=i.ɵɵnextContext(2).$implicit;return i.ɵɵnextContext().handlePreview(t,e)})),i.ɵɵtext(1),i.ɵɵelementEnd()}if(2&e){var r=i.ɵɵnextContext(2).$implicit;i.ɵɵpropertyInterpolate("title",r.name),i.ɵɵadvance(1),i.ɵɵtextInterpolate(r.name)}}function j(e,t){if(1&e&&(i.ɵɵtemplate(0,k,3,4,"ng-container",6),i.ɵɵtemplate(1,U,2,2,"ng-template",null,22,i.ɵɵtemplateRefExtractor)),2&e){var n=i.ɵɵreference(2),r=i.ɵɵnextContext().$implicit;i.ɵɵproperty("ngIf",r.url)("ngIfElse",n)}}function D(e,t){}function M(e,t){}function N(e,t){if(1&e&&(i.ɵɵelementStart(0,"span",25),i.ɵɵtemplate(1,D,0,0,"ng-template",26),i.ɵɵtemplate(2,M,0,0,"ng-template",26),i.ɵɵelementEnd()),2&e){var n=i.ɵɵnextContext().$implicit,r=i.ɵɵreference(2),o=i.ɵɵreference(4);i.ɵɵproperty("nzTitle",n.message),i.ɵɵadvance(1),i.ɵɵproperty("ngTemplateOutlet",r),i.ɵɵadvance(1),i.ɵɵproperty("ngTemplateOutlet",o)}}function q(e,t){}function $(e,t){}function H(e,t){if(1&e&&(i.ɵɵelementStart(0,"span"),i.ɵɵtemplate(1,q,0,0,"ng-template",26),i.ɵɵtemplate(2,$,0,0,"ng-template",26),i.ɵɵelementEnd()),2&e){i.ɵɵnextContext();var n=i.ɵɵreference(2),r=i.ɵɵreference(4);i.ɵɵadvance(1),i.ɵɵproperty("ngTemplateOutlet",n),i.ɵɵadvance(1),i.ɵɵproperty("ngTemplateOutlet",r)}}var B=function(){return{opacity:.5,"pointer-events":"none"}};function A(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"a",30),i.ɵɵlistener("click",(function(e){i.ɵɵrestoreView(n);var t=i.ɵɵnextContext(2).$implicit;return i.ɵɵnextContext().handlePreview(t,e)})),i.ɵɵelement(1,"i",31),i.ɵɵelementEnd()}if(2&e){var r=i.ɵɵnextContext(2).$implicit,o=i.ɵɵnextContext();i.ɵɵpropertyInterpolate("title",o.locale.previewFile),i.ɵɵproperty("href",r.thumbUrl||r.url,i.ɵɵsanitizeUrl)("ngStyle",!(r.url||r.thumbUrl)&&i.ɵɵpureFunction0(3,B))}}function V(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"i",32),i.ɵɵlistener("click",(function(e){i.ɵɵrestoreView(n);var t=i.ɵɵnextContext(2).$implicit;return i.ɵɵnextContext().handleRemove(t,e)})),i.ɵɵelementEnd()}if(2&e){var r=i.ɵɵnextContext(3);i.ɵɵpropertyInterpolate("title",r.locale.removeFile)}}function _(e,t){if(1&e&&(i.ɵɵelementContainerStart(0),i.ɵɵelementStart(1,"span",27),i.ɵɵtemplate(2,A,2,4,"a",28),i.ɵɵtemplate(3,V,1,1,"i",29),i.ɵɵelementEnd(),i.ɵɵelementContainerEnd()),2&e){var n=i.ɵɵnextContext().$implicit,r=i.ɵɵnextContext();i.ɵɵadvance(2),i.ɵɵproperty("ngIf",r.showPreview(n)),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",r.icons.showRemoveIcon)}}function W(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"i",34),i.ɵɵlistener("click",(function(e){i.ɵɵrestoreView(n);var t=i.ɵɵnextContext(2).$implicit;return i.ɵɵnextContext().handleRemove(t,e)})),i.ɵɵelementEnd()}if(2&e){var r=i.ɵɵnextContext(3);i.ɵɵpropertyInterpolate("title",r.locale.removeFile)}}function Q(e,t){if(1&e&&i.ɵɵtemplate(0,W,1,1,"i",33),2&e){var n=i.ɵɵnextContext(2);i.ɵɵproperty("ngIf",n.icons.showRemoveIcon)}}function X(e,t){if(1&e&&(i.ɵɵelementStart(0,"div",35),i.ɵɵelement(1,"nz-progress",36),i.ɵɵelementEnd()),2&e){var n=i.ɵɵnextContext().$implicit;i.ɵɵadvance(1),i.ɵɵproperty("nzPercent",n.percent)("nzShowInfo",!1)("nzStrokeWidth",2)}}function J(e,t){if(1&e&&(i.ɵɵelementStart(0,"div"),i.ɵɵtemplate(1,P,9,2,"ng-template",null,1,i.ɵɵtemplateRefExtractor),i.ɵɵtemplate(3,j,3,2,"ng-template",null,2,i.ɵɵtemplateRefExtractor),i.ɵɵelementStart(5,"div",3),i.ɵɵtemplate(6,N,3,3,"span",4),i.ɵɵtemplate(7,H,3,2,"span",5),i.ɵɵelementEnd(),i.ɵɵtemplate(8,_,4,2,"ng-container",6),i.ɵɵtemplate(9,Q,1,1,"ng-template",null,7,i.ɵɵtemplateRefExtractor),i.ɵɵtemplate(11,X,2,3,"div",8),i.ɵɵelementEnd()),2&e){var n=t.$implicit,r=i.ɵɵreference(10),o=i.ɵɵnextContext();i.ɵɵclassMapInterpolate1("ant-upload-list-item ant-upload-list-item-",n.status,""),i.ɵɵproperty("@itemState",void 0),i.ɵɵadvance(6),i.ɵɵproperty("ngIf","error"===n.status),i.ɵɵadvance(1),i.ɵɵproperty("ngIf","error"!==n.status),i.ɵɵadvance(1),i.ɵɵproperty("ngIf","picture-card"===o.listType&&"uploading"!==n.status)("ngIfElse",r),i.ɵɵadvance(3),i.ɵɵproperty("ngIf","uploading"===n.status)}}var K=function(){function e(e,t,n,i){this.el=e,this.cdr=t,this.updateHostClassService=n,this.platform=i,this.imageTypes=["image","webp","png","svg","gif","jpg","jpeg","bmp"],this.locale={},this.prefixCls="ant-upload-list"}return Object.defineProperty(e.prototype,"showPic",{get:function(){return"picture"===this.listType||"picture-card"===this.listType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this._items},set:function(e){e.forEach((function(e){e.linkProps="string"==typeof e.linkProps?JSON.parse(e.linkProps):e.linkProps})),this._items=e},enumerable:!0,configurable:!0}),e.prototype.setClassMap=function(){var e,t=((e={})[this.prefixCls]=!0,e[this.prefixCls+"-"+this.listType]=!0,e);this.updateHostClassService.updateHostClass(this.el.nativeElement,t)},e.prototype.extname=function(e){var t=e.split("/"),n=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(n)||[""])[0]},e.prototype.isImageUrl=function(e){if(~this.imageTypes.indexOf(e.type))return!0;var t=e.thumbUrl||e.url||"";if(!t)return!1;var n=this.extname(t);return!(!/^data:image\//.test(t)&&!/(webp|svg|png|gif|jpg|jpeg|bmp)$/i.test(n))||!/^data:/.test(t)&&!n},e.prototype.previewFile=function(e,t){e.type&&-1===this.imageTypes.indexOf(e.type)&&t("");var n=new FileReader;n.onloadend=function(){return t(n.result)},n.readAsDataURL(e)},e.prototype.genThumb=function(){var e=this;if(this.platform.isBrowser){var t=window;this.showPic&&"undefined"!=typeof document&&void 0!==t&&t.FileReader&&t.File&&this.items.filter((function(e){return e.originFileObj instanceof File&&void 0===e.thumbUrl})).forEach((function(t){t.thumbUrl="",e.previewFile(t.originFileObj,(function(n){t.thumbUrl=n,e.detectChanges()}))}))}},e.prototype.showPreview=function(e){var t=this.icons,n=t.showPreviewIcon,i=t.hidePreviewIconInNonImage;return!!n&&(!!this.isImageUrl(e)||!i)},e.prototype.handlePreview=function(e,t){if(this.onPreview)return t.preventDefault(),this.onPreview(e)},e.prototype.handleRemove=function(e,t){t.preventDefault(),this.onRemove&&this.onRemove(e)},e.prototype.detectChanges=function(){this.cdr.detectChanges()},e.prototype.ngOnChanges=function(){this.setClassMap(),this.genThumb()},e.ɵfac=function(t){return new(t||e)(i.ɵɵdirectiveInject(i.ElementRef),i.ɵɵdirectiveInject(i.ChangeDetectorRef),i.ɵɵdirectiveInject(a.NzUpdateHostClassService),i.ɵɵdirectiveInject(s.Platform))},e.ɵcmp=i.ɵɵdefineComponent({type:e,selectors:[["nz-upload-list"]],inputs:{locale:"locale",listType:"listType",items:"items",icons:"icons",onPreview:"onPreview",onRemove:"onRemove"},exportAs:["nzUploadList"],features:[i.ɵɵProvidersFeature([a.NzUpdateHostClassService]),i.ɵɵNgOnChangesFeature()],decls:1,vars:1,consts:[[3,"class",4,"ngFor","ngForOf"],["icon",""],["preview",""],[1,"ant-upload-list-item-info"],["nz-tooltip","",3,"nzTitle",4,"ngIf"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["close",""],["class","ant-upload-list-item-progress",4,"ngIf"],["thumbUrlCheck",""],["thumbTpl",""],["noThumbTpl",""],["noPicTpl",""],["class","ant-upload-list-item-uploading-text",4,"ngIf","ngIfElse"],[1,"ant-upload-list-item-uploading-text"],["class","ant-upload-list-item-thumbnail","nz-icon","","nzType","picture","nzTheme","twotone",4,"ngIf","ngIfElse"],["nz-icon","","nzType","picture","nzTheme","twotone",1,"ant-upload-list-item-thumbnail"],["target","_blank","rel","noopener noreferrer",1,"ant-upload-list-item-thumbnail",3,"href","click"],[3,"src",4,"ngIf","ngIfElse"],[3,"src"],["nz-icon","","nzType","file","nzTheme","twotone",1,"ant-upload-list-item-icon"],["nz-icon","",3,"nzType"],["prevText",""],["target","_blank","rel","noopener noreferrer",1,"ant-upload-list-item-name",3,"href","title","click"],[1,"ant-upload-list-item-name",3,"title","click"],["nz-tooltip","",3,"nzTitle"],[3,"ngTemplateOutlet"],[1,"ant-upload-list-item-actions"],["target","_blank","rel","noopener noreferrer",3,"href","title","ngStyle","click",4,"ngIf"],["nz-icon","","nzType","delete",3,"title","click",4,"ngIf"],["target","_blank","rel","noopener noreferrer",3,"href","title","ngStyle","click"],["nz-icon","","nzType","eye-o"],["nz-icon","","nzType","delete",3,"title","click"],["nz-icon","","nzType","close",3,"title","click",4,"ngIf"],["nz-icon","","nzType","close",3,"title","click"],[1,"ant-upload-list-item-progress"],[3,"nzPercent","nzShowInfo","nzStrokeWidth"]],template:function(e,t){1&e&&i.ɵɵtemplate(0,J,12,9,"div",0),2&e&&i.ɵɵproperty("ngForOf",t.items)},directives:[p.NgForOf,p.NgIf,c.NzIconDirective,u.NzTooltipDirective,p.NgTemplateOutlet,p.NgStyle,f.NzProgressComponent],encapsulation:2,data:{animation:[l.trigger("itemState",[l.transition(":enter",[l.style({height:"0",width:"0",opacity:0}),l.animate(150,l.style({height:"*",width:"*",opacity:1}))]),l.transition(":leave",[l.animate(150,l.style({height:"0",width:"0",opacity:0}))])])]},changeDetection:0}),e}(),G=["uploadComp"],Y=["listComp"],Z=function(){return[]};function ee(e,t){if(1&e&&i.ɵɵelement(0,"nz-upload-list",6,7),2&e){var n=i.ɵɵnextContext();i.ɵɵstyleProp("display",n.nzShowUploadList?"":"none"),i.ɵɵproperty("locale",n.locale)("listType",n.nzListType)("items",n.nzFileList||i.ɵɵpureFunction0(7,Z))("icons",n.nzShowUploadList)("onPreview",n.nzPreview)("onRemove",n.onRemove)}}function te(e,t){1&e&&i.ɵɵprojection(0)}function ne(e,t){}function ie(e,t){if(1&e&&(i.ɵɵelementStart(0,"div",8),i.ɵɵelementStart(1,"div",9,10),i.ɵɵtemplate(3,ne,0,0,"ng-template",11),i.ɵɵelementEnd(),i.ɵɵelementEnd()),2&e){var n=i.ɵɵnextContext(),r=i.ɵɵreference(3);i.ɵɵstyleProp("display",n.nzShowButton?"":"none"),i.ɵɵproperty("ngClass",n.classList),i.ɵɵadvance(1),i.ɵɵproperty("options",n._btnOptions),i.ɵɵadvance(2),i.ɵɵproperty("ngTemplateOutlet",r)}}function re(e,t){}function oe(e,t){}var ae=function(){return{"ant-upload-btn":!0}};function le(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementContainerStart(0),i.ɵɵelementStart(1,"div",12),i.ɵɵlistener("drop",(function(e){return i.ɵɵrestoreView(n),i.ɵɵnextContext().fileDrop(e)}))("dragover",(function(e){return i.ɵɵrestoreView(n),i.ɵɵnextContext().fileDrop(e)}))("dragleave",(function(e){return i.ɵɵrestoreView(n),i.ɵɵnextContext().fileDrop(e)})),i.ɵɵelementStart(2,"div",13,10),i.ɵɵelementStart(4,"div",14),i.ɵɵtemplate(5,re,0,0,"ng-template",11),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵtemplate(6,oe,0,0,"ng-template",11),i.ɵɵelementContainerEnd()}if(2&e){var r=i.ɵɵnextContext(),o=i.ɵɵreference(3),a=i.ɵɵreference(1);i.ɵɵadvance(1),i.ɵɵproperty("ngClass",r.classList),i.ɵɵadvance(1),i.ɵɵproperty("options",r._btnOptions)("classes",i.ɵɵpureFunction0(5,ae)),i.ɵɵadvance(3),i.ɵɵproperty("ngTemplateOutlet",o),i.ɵɵadvance(1),i.ɵɵproperty("ngTemplateOutlet",a)}}function se(e,t){}function pe(e,t){}function ce(e,t){if(1&e&&(i.ɵɵelementContainerStart(0),i.ɵɵtemplate(1,se,0,0,"ng-template",11),i.ɵɵtemplate(2,pe,0,0,"ng-template",11),i.ɵɵelementContainerEnd()),2&e){i.ɵɵnextContext(2);var n=i.ɵɵreference(1),r=i.ɵɵreference(5);i.ɵɵadvance(1),i.ɵɵproperty("ngTemplateOutlet",n),i.ɵɵadvance(1),i.ɵɵproperty("ngTemplateOutlet",r)}}function ue(e,t){if(1&e&&i.ɵɵtemplate(0,ce,3,2,"ng-container",3),2&e){var n=i.ɵɵnextContext(),r=i.ɵɵreference(10);i.ɵɵproperty("ngIf","picture-card"===n.nzListType)("ngIfElse",r)}}function fe(e,t){}function de(e,t){}function me(e,t){if(1&e&&(i.ɵɵtemplate(0,fe,0,0,"ng-template",11),i.ɵɵtemplate(1,de,0,0,"ng-template",11)),2&e){i.ɵɵnextContext();var n=i.ɵɵreference(5),r=i.ɵɵreference(1);i.ɵɵproperty("ngTemplateOutlet",n),i.ɵɵadvance(1),i.ɵɵproperty("ngTemplateOutlet",r)}}var he=["*"],ge=function(){function e(e,t){var n=this;this.cdr=e,this.i18n=t,this.locale={},this.nzType="select",this.nzLimit=0,this.nzSize=0,this.nzDirectory=!1,this.nzOpenFileDialogOnClick=!0,this.nzFilter=[],this.nzFileList=[],this.nzDisabled=!1,this.nzListType="text",this.nzMultiple=!1,this.nzName="file",this._showUploadList=!0,this.nzShowButton=!0,this.nzWithCredentials=!1,this.nzChange=new i.EventEmitter,this.nzFileListChange=new i.EventEmitter,this.onStart=function(e){n.nzFileList||(n.nzFileList=[]);var t=n.fileToObject(e);t.status="uploading",n.nzFileList=n.nzFileList.concat(t),n.nzFileListChange.emit(n.nzFileList),n.nzChange.emit({file:t,fileList:n.nzFileList,type:"start"}),n.detectChangesList()},this.onProgress=function(e,t){var i=n.nzFileList,r=n.getFileItem(t,i);r.percent=e.percent,n.nzChange.emit({event:e,file:h({},r),fileList:n.nzFileList,type:"progress"}),n.detectChangesList()},this.onSuccess=function(e,t){var i=n.nzFileList,r=n.getFileItem(t,i);r.status="done",r.response=e,n.nzChange.emit({file:h({},r),fileList:i,type:"success"}),n.detectChangesList()},this.onError=function(e,t){var i=n.nzFileList,r=n.getFileItem(t,i);r.error=e,r.status="error",r.message=n.genErr(r),n.nzChange.emit({file:h({},r),fileList:i,type:"error"}),n.detectChangesList()},this.onRemove=function(e){n.uploadComp.abort(e),e.status="removed";var t="function"==typeof n.nzRemove?n.nzRemove(e):null==n.nzRemove||n.nzRemove;(t instanceof r.Observable?t:r.of(t)).pipe(o.filter((function(e){return e}))).subscribe((function(){n.nzFileList=n.removeFileItem(e,n.nzFileList),n.nzChange.emit({file:e,fileList:n.nzFileList,type:"removed"}),n.nzFileListChange.emit(n.nzFileList),n.cdr.detectChanges()}))},this.prefixCls="ant-upload",this.classList=[]}return Object.defineProperty(e.prototype,"nzShowUploadList",{get:function(){return this._showUploadList},set:function(e){this._showUploadList="boolean"==typeof e?a.toBoolean(e):e},enumerable:!0,configurable:!0}),e.prototype.zipOptions=function(){var e=this;"boolean"==typeof this.nzShowUploadList&&this.nzShowUploadList&&(this.nzShowUploadList={showPreviewIcon:!0,showRemoveIcon:!0,hidePreviewIconInNonImage:!1});var t=this.nzFilter.slice();if(this.nzMultiple&&this.nzLimit>0&&-1===t.findIndex((function(e){return"limit"===e.name}))&&t.push({name:"limit",fn:function(t){return t.slice(-e.nzLimit)}}),this.nzSize>0&&-1===t.findIndex((function(e){return"size"===e.name}))&&t.push({name:"size",fn:function(t){return t.filter((function(t){return t.size/1024<=e.nzSize}))}}),this.nzFileType&&this.nzFileType.length>0&&-1===t.findIndex((function(e){return"type"===e.name}))){var n=this.nzFileType.split(",");t.push({name:"type",fn:function(e){return e.filter((function(e){return~n.indexOf(e.type)}))}})}return this._btnOptions={disabled:this.nzDisabled,accept:this.nzAccept,action:this.nzAction,directory:this.nzDirectory,openFileDialogOnClick:this.nzOpenFileDialogOnClick,beforeUpload:this.nzBeforeUpload,customRequest:this.nzCustomRequest,data:this.nzData,headers:this.nzHeaders,name:this.nzName,multiple:this.nzMultiple,withCredentials:this.nzWithCredentials,filters:t,onStart:this.onStart,onProgress:this.onProgress,onSuccess:this.onSuccess,onError:this.onError},this},e.prototype.fileToObject=function(e){return{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.filename||e.name,size:e.size,type:e.type,uid:e.uid,response:e.response,error:e.error,percent:0,originFileObj:e}},e.prototype.getFileItem=function(e,t){return t.filter((function(t){return t.uid===e.uid}))[0]},e.prototype.removeFileItem=function(e,t){return t.filter((function(t){return t.uid!==e.uid}))},e.prototype.genErr=function(e){return e.response&&"string"==typeof e.response?e.response:e.error&&e.error.statusText||this.locale.uploadError},e.prototype.fileDrop=function(e){e.type!==this.dragState&&(this.dragState=e.type,this.setClassMap())},e.prototype.detectChangesList=function(){this.cdr.detectChanges(),this.listComp.detectChanges()},e.prototype.setClassMap=function(){var e=[];"drag"===this.nzType?(this.nzFileList.some((function(e){return"uploading"===e.status}))&&e.push(this.prefixCls+"-drag-uploading"),"dragover"===this.dragState&&e.push(this.prefixCls+"-drag-hover")):e=[this.prefixCls+"-select-"+this.nzListType],this.classList=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(z(arguments[t]));return e}([this.prefixCls,this.prefixCls+"-"+this.nzType],e,[this.nzDisabled&&this.prefixCls+"-disabled"||""]).filter((function(e){return!!e})),this.cdr.detectChanges()},e.prototype.ngOnInit=function(){var e=this;this.i18n$=this.i18n.localeChange.subscribe((function(){e.locale=e.i18n.getLocaleData("Upload"),e.detectChangesList()}))},e.prototype.ngOnChanges=function(e){var t=this;e.nzFileList&&(this.nzFileList||[]).forEach((function(e){return e.message=t.genErr(e)})),this.zipOptions().setClassMap()},e.prototype.ngOnDestroy=function(){this.i18n$.unsubscribe()},e.ɵfac=function(t){return new(t||e)(i.ɵɵdirectiveInject(i.ChangeDetectorRef),i.ɵɵdirectiveInject(d.NzI18nService))},e.ɵcmp=i.ɵɵdefineComponent({type:e,selectors:[["nz-upload"]],viewQuery:function(e,t){var n;(1&e&&(i.ɵɵviewQuery(G,!0),i.ɵɵviewQuery(Y,!0)),2&e)&&(i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.uploadComp=n.first),i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.listComp=n.first))},hostBindings:function(e,t,n){1&e&&i.ɵɵallocHostVars(1),2&e&&i.ɵɵclassProp("ant-upload-picture-card-wrapper","picture-card"===t.nzListType)},inputs:{nzType:"nzType",nzLimit:"nzLimit",nzSize:"nzSize",nzFileType:"nzFileType",nzAccept:"nzAccept",nzAction:"nzAction",nzDirectory:"nzDirectory",nzOpenFileDialogOnClick:"nzOpenFileDialogOnClick",nzBeforeUpload:"nzBeforeUpload",nzCustomRequest:"nzCustomRequest",nzData:"nzData",nzFilter:"nzFilter",nzFileList:"nzFileList",nzDisabled:"nzDisabled",nzHeaders:"nzHeaders",nzListType:"nzListType",nzMultiple:"nzMultiple",nzName:"nzName",nzShowUploadList:"nzShowUploadList",nzShowButton:"nzShowButton",nzWithCredentials:"nzWithCredentials",nzRemove:"nzRemove",nzPreview:"nzPreview"},outputs:{nzChange:"nzChange",nzFileListChange:"nzFileListChange"},exportAs:["nzUpload"],features:[i.ɵɵNgOnChangesFeature()],ngContentSelectors:he,decls:11,vars:2,consts:[["list",""],["con",""],["btn",""],[4,"ngIf","ngIfElse"],["select",""],["pic",""],[3,"locale","listType","items","icons","onPreview","onRemove"],["listComp",""],[3,"ngClass"],["nz-upload-btn","",3,"options"],["uploadComp",""],[3,"ngTemplateOutlet"],[3,"ngClass","drop","dragover","dragleave"],["nz-upload-btn","",3,"options","classes"],[1,"ant-upload-drag-container"]],template:function(e,t){if(1&e&&(i.ɵɵprojectionDef(),i.ɵɵtemplate(0,ee,2,8,"ng-template",null,0,i.ɵɵtemplateRefExtractor),i.ɵɵtemplate(2,te,1,0,"ng-template",null,1,i.ɵɵtemplateRefExtractor),i.ɵɵtemplate(4,ie,4,4,"ng-template",null,2,i.ɵɵtemplateRefExtractor),i.ɵɵtemplate(6,le,7,6,"ng-container",3),i.ɵɵtemplate(7,ue,1,2,"ng-template",null,4,i.ɵɵtemplateRefExtractor),i.ɵɵtemplate(9,me,2,2,"ng-template",null,5,i.ɵɵtemplateRefExtractor)),2&e){var n=i.ɵɵreference(8);i.ɵɵadvance(6),i.ɵɵproperty("ngIf","drag"===t.nzType)("ngIfElse",n)}},directives:[p.NgIf,K,p.NgClass,w,p.NgTemplateOutlet],encapsulation:2,changeDetection:0}),g([a.InputNumber(),y("design:type",Object)],e.prototype,"nzLimit",void 0),g([a.InputNumber(),y("design:type",Object)],e.prototype,"nzSize",void 0),g([a.InputBoolean(),y("design:type",Object)],e.prototype,"nzDirectory",void 0),g([a.InputBoolean(),y("design:type",Object)],e.prototype,"nzOpenFileDialogOnClick",void 0),g([a.InputBoolean(),y("design:type",Object)],e.prototype,"nzDisabled",void 0),g([a.InputBoolean(),y("design:type",Object)],e.prototype,"nzMultiple",void 0),g([a.InputBoolean(),y("design:type",Object)],e.prototype,"nzShowButton",void 0),g([a.InputBoolean(),y("design:type",Object)],e.prototype,"nzWithCredentials",void 0),e}(),ye=function(){function e(){}return e.ɵmod=i.ɵɵdefineNgModule({type:e}),e.ɵinj=i.ɵɵdefineInjector({factory:function(t){return new(t||e)},imports:[[p.CommonModule,m.FormsModule,s.PlatformModule,u.NzToolTipModule,f.NzProgressModule,d.NzI18nModule,c.NzIconModule]]}),e}();("undefined"==typeof ngJitMode||ngJitMode)&&i.ɵɵsetNgModuleScope(ye,{declarations:[ge,w,K],imports:[p.CommonModule,m.FormsModule,s.PlatformModule,u.NzToolTipModule,f.NzProgressModule,d.NzI18nModule,c.NzIconModule],exports:[ge]}),e.NzUploadBtnComponent=w,e.NzUploadComponent=ge,e.NzUploadListComponent=K,e.NzUploadModule=ye,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ng-zorro-antd-upload.umd.min.js.map