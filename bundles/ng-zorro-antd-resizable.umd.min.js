!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/core"),require("@angular/cdk/platform"),require("ng-zorro-antd/core"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("ng-zorro-antd/resizable",["exports","@angular/common","@angular/core","@angular/cdk/platform","ng-zorro-antd/core","rxjs","rxjs/operators"],t):t(((e=e||self)["ng-zorro-antd"]=e["ng-zorro-antd"]||{},e["ng-zorro-antd"].resizable={}),e.ng.common,e.ng.core,e.ng.cdk.platform,e["ng-zorro-antd"].core,e.rxjs,e.rxjs.operators)}(this,(function(e,t,n,i,o,s,r){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var c=function(){return(c=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function h(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}
/**
     * @license
     * Copyright Alibaba.com All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE
     */
function a(e){return o.isTouchEvent(e)?e.touches[0]||e.changedTouches[0]:e}
/**
     * @license
     * Copyright Alibaba.com All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE
     */var l=function(){function e(e,t){this.ngZone=e,this.listeners=new Map,this.handleMouseDown$=new s.Subject,this.documentMouseUp$=new s.Subject,this.documentMouseMove$=new s.Subject,this.mouseEntered$=new s.Subject,this.document=t}return e.prototype.startResizing=function(e){var t=this,n=o.isTouchEvent(e);this.clearListeners();var i=n?"touchmove":"mousemove",s=n?"touchend":"mouseup";this.listeners.set(i,(function(e){t.documentMouseMove$.next(e)})),this.listeners.set(s,(function(e){t.documentMouseUp$.next(e),t.clearListeners()})),this.ngZone.runOutsideAngular((function(){t.listeners.forEach((function(e,n){t.document.addEventListener(n,e)}))}))},e.prototype.clearListeners=function(){var e=this;this.listeners.forEach((function(t,n){e.document.removeEventListener(n,t)})),this.listeners.clear()},e.prototype.ngOnDestroy=function(){this.handleMouseDown$.complete(),this.documentMouseUp$.complete(),this.documentMouseMove$.complete(),this.mouseEntered$.complete(),this.clearListeners()},e.ɵfac=function(i){return new(i||e)(n.ɵɵinject(n.NgZone),n.ɵɵinject(t.DOCUMENT))},e.ɵprov=n.ɵɵdefineInjectable({token:e,factory:e.ɵfac}),e}(),d=function(){function e(e,t,i,o,c){var h=this;this.elementRef=e,this.renderer=t,this.nzResizableService=i,this.platform=o,this.ngZone=c,this.nzBounds="parent",this.nzMinHeight=40,this.nzMinWidth=40,this.nzGridColumnCount=-1,this.nzMaxColumn=-1,this.nzMinColumn=-1,this.nzLockAspectRatio=!1,this.nzPreview=!1,this.nzResize=new n.EventEmitter,this.nzResizeEnd=new n.EventEmitter,this.nzResizeStart=new n.EventEmitter,this.resizing=!1,this.destroy$=new s.Subject,this.nzResizableService.handleMouseDown$.pipe(r.takeUntil(this.destroy$)).subscribe((function(e){h.resizing=!0,h.nzResizableService.startResizing(e.mouseEvent),h.currentHandleEvent=e,h.setCursor(),h.nzResizeStart.emit({mouseEvent:e.mouseEvent}),h.elRect=h.el.getBoundingClientRect()})),this.nzResizableService.documentMouseUp$.pipe(r.takeUntil(this.destroy$)).subscribe((function(e){h.resizing&&(h.resizing=!1,h.nzResizableService.documentMouseUp$.next(),h.endResize(e))})),this.nzResizableService.documentMouseMove$.pipe(r.takeUntil(this.destroy$)).subscribe((function(e){h.resizing&&h.resize(e)}))}return e.prototype.onMouseenter=function(){this.nzResizableService.mouseEntered$.next(!0)},e.prototype.onMouseleave=function(){this.nzResizableService.mouseEntered$.next(!1)},e.prototype.setPosition=function(){var e=getComputedStyle(this.el).position;"static"!==e&&e||this.renderer.setStyle(this.el,"position","relative")},e.prototype.calcSize=function(e,t,n){var i,s,r,c,h=0,u=0,a=this.nzMinWidth,l=1/0,d=1/0;if("parent"===this.nzBounds){var z=this.renderer.parentNode(this.el);if(z instanceof HTMLElement){var p=z.getBoundingClientRect();l=p.width,d=p.height}}else if("window"===this.nzBounds)"undefined"!=typeof window&&(l=window.innerWidth,d=window.innerHeight);else if(this.nzBounds&&this.nzBounds.nativeElement&&this.nzBounds.nativeElement instanceof HTMLElement){var m=this.nzBounds.nativeElement.getBoundingClientRect();l=m.width,d=m.height}return r=o.ensureInBounds(this.nzMaxWidth,l),c=o.ensureInBounds(this.nzMaxHeight,d),-1!==this.nzGridColumnCount&&(u=r/this.nzGridColumnCount,a=-1!==this.nzMinColumn?u*this.nzMinColumn:a,r=-1!==this.nzMaxColumn?u*this.nzMaxColumn:r),-1!==n?/(left|right)/i.test(this.currentHandleEvent.direction)?(i=Math.min(Math.max(e,a),r),((s=Math.min(Math.max(i/n,this.nzMinHeight),c))>=c||s<=this.nzMinHeight)&&(i=Math.min(Math.max(s*n,a),r))):(s=Math.min(Math.max(t,this.nzMinHeight),c),((i=Math.min(Math.max(s*n,a),r))>=r||i<=a)&&(s=Math.min(Math.max(i/n,this.nzMinHeight),c))):(i=Math.min(Math.max(e,a),r),s=Math.min(Math.max(t,this.nzMinHeight),c)),-1!==this.nzGridColumnCount&&(i=(h=Math.round(i/u))*u),{col:h,width:i,height:s}},e.prototype.setCursor=function(){switch(this.currentHandleEvent.direction){case"left":case"right":this.renderer.setStyle(document.body,"cursor","col-resize");break;case"top":case"bottom":this.renderer.setStyle(document.body,"cursor","row-resize");break;case"topLeft":case"bottomRight":this.renderer.setStyle(document.body,"cursor","nwse-resize");break;case"topRight":case"bottomLeft":this.renderer.setStyle(document.body,"cursor","nesw-resize")}this.renderer.setStyle(document.body,"user-select","none")},e.prototype.resize=function(e){var t=this,n=this.elRect,i=a(e),o=a(this.currentHandleEvent.mouseEvent),s=n.width,r=n.height,h=this.nzLockAspectRatio?s/r:-1;switch(this.currentHandleEvent.direction){case"bottomRight":s=i.clientX-n.left,r=i.clientY-n.top;break;case"bottomLeft":s=n.width+o.clientX-i.clientX,r=i.clientY-n.top;break;case"topRight":s=i.clientX-n.left,r=n.height+o.clientY-i.clientY;break;case"topLeft":s=n.width+o.clientX-i.clientX,r=n.height+o.clientY-i.clientY;break;case"top":r=n.height+o.clientY-i.clientY;break;case"right":s=i.clientX-n.left;break;case"bottom":r=i.clientY-n.top;break;case"left":s=n.width+o.clientX-i.clientX}var u=this.calcSize(s,r,h);this.sizeCache=c({},u),this.ngZone.run((function(){t.nzResize.emit(c(c({},u),{mouseEvent:e}))})),this.nzPreview&&this.previewResize(u)},e.prototype.endResize=function(e){var t=this;this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(document.body,"user-select",""),this.removeGhostElement();var n=this.sizeCache?c({},this.sizeCache):{width:this.elRect.width,height:this.elRect.height};this.ngZone.run((function(){t.nzResizeEnd.emit(c(c({},n),{mouseEvent:e}))})),this.sizeCache=null,this.currentHandleEvent=null},e.prototype.previewResize=function(e){var t=e.width,n=e.height;this.createGhostElement(),this.renderer.setStyle(this.ghostElement,"width",t+"px"),this.renderer.setStyle(this.ghostElement,"height",n+"px")},e.prototype.createGhostElement=function(){this.ghostElement||(this.ghostElement=this.renderer.createElement("div"),this.renderer.setAttribute(this.ghostElement,"class","nz-resizable-preview")),this.renderer.appendChild(this.el,this.ghostElement)},e.prototype.removeGhostElement=function(){this.ghostElement&&this.renderer.removeChild(this.el,this.ghostElement)},e.prototype.ngAfterViewInit=function(){this.platform.isBrowser&&(this.el=this.elementRef.nativeElement,this.setPosition())},e.prototype.ngOnDestroy=function(){this.ghostElement=null,this.sizeCache=null,this.destroy$.next(),this.destroy$.complete()},e.ɵfac=function(t){return new(t||e)(n.ɵɵdirectiveInject(n.ElementRef),n.ɵɵdirectiveInject(n.Renderer2),n.ɵɵdirectiveInject(l),n.ɵɵdirectiveInject(i.Platform),n.ɵɵdirectiveInject(n.NgZone))},e.ɵdir=n.ɵɵdefineDirective({type:e,selectors:[["","nz-resizable",""]],hostBindings:function(e,t,i){1&e&&(n.ɵɵallocHostVars(2),n.ɵɵlistener("mouseenter",(function(e){return t.onMouseenter()}))("mouseleave",(function(e){return t.onMouseleave()}))),2&e&&n.ɵɵclassProp("nz-resizable",!0)("nz-resizable-resizing",t.resizing)},inputs:{nzBounds:"nzBounds",nzMaxHeight:"nzMaxHeight",nzMaxWidth:"nzMaxWidth",nzMinHeight:"nzMinHeight",nzMinWidth:"nzMinWidth",nzGridColumnCount:"nzGridColumnCount",nzMaxColumn:"nzMaxColumn",nzMinColumn:"nzMinColumn",nzLockAspectRatio:"nzLockAspectRatio",nzPreview:"nzPreview"},outputs:{nzResize:"nzResize",nzResizeEnd:"nzResizeEnd",nzResizeStart:"nzResizeStart"},exportAs:["nzResizable"],features:[n.ɵɵProvidersFeature([l])]}),h([o.InputBoolean(),u("design:type",Boolean)],e.prototype,"nzLockAspectRatio",void 0),h([o.InputBoolean(),u("design:type",Boolean)],e.prototype,"nzPreview",void 0),e}(),z=["*"],p=function(e,t){this.direction=e,this.mouseEvent=t},m=function(){function e(e,t){this.nzResizableService=e,this.cdr=t,this.nzDirection="bottomRight",this.nzMouseDown=new n.EventEmitter,this.entered=!1,this.destroy$=new s.Subject}return e.prototype.ngOnInit=function(){var e=this;this.nzResizableService.mouseEntered$.pipe(r.takeUntil(this.destroy$)).subscribe((function(t){e.entered=t,e.cdr.markForCheck()}))},e.prototype.onMousedown=function(e){this.nzResizableService.handleMouseDown$.next(new p(this.nzDirection,e))},e.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},e.ɵfac=function(t){return new(t||e)(n.ɵɵdirectiveInject(l),n.ɵɵdirectiveInject(n.ChangeDetectorRef))},e.ɵcmp=n.ɵɵdefineComponent({type:e,selectors:[["nz-resize-handle"],["","nz-resize-handle",""]],hostBindings:function(e,t,i){1&e&&(n.ɵɵallocHostVars(3),n.ɵɵlistener("mousedown",(function(e){return t.onMousedown(e)}))("touchstart",(function(e){return t.onMousedown(e)}))),2&e&&(n.ɵɵclassMap("nz-resizable-handle nz-resizable-handle-"+t.nzDirection),n.ɵɵclassProp("nz-resizable-handle-box-hover",t.entered))},inputs:{nzDirection:"nzDirection"},outputs:{nzMouseDown:"nzMouseDown"},exportAs:["nzResizeHandle"],ngContentSelectors:z,decls:1,vars:0,template:function(e,t){1&e&&(n.ɵɵprojectionDef(),n.ɵɵprojection(0))},encapsulation:2,changeDetection:0}),e}();
/**
     * @license
     * Copyright Alibaba.com All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE
     */
function f(e,t){if(1&e&&n.ɵɵelement(0,"nz-resize-handle",1),2&e){var i=t.$implicit;n.ɵɵproperty("nzDirection",i)}}var g=["bottomRight","topRight","bottomLeft","topLeft","bottom","right","top","left"],v=function(){function e(){this.nzDirections=g,this.directions=new Set(this.nzDirections)}return e.prototype.ngOnChanges=function(e){e.nzDirections&&(this.directions=new Set(e.nzDirections.currentValue))},e.ɵfac=function(t){return new(t||e)},e.ɵcmp=n.ɵɵdefineComponent({type:e,selectors:[["nz-resize-handles"]],inputs:{nzDirections:"nzDirections"},exportAs:["nzResizeHandles"],features:[n.ɵɵNgOnChangesFeature()],decls:1,vars:1,consts:[[3,"nzDirection",4,"ngFor","ngForOf"],[3,"nzDirection"]],template:function(e,t){1&e&&n.ɵɵtemplate(0,f,1,1,"nz-resize-handle",0),2&e&&n.ɵɵproperty("ngForOf",t.directions)},directives:[t.NgForOf,m],encapsulation:2,changeDetection:0}),e}(),M=function(){function e(){}return e.ɵmod=n.ɵɵdefineNgModule({type:e}),e.ɵinj=n.ɵɵdefineInjector({factory:function(t){return new(t||e)},imports:[[t.CommonModule]]}),e}();("undefined"==typeof ngJitMode||ngJitMode)&&n.ɵɵsetNgModuleScope(M,{declarations:[d,m,v],imports:[t.CommonModule],exports:[d,m,v]}),e.DEFAULT_RESIZE_DIRECTION=g,e.NzResizableDirective=d,e.NzResizableModule=M,e.NzResizableService=l,e.NzResizeHandleComponent=m,e.NzResizeHandleMouseDownEvent=p,e.NzResizeHandlesComponent=v,e.getEventWithPoint=a,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ng-zorro-antd-resizable.umd.min.js.map