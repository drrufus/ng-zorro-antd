!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/core"),require("ng-zorro-antd/icon"),require("ng-zorro-antd/core"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("ng-zorro-antd/progress",["exports","@angular/common","@angular/core","ng-zorro-antd/icon","ng-zorro-antd/core","rxjs","rxjs/operators"],t):t(((e=e||self)["ng-zorro-antd"]=e["ng-zorro-antd"]||{},e["ng-zorro-antd"].progress={}),e.ng.common,e.ng.core,e["ng-zorro-antd"].icon,e["ng-zorro-antd"].core,e.rxjs,e.rxjs.operators)}(this,(function(e,t,r,n,o,s,i){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function a(e,t,r,n){var o,s=arguments.length,i=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var p=function(e){var t=[];return Object.keys(e).forEach((function(r){var n=e[r],o=+r.replace("%","");if(isNaN(o))return{};t.push({key:o,value:n})})),t=t.sort((function(e,t){return e.key-t.key}))},l=function(e){var t=e.from,r=void 0===t?"#1890ff":t,n=e.to,o=void 0===n?"#1890ff":n,s=e.direction,i=void 0===s?"to right":s,a=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(e,["from","to","direction"]);return 0!==Object.keys(a).length?"linear-gradient("+i+", "+p(a).map((function(e){var t=e.key;return e.value+" "+t+"%"})).join(", ")+")":"linear-gradient("+i+", "+r+", "+o+")"},u=0,d=new Map([["success","check"],["exception","close"]]),g=new Map([["normal","#108ee9"],["exception","#ff5500"],["success","#87d068"]]),h=function(e){return e+"%"},f=function(){function e(e){this.nzConfigService=e,this.nzWidth=132,this.nzPercent=0,this.nzType="line",this.lineGradient=null,this.isGradient=!1,this.gradientId=u++,this.progressCirclePath=[],this.trackByFn=function(e){return""+e},this.cachedStatus="normal",this.inferredStatus="normal",this.destroy$=new s.Subject}return Object.defineProperty(e.prototype,"formatter",{get:function(){return this.nzFormat||h},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this.nzStatus||this.inferredStatus},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeWidth",{get:function(){return this.nzStrokeWidth||("line"===this.nzType&&"small"!==this.nzSize?8:6)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCircleStyle",{get:function(){return"circle"===this.nzType||"dashboard"===this.nzType},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){var t=e.nzGapPosition,r=e.nzStrokeLinecap,n=e.nzStrokeColor,s=e.nzGapDegree,i=e.nzType,a=e.nzStatus,c=e.nzPercent,p=e.nzSuccessPercent;(a&&(this.cachedStatus=this.nzStatus||this.cachedStatus),c||p)&&(parseInt(this.nzPercent.toString(),10)>=100?(o.isNotNil(this.nzSuccessPercent)&&this.nzSuccessPercent>=100||void 0===this.nzSuccessPercent)&&(this.inferredStatus="success"):this.inferredStatus=this.cachedStatus);(a||c||p)&&this.updateIcon(),n&&this.setStrokeColor(),(t||r||s||i||c||n)&&this.getCirclePaths()},e.prototype.ngOnInit=function(){var e=this;this.nzConfigService.getConfigChangeEventForComponent("progress").pipe(i.takeUntil(this.destroy$)).subscribe((function(){e.updateIcon(),e.setStrokeColor(),e.getCirclePaths()}))},e.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},e.prototype.updateIcon=function(){var e=d.get(this.status);this.icon=e?e+(this.isCircleStyle?"-o":"-circle-fill"):""},e.prototype.getCirclePaths=function(){var e=this;if(this.isCircleStyle){var t=o.isNotNil(this.nzSuccessPercent)?[this.nzSuccessPercent,this.nzPercent]:[this.nzPercent],r=50-this.strokeWidth/2,n=this.nzGapPosition||("circle"===this.nzType?"top":"bottom"),s=2*Math.PI*r,i=this.nzGapDegree||("circle"===this.nzType?0:75),a=0,c=-r,p=0,l=-2*r;switch(n){case"left":a=-r,c=0,p=2*r,l=0;break;case"right":a=r,c=0,p=-2*r,l=0;break;case"bottom":c=r,l=2*r}this.pathString="M 50,50 m "+a+","+c+"\n       a "+r+","+r+" 0 1 1 "+p+","+-l+"\n       a "+r+","+r+" 0 1 1 "+-p+","+l,this.trailPathStyle={strokeDasharray:s-i+"px "+s+"px",strokeDashoffset:"-"+i/2+"px",transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s"},this.progressCirclePath=t.map((function(r,n){var o=2===t.length&&0===n;return{stroke:e.isGradient&&!o?"url(#gradient-"+e.gradientId+")":null,strokePathStyle:{stroke:e.isGradient?null:o?g.get("success"):e.nzStrokeColor,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s",strokeDasharray:(r||0)/100*(s-i)+"px "+s+"px",strokeDashoffset:"-"+i/2+"px"}}})).reverse()}},e.prototype.setStrokeColor=function(){var e,t=this.nzStrokeColor,r=this.isGradient=!!t&&"string"!=typeof t;r&&!this.isCircleStyle?this.lineGradient=l(t):r&&this.isCircleStyle?this.circleGradient=(e=this.nzStrokeColor,p(e).map((function(e){return{offset:e.key+"%",color:e.value}}))):(this.lineGradient=null,this.circleGradient=[])},e.decorators=[{type:r.Component,args:[{changeDetection:r.ChangeDetectionStrategy.OnPush,encapsulation:r.ViewEncapsulation.None,selector:"nz-progress",exportAs:"nzProgress",preserveWhitespaces:!1,template:'<ng-template #progressInfoTemplate>\r\n  <span class="ant-progress-text"\r\n        *ngIf="nzShowInfo">\r\n    <ng-container *ngIf="status === \'exception\' || (status === \'success\' && !nzFormat); else formatTemplate">\r\n      <i nz-icon\r\n         [nzType]="icon"></i>\r\n    </ng-container>\r\n    <ng-template #formatTemplate>\r\n      {{ formatter(nzPercent) }}\r\n    </ng-template>\r\n  </span>\r\n</ng-template>\r\n\r\n<div [ngClass]="\'ant-progress ant-progress-status-\' + status"\r\n     [class.ant-progress-line]="nzType == \'line\'"\r\n     [class.ant-progress-small]="nzSize == \'small\'"\r\n     [class.ant-progress-show-info]="nzShowInfo"\r\n     [class.ant-progress-circle]="isCircleStyle">\r\n  \x3c!-- line progress --\x3e\r\n  <div *ngIf="nzType === \'line\'">\r\n    <div class="ant-progress-outer">\r\n      <div class="ant-progress-inner">\r\n        <div class="ant-progress-bg"\r\n             [style.width.%]="nzPercent"\r\n             [style.border-radius]="nzStrokeLinecap === \'round\' ? \'100px\' : \'0\'"\r\n             [style.background]="!isGradient ? nzStrokeColor : null"\r\n             [style.background-image]="isGradient ? lineGradient : null"\r\n             [style.height.px]="strokeWidth"></div>\r\n        <div *ngIf="nzSuccessPercent || nzSuccessPercent === 0"\r\n             class="ant-progress-success-bg"\r\n             [style.width.%]="nzSuccessPercent"\r\n             [style.border-radius]="nzStrokeLinecap === \'round\' ? \'100px\' : \'0\'"\r\n             [style.height.px]="strokeWidth"></div>\r\n      </div>\r\n    </div>\r\n    <ng-template [ngTemplateOutlet]="progressInfoTemplate"></ng-template>\r\n  </div>\r\n\r\n  \x3c!-- circle / dashboard progress --\x3e\r\n  <div [style.width.px]="this.nzWidth"\r\n       [style.height.px]="this.nzWidth"\r\n       [style.fontSize.px]="this.nzWidth * 0.15 + 6"\r\n       class="ant-progress-inner"\r\n       [class.ant-progress-circle-gradient]="isGradient"\r\n       *ngIf="isCircleStyle">\r\n    <svg class="ant-progress-circle "\r\n         viewBox="0 0 100 100">\r\n      <defs *ngIf="isGradient">\r\n        <linearGradient [id]="\'gradient-\' + gradientId"\r\n                        x1="100%"\r\n                        y1="0%"\r\n                        x2="0%"\r\n                        y2="0%">\r\n          <stop *ngFor="let i of circleGradient;"\r\n                [attr.offset]="i.offset"\r\n                [attr.stop-color]="i.color"></stop>\r\n        </linearGradient>\r\n      </defs>\r\n      <path class="ant-progress-circle-trail"\r\n            stroke="#f3f3f3"\r\n            fill-opacity="0"\r\n            [attr.stroke-width]="strokeWidth"\r\n            [attr.d]="pathString"\r\n            [ngStyle]="trailPathStyle"></path>\r\n      <path *ngFor="let p of progressCirclePath; trackBy: trackByFn"\r\n            class="ant-progress-circle-path"\r\n            fill-opacity="0"\r\n            [attr.d]="pathString"\r\n            [attr.stroke-linecap]="nzStrokeLinecap"\r\n            [attr.stroke]="p.stroke"\r\n            [attr.stroke-width]="nzPercent ? strokeWidth : 0"\r\n            [ngStyle]="p.strokePathStyle">\r\n      </path>\r\n    </svg>\r\n    <ng-template [ngTemplateOutlet]="progressInfoTemplate"></ng-template>\r\n  </div>\r\n</div>\r\n'}]}],e.ctorParameters=function(){return[{type:o.NzConfigService}]},e.propDecorators={nzShowInfo:[{type:r.Input}],nzWidth:[{type:r.Input}],nzStrokeColor:[{type:r.Input}],nzSize:[{type:r.Input}],nzFormat:[{type:r.Input}],nzSuccessPercent:[{type:r.Input}],nzPercent:[{type:r.Input}],nzStrokeWidth:[{type:r.Input}],nzGapDegree:[{type:r.Input}],nzStatus:[{type:r.Input}],nzType:[{type:r.Input}],nzGapPosition:[{type:r.Input}],nzStrokeLinecap:[{type:r.Input}]},a([o.WithConfig("progress",!0),c("design:type",Boolean)],e.prototype,"nzShowInfo",void 0),a([o.WithConfig("progress"),c("design:type",Object)],e.prototype,"nzStrokeColor",void 0),a([o.WithConfig("progress","default"),c("design:type",String)],e.prototype,"nzSize",void 0),a([o.InputNumber(),c("design:type",Number)],e.prototype,"nzSuccessPercent",void 0),a([o.InputNumber(),c("design:type",Number)],e.prototype,"nzPercent",void 0),a([o.WithConfig("progress"),o.InputNumber(),c("design:type",Number)],e.prototype,"nzStrokeWidth",void 0),a([o.WithConfig("progress"),o.InputNumber(),c("design:type",Number)],e.prototype,"nzGapDegree",void 0),a([o.WithConfig("progress","top"),c("design:type",String)],e.prototype,"nzGapPosition",void 0),a([o.WithConfig("progress","round"),c("design:type",String)],e.prototype,"nzStrokeLinecap",void 0),e}();var y=function(){function e(){}return e.decorators=[{type:r.NgModule,args:[{exports:[f],declarations:[f],imports:[t.CommonModule,n.NzIconModule]}]}],e}();
/**
     * @license
     * Copyright Alibaba.com All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE
     */e.NzProgressComponent=f,e.NzProgressModule=y,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ng-zorro-antd-progress.umd.min.js.map