!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/core"),require("ng-zorro-antd/icon"),require("ng-zorro-antd/core"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("ng-zorro-antd/progress",["exports","@angular/common","@angular/core","ng-zorro-antd/icon","ng-zorro-antd/core","rxjs","rxjs/operators"],t):t(((e=e||self)["ng-zorro-antd"]=e["ng-zorro-antd"]||{},e["ng-zorro-antd"].progress={}),e.ng.common,e.ng.core,e["ng-zorro-antd"].icon,e["ng-zorro-antd"].core,e.rxjs,e.rxjs.operators)}(this,(function(e,t,n,r,o,i,s){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function a(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var p=function(e){var t=[];return Object.keys(e).forEach((function(n){var r=e[n],o=+n.replace("%","");isNaN(o)||t.push({key:o,value:r})})),t=t.sort((function(e,t){return e.key-t.key}))},l=function(e){var t=e.from,n=void 0===t?"#1890ff":t,r=e.to,o=void 0===r?"#1890ff":r,i=e.direction,s=void 0===i?"to right":i,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["from","to","direction"]);return 0!==Object.keys(a).length?"linear-gradient("+s+", "+p(a).map((function(e){var t=e.key;return e.value+" "+t+"%"})).join(", ")+")":"linear-gradient("+s+", "+n+", "+o+")"};function d(e,t){if(1&e&&(n.ɵɵelementContainerStart(0),n.ɵɵelement(1,"i",8),n.ɵɵelementContainerEnd()),2&e){var r=n.ɵɵnextContext(3);n.ɵɵadvance(1),n.ɵɵproperty("nzType",r.icon)}}function f(e,t){if(1&e&&n.ɵɵtext(0),2&e){var r=n.ɵɵnextContext(3);n.ɵɵtextInterpolate1(" ",r.formatter(r.nzPercent)," ")}}function u(e,t){if(1&e&&(n.ɵɵelementStart(0,"span",5),n.ɵɵtemplate(1,d,2,1,"ng-container",6),n.ɵɵtemplate(2,f,1,1,"ng-template",null,7,n.ɵɵtemplateRefExtractor),n.ɵɵelementEnd()),2&e){var r=n.ɵɵreference(3),o=n.ɵɵnextContext(2);n.ɵɵadvance(1),n.ɵɵproperty("ngIf","exception"===o.status||"success"===o.status&&!o.nzFormat)("ngIfElse",r)}}function g(e,t){if(1&e&&n.ɵɵtemplate(0,u,4,2,"span",4),2&e){var r=n.ɵɵnextContext();n.ɵɵproperty("ngIf",r.nzShowInfo)}}function h(e,t){if(1&e&&n.ɵɵelement(0,"div",14),2&e){var r=n.ɵɵnextContext(2);n.ɵɵstyleProp("width",r.nzSuccessPercent,"%")("border-radius","round"===r.nzStrokeLinecap?"100px":"0")("height",r.strokeWidth,"px")}}function y(e,t){}function z(e,t){if(1&e&&(n.ɵɵelementStart(0,"div"),n.ɵɵelementStart(1,"div",9),n.ɵɵelementStart(2,"div",10),n.ɵɵelement(3,"div",11),n.ɵɵtemplate(4,h,1,3,"div",12),n.ɵɵelementEnd(),n.ɵɵelementEnd(),n.ɵɵtemplate(5,y,0,0,"ng-template",13),n.ɵɵelementEnd()),2&e){var r=n.ɵɵnextContext(),o=n.ɵɵreference(1);n.ɵɵadvance(3),n.ɵɵstyleSanitizer(n.ɵɵdefaultStyleSanitizer),n.ɵɵstyleProp("width",r.nzPercent,"%")("border-radius","round"===r.nzStrokeLinecap?"100px":"0")("background",r.isGradient?null:r.nzStrokeColor)("background-image",r.isGradient?r.lineGradient:null)("height",r.strokeWidth,"px"),n.ɵɵadvance(1),n.ɵɵproperty("ngIf",r.nzSuccessPercent||0===r.nzSuccessPercent),n.ɵɵadvance(1),n.ɵɵproperty("ngTemplateOutlet",o)}}function m(e,t){if(1&e&&(n.ɵɵnamespaceSVG(),n.ɵɵelement(0,"stop")),2&e){var r=t.$implicit;n.ɵɵattribute("offset",r.offset)("stop-color",r.color)}}function S(e,t){if(1&e&&(n.ɵɵnamespaceSVG(),n.ɵɵelementStart(0,"defs"),n.ɵɵelementStart(1,"linearGradient",18),n.ɵɵtemplate(2,m,1,2,"stop",19),n.ɵɵelementEnd(),n.ɵɵelementEnd()),2&e){var r=n.ɵɵnextContext(2);n.ɵɵadvance(1),n.ɵɵproperty("id","gradient-"+r.gradientId),n.ɵɵadvance(1),n.ɵɵproperty("ngForOf",r.circleGradient)}}function v(e,t){if(1&e&&(n.ɵɵnamespaceSVG(),n.ɵɵelement(0,"path",20)),2&e){var r=t.$implicit,o=n.ɵɵnextContext(2);n.ɵɵproperty("ngStyle",r.strokePathStyle),n.ɵɵattribute("d",o.pathString)("stroke-linecap",o.nzStrokeLinecap)("stroke",r.stroke)("stroke-width",o.nzPercent?o.strokeWidth:0)}}function k(e,t){1&e&&n.ɵɵnamespaceSVG()}function x(e,t){if(1&e&&(n.ɵɵelementStart(0,"div",10),n.ɵɵnamespaceSVG(),n.ɵɵelementStart(1,"svg",15),n.ɵɵtemplate(2,S,3,2,"defs",2),n.ɵɵelement(3,"path",16),n.ɵɵtemplate(4,v,1,5,"path",17),n.ɵɵelementEnd(),n.ɵɵtemplate(5,k,0,0,"ng-template",13),n.ɵɵelementEnd()),2&e){var r=n.ɵɵnextContext(),o=n.ɵɵreference(1);n.ɵɵstyleProp("width",r.nzWidth,"px")("height",r.nzWidth,"px")("font-size",.15*r.nzWidth+6,"px"),n.ɵɵclassProp("ant-progress-circle-gradient",r.isGradient),n.ɵɵadvance(2),n.ɵɵproperty("ngIf",r.isGradient),n.ɵɵadvance(1),n.ɵɵproperty("ngStyle",r.trailPathStyle),n.ɵɵattribute("stroke-width",r.strokeWidth)("d",r.pathString),n.ɵɵadvance(1),n.ɵɵproperty("ngForOf",r.progressCirclePath)("ngForTrackBy",r.trackByFn),n.ɵɵadvance(1),n.ɵɵproperty("ngTemplateOutlet",o)}}var C=0,P=new Map([["success","check"],["exception","close"]]),b=new Map([["normal","#108ee9"],["exception","#ff5500"],["success","#87d068"]]),I=function(e){return e+"%"},O=function(){function e(e){this.nzConfigService=e,this.nzWidth=132,this.nzPercent=0,this.nzType="line",this.lineGradient=null,this.isGradient=!1,this.gradientId=C++,this.progressCirclePath=[],this.trackByFn=function(e){return""+e},this.cachedStatus="normal",this.inferredStatus="normal",this.destroy$=new i.Subject}return Object.defineProperty(e.prototype,"formatter",{get:function(){return this.nzFormat||I},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this.nzStatus||this.inferredStatus},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeWidth",{get:function(){return this.nzStrokeWidth||("line"===this.nzType&&"small"!==this.nzSize?8:6)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCircleStyle",{get:function(){return"circle"===this.nzType||"dashboard"===this.nzType},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){var t=e.nzGapPosition,n=e.nzStrokeLinecap,r=e.nzStrokeColor,i=e.nzGapDegree,s=e.nzType,a=e.nzStatus,c=e.nzPercent,p=e.nzSuccessPercent;(a&&(this.cachedStatus=this.nzStatus||this.cachedStatus),c||p)&&(parseInt(this.nzPercent.toString(),10)>=100?(o.isNotNil(this.nzSuccessPercent)&&this.nzSuccessPercent>=100||void 0===this.nzSuccessPercent)&&(this.inferredStatus="success"):this.inferredStatus=this.cachedStatus);(a||c||p)&&this.updateIcon(),r&&this.setStrokeColor(),(t||n||i||s||c||r)&&this.getCirclePaths()},e.prototype.ngOnInit=function(){var e=this;this.nzConfigService.getConfigChangeEventForComponent("progress").pipe(s.takeUntil(this.destroy$)).subscribe((function(){e.updateIcon(),e.setStrokeColor(),e.getCirclePaths()}))},e.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},e.prototype.updateIcon=function(){var e=P.get(this.status);this.icon=e?e+(this.isCircleStyle?"-o":"-circle-fill"):""},e.prototype.getCirclePaths=function(){var e=this;if(this.isCircleStyle){var t=o.isNotNil(this.nzSuccessPercent)?[this.nzSuccessPercent,this.nzPercent]:[this.nzPercent],n=50-this.strokeWidth/2,r=this.nzGapPosition||("circle"===this.nzType?"top":"bottom"),i=2*Math.PI*n,s=this.nzGapDegree||("circle"===this.nzType?0:75),a=0,c=-n,p=0,l=-2*n;switch(r){case"left":a=-n,c=0,p=2*n,l=0;break;case"right":a=n,c=0,p=-2*n,l=0;break;case"bottom":c=n,l=2*n}this.pathString="M 50,50 m "+a+","+c+"\n       a "+n+","+n+" 0 1 1 "+p+","+-l+"\n       a "+n+","+n+" 0 1 1 "+-p+","+l,this.trailPathStyle={strokeDasharray:i-s+"px "+i+"px",strokeDashoffset:"-"+s/2+"px",transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s"},this.progressCirclePath=t.map((function(n,r){var o=2===t.length&&0===r;return{stroke:e.isGradient&&!o?"url(#gradient-"+e.gradientId+")":null,strokePathStyle:{stroke:e.isGradient?null:o?b.get("success"):e.nzStrokeColor,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s",strokeDasharray:(n||0)/100*(i-s)+"px "+i+"px",strokeDashoffset:"-"+s/2+"px"}}})).reverse()}},e.prototype.setStrokeColor=function(){var e,t=this.nzStrokeColor,n=this.isGradient=!!t&&"string"!=typeof t;n&&!this.isCircleStyle?this.lineGradient=l(t):n&&this.isCircleStyle?this.circleGradient=(e=this.nzStrokeColor,p(e).map((function(e){return{offset:e.key+"%",color:e.value}}))):(this.lineGradient=null,this.circleGradient=[])},e.ɵfac=function(t){return new(t||e)(n.ɵɵdirectiveInject(o.NzConfigService))},e.ɵcmp=n.ɵɵdefineComponent({type:e,selectors:[["nz-progress"]],inputs:{nzShowInfo:"nzShowInfo",nzWidth:"nzWidth",nzStrokeColor:"nzStrokeColor",nzSize:"nzSize",nzFormat:"nzFormat",nzSuccessPercent:"nzSuccessPercent",nzPercent:"nzPercent",nzStrokeWidth:"nzStrokeWidth",nzGapDegree:"nzGapDegree",nzStatus:"nzStatus",nzType:"nzType",nzGapPosition:"nzGapPosition",nzStrokeLinecap:"nzStrokeLinecap"},exportAs:["nzProgress"],features:[n.ɵɵNgOnChangesFeature()],decls:5,vars:7,consts:[["progressInfoTemplate",""],[3,"ngClass"],[4,"ngIf"],["class","ant-progress-inner",3,"width","height","fontSize","ant-progress-circle-gradient",4,"ngIf"],["class","ant-progress-text",4,"ngIf"],[1,"ant-progress-text"],[4,"ngIf","ngIfElse"],["formatTemplate",""],["nz-icon","",3,"nzType"],[1,"ant-progress-outer"],[1,"ant-progress-inner"],[1,"ant-progress-bg"],["class","ant-progress-success-bg",3,"width","border-radius","height",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"ant-progress-success-bg"],["viewBox","0 0 100 100",1,"ant-progress-circle"],["stroke","#f3f3f3","fill-opacity","0",1,"ant-progress-circle-trail",3,"ngStyle"],["class","ant-progress-circle-path","fill-opacity","0",3,"ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],["x1","100%","y1","0%","x2","0%","y2","0%",3,"id"],[4,"ngFor","ngForOf"],["fill-opacity","0",1,"ant-progress-circle-path",3,"ngStyle"]],template:function(e,t){1&e&&(n.ɵɵtemplate(0,g,1,1,"ng-template",null,0,n.ɵɵtemplateRefExtractor),n.ɵɵelementStart(2,"div",1),n.ɵɵtemplate(3,z,6,7,"div",2),n.ɵɵtemplate(4,x,6,11,"div",3),n.ɵɵelementEnd()),2&e&&(n.ɵɵadvance(2),n.ɵɵclassProp("ant-progress-line","line"==t.nzType)("ant-progress-small","small"==t.nzSize)("ant-progress-show-info",t.nzShowInfo)("ant-progress-circle",t.isCircleStyle),n.ɵɵproperty("ngClass","ant-progress ant-progress-status-"+t.status),n.ɵɵadvance(1),n.ɵɵproperty("ngIf","line"===t.nzType),n.ɵɵadvance(1),n.ɵɵproperty("ngIf",t.isCircleStyle))},directives:[t.NgClass,t.NgIf,r.NzIconDirective,t.NgTemplateOutlet,t.NgStyle,t.NgForOf],encapsulation:2,changeDetection:0}),a([o.WithConfig("progress",!0),c("design:type",Boolean)],e.prototype,"nzShowInfo",void 0),a([o.WithConfig("progress"),c("design:type",Object)],e.prototype,"nzStrokeColor",void 0),a([o.WithConfig("progress","default"),c("design:type",String)],e.prototype,"nzSize",void 0),a([o.InputNumber(),c("design:type",Number)],e.prototype,"nzSuccessPercent",void 0),a([o.InputNumber(),c("design:type",Number)],e.prototype,"nzPercent",void 0),a([o.WithConfig("progress"),o.InputNumber(),c("design:type",Number)],e.prototype,"nzStrokeWidth",void 0),a([o.WithConfig("progress"),o.InputNumber(),c("design:type",Number)],e.prototype,"nzGapDegree",void 0),a([o.WithConfig("progress","top"),c("design:type",String)],e.prototype,"nzGapPosition",void 0),a([o.WithConfig("progress","round"),c("design:type",String)],e.prototype,"nzStrokeLinecap",void 0),e}(),G=function(){function e(){}return e.ɵmod=n.ɵɵdefineNgModule({type:e}),e.ɵinj=n.ɵɵdefineInjector({factory:function(t){return new(t||e)},imports:[[t.CommonModule,r.NzIconModule]]}),e}();("undefined"==typeof ngJitMode||ngJitMode)&&n.ɵɵsetNgModuleScope(G,{declarations:[O],imports:[t.CommonModule,r.NzIconModule],exports:[O]}),e.NzProgressComponent=O,e.NzProgressModule=G,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ng-zorro-antd-progress.umd.min.js.map