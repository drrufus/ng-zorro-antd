!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/common"),require("@angular/core"),require("ng-zorro-antd/core"),require("ng-zorro-antd/icon"),require("rxjs"),require("rxjs/operators"),require("@angular/forms")):"function"==typeof define&&define.amd?define("ng-zorro-antd/tree",["exports","@angular/common","@angular/core","ng-zorro-antd/core","ng-zorro-antd/icon","rxjs","rxjs/operators","@angular/forms"],n):n(((e=e||self)["ng-zorro-antd"]=e["ng-zorro-antd"]||{},e["ng-zorro-antd"].tree={}),e.ng.common,e.ng.core,e["ng-zorro-antd"].core,e["ng-zorro-antd"].icon,e.rxjs,e.rxjs.operators,e.ng.forms)}(this,(function(e,n,t,r,o,i,a,s){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var c=function(e,n){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)};function l(e,n){function t(){this.constructor=e}c(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}function d(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a}function p(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)}var z=["dragElement"];function h(e,n){}var u=function(e){return{$implicit:e}};function g(e,n){if(1&e&&t.ɵɵtemplate(0,h,0,0,"ng-template",3),2&e){var r=t.ɵɵnextContext(4);t.ɵɵproperty("ngTemplateOutlet",r.nzExpandedIcon)("ngTemplateOutletContext",t.ɵɵpureFunction1(2,u,r.nzTreeNode))}}function f(e,n){if(1&e&&t.ɵɵelement(0,"i",8),2&e){var r=t.ɵɵnextContext(4);t.ɵɵclassProp("ant-select-switcher-icon",r.nzSelectMode)("ant-tree-switcher-icon",!r.nzSelectMode)}}function y(e,n){if(1&e&&(t.ɵɵelementContainerStart(0),t.ɵɵtemplate(1,g,1,4,void 0,2),t.ɵɵtemplate(2,f,1,2,"i",7),t.ɵɵelementContainerEnd()),2&e){var r=t.ɵɵnextContext(3);t.ɵɵadvance(1),t.ɵɵproperty("ngIf",r.isTemplateRef(r.nzExpandedIcon)),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",!r.isTemplateRef(r.nzExpandedIcon))}}function v(e,n){1&e&&t.ɵɵelement(0,"i",9),2&e&&t.ɵɵproperty("nzSpin",!0)}function C(e,n){if(1&e&&(t.ɵɵelementContainerStart(0),t.ɵɵtemplate(1,y,3,2,"ng-container",2),t.ɵɵtemplate(2,v,1,1,"i",6),t.ɵɵelementContainerEnd()),2&e){var r=t.ɵɵnextContext(2);t.ɵɵadvance(1),t.ɵɵproperty("ngIf",!r.nzTreeNode.isLoading),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",r.nzTreeNode.isLoading)}}function m(e,n){}function S(e,n){if(1&e&&t.ɵɵtemplate(0,m,0,0,"ng-template",3),2&e){var r=t.ɵɵnextContext(3);t.ɵɵproperty("ngTemplateOutlet",r.nzExpandedIcon)("ngTemplateOutletContext",t.ɵɵpureFunction1(2,u,r.nzTreeNode))}}function x(e,n){if(1&e&&t.ɵɵelement(0,"i",12),2&e){var r=t.ɵɵnextContext(4);t.ɵɵproperty("nzType",r.isSwitcherOpen?"minus-square":"plus-square")}}function T(e,n){1&e&&t.ɵɵelement(0,"i",13)}function E(e,n){if(1&e&&(t.ɵɵelementContainerStart(0),t.ɵɵtemplate(1,x,1,1,"i",10),t.ɵɵtemplate(2,T,1,0,"i",11),t.ɵɵelementContainerEnd()),2&e){var r=t.ɵɵnextContext(3);t.ɵɵadvance(1),t.ɵɵproperty("ngIf",r.isShowLineIcon),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",!r.isShowLineIcon)}}function b(e,n){if(1&e&&(t.ɵɵelementContainerStart(0),t.ɵɵtemplate(1,S,1,4,void 0,2),t.ɵɵtemplate(2,E,3,2,"ng-container",2),t.ɵɵelementContainerEnd()),2&e){var r=t.ɵɵnextContext(2);t.ɵɵadvance(1),t.ɵɵproperty("ngIf",r.isTemplateRef(r.nzExpandedIcon)),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",!r.isTemplateRef(r.nzExpandedIcon))}}function N(e,n){if(1&e){var r=t.ɵɵgetCurrentView();t.ɵɵelementContainerStart(0),t.ɵɵelementStart(1,"span",5),t.ɵɵlistener("click",(function(e){return t.ɵɵrestoreView(r),t.ɵɵnextContext()._clickExpand(e)})),t.ɵɵtemplate(2,C,3,2,"ng-container",2),t.ɵɵtemplate(3,b,3,2,"ng-container",2),t.ɵɵelementEnd(),t.ɵɵelementContainerEnd()}if(2&e){var o=t.ɵɵnextContext();t.ɵɵadvance(1),t.ɵɵproperty("ngClass",o.nzNodeSwitcherClass),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",o.isShowSwitchIcon),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",o.nzShowLine)}}function D(e,n){if(1&e){var r=t.ɵɵgetCurrentView();t.ɵɵelementContainerStart(0),t.ɵɵelementStart(1,"span",5),t.ɵɵlistener("click",(function(e){return t.ɵɵrestoreView(r),t.ɵɵnextContext()._clickCheckBox(e)})),t.ɵɵelement(2,"span"),t.ɵɵelementEnd(),t.ɵɵelementContainerEnd()}if(2&e){var o=t.ɵɵnextContext();t.ɵɵadvance(1),t.ɵɵproperty("ngClass",o.nzNodeCheckboxClass),t.ɵɵadvance(1),t.ɵɵclassProp("ant-tree-checkbox-inner",!o.nzSelectMode)("ant-select-tree-checkbox-inner",o.nzSelectMode)}}function k(e,n){if(1&e&&t.ɵɵelement(0,"i",19),2&e){var r=t.ɵɵnextContext(3);t.ɵɵproperty("nzType",r.nzIcon)}}function w(e,n){if(1&e&&(t.ɵɵelementStart(0,"span",17),t.ɵɵelementStart(1,"span",17),t.ɵɵtemplate(2,k,1,1,"i",18),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e){var r=t.ɵɵnextContext(2);t.ɵɵclassProp("ant-tree-icon__open",r.isSwitcherOpen)("ant-tree-icon__close",r.isSwitcherClose)("ant-tree-icon_loading",r.nzTreeNode.isLoading),t.ɵɵproperty("ngClass",r.nzNodeContentLoadingClass),t.ɵɵadvance(1),t.ɵɵproperty("ngClass",r.nzNodeContentIconClass),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",r.nzIcon)}}function O(e,n){if(1&e&&(t.ɵɵelementContainerStart(0),t.ɵɵelementStart(1,"span",14),t.ɵɵtemplate(2,w,3,6,"span",15),t.ɵɵelement(3,"span",16),t.ɵɵpipe(4,"nzHighlight"),t.ɵɵelementEnd(),t.ɵɵelementContainerEnd()),2&e){var r=t.ɵɵnextContext();t.ɵɵadvance(1),t.ɵɵclassProp("draggable",r.canDraggable),t.ɵɵpropertyInterpolate("title",r.nzTreeNode.title),t.ɵɵproperty("ngClass",r.nzNodeContentClass),t.ɵɵattribute("draggable",r.canDraggable)("aria-grabbed",r.canDraggable),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",r.nzTreeNode.icon&&r.nzShowIcon),t.ɵɵadvance(1),t.ɵɵproperty("innerHTML",t.ɵɵpipeBind4(4,7,r.nzTreeNode.title,r.nzSearchValue,"","font-highlight"),t.ɵɵsanitizeHtml)}}function I(e,n){}function A(e,n){if(1&e&&t.ɵɵelement(0,"nz-tree-node",22),2&e){var r=n.$implicit,o=t.ɵɵnextContext(2);t.ɵɵproperty("nzTreeNode",r)("nzShowExpand",o.nzShowExpand)("@.disabled",null==o.noAnimation?null:o.noAnimation.nzNoAnimation)("nzNoAnimation",null==o.noAnimation?null:o.noAnimation.nzNoAnimation)("nzSelectMode",o.nzSelectMode)("nzShowLine",o.nzShowLine)("nzExpandedIcon",o.nzExpandedIcon)("nzDraggable",o.nzDraggable)("nzCheckable",o.nzCheckable)("nzAsyncData",o.nzAsyncData)("nzExpandAll",o.nzExpandAll)("nzShowIcon",o.nzShowIcon)("nzSearchValue",o.nzSearchValue)("nzHideUnMatched",o.nzHideUnMatched)("nzBeforeDrop",o.nzBeforeDrop)("nzTreeTemplate",o.nzTreeTemplate)}}function M(e,n){if(1&e&&(t.ɵɵelementStart(0,"ul",20),t.ɵɵtemplate(1,A,1,16,"nz-tree-node",21),t.ɵɵelementEnd()),2&e){var r=t.ɵɵnextContext();t.ɵɵclassProp("ant-tree-child-tree-open",!r.nzSelectMode||r.nzTreeNode.isExpanded),t.ɵɵproperty("@.disabled",null==r.noAnimation?null:r.noAnimation.nzNoAnimation)("@treeCollapseMotion",void 0),t.ɵɵadvance(1),t.ɵɵproperty("ngForOf",r.nzTreeNode.getChildren())}}var j=function(){function e(e,n,t,r,o,a){this.nzTreeService=e,this.ngZone=n,this.renderer=t,this.elRef=r,this.cdr=o,this.noAnimation=a,this.nzHideUnMatched=!1,this.nzNoAnimation=!1,this.nzSelectMode=!1,this.nzShowIcon=!1,this.nzSearchValue="",this.prefixCls="ant-tree",this.nzNodeClass={},this.nzNodeSwitcherClass={},this.nzNodeContentClass={},this.nzNodeCheckboxClass={},this.nzNodeContentIconClass={},this.nzNodeContentLoadingClass={},this.destroy$=new i.Subject,this.dragPos=2,this.dragPosClass={0:"drag-over",1:"drag-over-gap-bottom","-1":"drag-over-gap-top"},this._nzDraggable=!1,this._nzExpandAll=!1}return Object.defineProperty(e.prototype,"nzDraggable",{get:function(){return this._nzDraggable},set:function(e){this._nzDraggable=e,this.handDragEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nzDefaultExpandAll",{get:function(){return this._nzExpandAll},set:function(e){r.warnDeprecation("'nzDefaultExpandAll' is going to be removed in 9.0.0. Please use 'nzExpandAll' instead."),this._nzExpandAll=e,e&&this.nzTreeNode&&!this.nzTreeNode.isLeaf&&(this.nzTreeNode.isExpanded=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nzExpandAll",{get:function(){return this._nzExpandAll},set:function(e){this._nzExpandAll=e,e&&this.nzTreeNode&&!this.nzTreeNode.isLeaf&&(this.nzTreeNode.isExpanded=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nzIcon",{get:function(){return this.nzTreeNode.icon},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canDraggable",{get:function(){return!(!this.nzDraggable||this.nzTreeNode.isDisabled)||null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isShowLineIcon",{get:function(){return!this.nzTreeNode.isLeaf&&this.nzShowLine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isShowSwitchIcon",{get:function(){return!this.nzTreeNode.isLeaf&&!this.nzShowLine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSwitcherOpen",{get:function(){return this.nzTreeNode.isExpanded&&!this.nzTreeNode.isLeaf},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSwitcherClose",{get:function(){return!this.nzTreeNode.isExpanded&&!this.nzTreeNode.isLeaf},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayStyle",{get:function(){return this.nzSearchValue&&this.nzHideUnMatched&&!this.nzTreeNode.isMatched&&!this.nzTreeNode.isExpanded&&this.nzTreeNode.canHide?"none":""},enumerable:!0,configurable:!0}),e.prototype.setClassMap=function(){var e,n,t,r,o,i;this.prefixCls=this.nzSelectMode?"ant-select-tree":"ant-tree",this.nzNodeClass=((e={})[this.prefixCls+"-treenode-disabled"]=this.nzTreeNode.isDisabled,e[this.prefixCls+"-treenode-switcher-open"]=this.isSwitcherOpen,e[this.prefixCls+"-treenode-switcher-close"]=this.isSwitcherClose,e[this.prefixCls+"-treenode-checkbox-checked"]=this.nzTreeNode.isChecked,e[this.prefixCls+"-treenode-checkbox-indeterminate"]=this.nzTreeNode.isHalfChecked,e[this.prefixCls+"-treenode-selected"]=this.nzTreeNode.isSelected,e[this.prefixCls+"-treenode-loading"]=this.nzTreeNode.isLoading,e),this.nzNodeSwitcherClass=((n={})[this.prefixCls+"-switcher"]=!0,n[this.prefixCls+"-switcher-noop"]=this.nzTreeNode.isLeaf,n[this.prefixCls+"-switcher_open"]=this.isSwitcherOpen,n[this.prefixCls+"-switcher_close"]=this.isSwitcherClose,n),this.nzNodeCheckboxClass=((t={})[this.prefixCls+"-checkbox"]=!0,t[this.prefixCls+"-checkbox-checked"]=this.nzTreeNode.isChecked,t[this.prefixCls+"-checkbox-indeterminate"]=this.nzTreeNode.isHalfChecked,t[this.prefixCls+"-checkbox-disabled"]=this.nzTreeNode.isDisabled||this.nzTreeNode.isDisableCheckbox,t),this.nzNodeContentClass=((r={})[this.prefixCls+"-node-content-wrapper"]=!0,r[this.prefixCls+"-node-content-wrapper-open"]=this.isSwitcherOpen,r[this.prefixCls+"-node-content-wrapper-close"]=this.isSwitcherClose,r[this.prefixCls+"-node-selected"]=this.nzTreeNode.isSelected,r),this.nzNodeContentIconClass=((o={})[this.prefixCls+"-iconEle"]=!0,o[this.prefixCls+"-icon__customize"]=!0,o),this.nzNodeContentLoadingClass=((i={})[this.prefixCls+"-iconEle"]=!0,i)},e.prototype.onMousedown=function(e){this.nzSelectMode&&e.preventDefault()},e.prototype.nzClick=function(e){e.preventDefault(),e.stopPropagation(),this.nzTreeNode.isSelectable&&!this.nzTreeNode.isDisabled&&(this.nzTreeNode.isSelected=!this.nzTreeNode.isSelected);var n=this.nzTreeService.formatEvent("click",this.nzTreeNode,e);this.nzTreeService.triggerEventChange$.next(n)},e.prototype.nzDblClick=function(e){e.preventDefault(),e.stopPropagation();var n=this.nzTreeService.formatEvent("dblclick",this.nzTreeNode,e);this.nzTreeService.triggerEventChange$.next(n)},e.prototype.nzContextMenu=function(e){e.preventDefault(),e.stopPropagation();var n=this.nzTreeService.formatEvent("contextmenu",this.nzTreeNode,e);this.nzTreeService.triggerEventChange$.next(n)},e.prototype._clickExpand=function(e){if(e.preventDefault(),e.stopPropagation(),!this.nzTreeNode.isLoading&&!this.nzTreeNode.isLeaf){this.nzAsyncData&&0===this.nzTreeNode.children.length&&!this.nzTreeNode.isExpanded&&(this.nzTreeNode.isLoading=!0),this.nzTreeNode.isExpanded=!this.nzTreeNode.isExpanded,this.nzTreeNode.isMatched&&this.setDisplayForParentNodes(this.nzTreeNode),this.setDisplayForChildNodes(this.nzTreeNode);var n=this.nzTreeService.formatEvent("expand",this.nzTreeNode,e);this.nzTreeService.triggerEventChange$.next(n)}},e.prototype.setDisplayForChildNodes=function(e){var n=this,t=e.children;t.length>0&&t.map((function(e){var t=!e.isMatched;e.canHide=t,n.setDisplayForChildNodes(e)}))},e.prototype.setDisplayForParentNodes=function(e){var n=e.getParentNode();n&&(n.canHide=!1,this.setDisplayForParentNodes(n))},e.prototype._clickCheckBox=function(e){if(e.preventDefault(),e.stopPropagation(),!this.nzTreeNode.isDisabled&&!this.nzTreeNode.isDisableCheckbox){this.nzTreeNode.isChecked=!this.nzTreeNode.isChecked,this.nzTreeNode.isHalfChecked=!1,this.nzTreeService.isCheckStrictly||this.nzTreeService.conduct(this.nzTreeNode);var n=this.nzTreeService.formatEvent("check",this.nzTreeNode,e);this.nzTreeService.triggerEventChange$.next(n)}},e.prototype.clearDragClass=function(){var e=this;["drag-over-gap-top","drag-over-gap-bottom","drag-over"].forEach((function(n){e.renderer.removeClass(e.dragElement.nativeElement,n)}))},e.prototype.handleDragStart=function(e){e.stopPropagation();try{e.dataTransfer.setData("text/plain",this.nzTreeNode.key)}catch(e){}this.nzTreeService.setSelectedNode(this.nzTreeNode),this.nzTreeNode.isExpanded=!1;var n=this.nzTreeService.formatEvent("dragstart",this.nzTreeNode,e);this.nzTreeService.triggerEventChange$.next(n)},e.prototype.handleDragEnter=function(e){var n=this;e.preventDefault(),e.stopPropagation(),this.dragPos=2,this.ngZone.run((function(){var t=n.nzTreeService.getSelectedNode();!t||t.key===n.nzTreeNode.key||n.nzTreeNode.isExpanded||n.nzTreeNode.isLeaf||(n.nzTreeNode.isExpanded=!0);var r=n.nzTreeService.formatEvent("dragenter",n.nzTreeNode,e);n.nzTreeService.triggerEventChange$.next(r)}))},e.prototype.handleDragOver=function(e){e.preventDefault(),e.stopPropagation();var n=this.nzTreeService.calcDropPosition(e);this.dragPos!==n&&(this.clearDragClass(),this.dragPos=n,0===this.dragPos&&this.nzTreeNode.isLeaf||this.renderer.addClass(this.dragElement.nativeElement,this.dragPosClass[this.dragPos]));var t=this.nzTreeService.formatEvent("dragover",this.nzTreeNode,e);this.nzTreeService.triggerEventChange$.next(t)},e.prototype.handleDragLeave=function(e){var n=this;e.stopPropagation(),this.ngZone.run((function(){n.clearDragClass()}));var t=this.nzTreeService.formatEvent("dragleave",this.nzTreeNode,e);this.nzTreeService.triggerEventChange$.next(t)},e.prototype.handleDragDrop=function(e){var n=this;e.preventDefault(),e.stopPropagation(),this.ngZone.run((function(){n.clearDragClass();var t=n.nzTreeService.getSelectedNode();if(!(!t||t&&t.key===n.nzTreeNode.key||0===n.dragPos&&n.nzTreeNode.isLeaf)){var r=n.nzTreeService.formatEvent("drop",n.nzTreeNode,e),o=n.nzTreeService.formatEvent("dragend",n.nzTreeNode,e);n.nzBeforeDrop?n.nzBeforeDrop({dragNode:n.nzTreeService.getSelectedNode(),node:n.nzTreeNode,pos:n.dragPos}).subscribe((function(e){e&&n.nzTreeService.dropAndApply(n.nzTreeNode,n.dragPos),n.nzTreeService.triggerEventChange$.next(r),n.nzTreeService.triggerEventChange$.next(o)})):n.nzTreeNode&&(n.nzTreeService.dropAndApply(n.nzTreeNode,n.dragPos),n.nzTreeService.triggerEventChange$.next(r))}}))},e.prototype.handleDragEnd=function(e){var n=this;e.stopPropagation(),this.ngZone.run((function(){if(!n.nzBeforeDrop){var t=n.nzTreeService.formatEvent("dragend",n.nzTreeNode,e);n.nzTreeService.triggerEventChange$.next(t)}}))},e.prototype.handDragEvent=function(){var e=this;this.ngZone.runOutsideAngular((function(){e.nzDraggable?(e.destroy$=new i.Subject,i.fromEvent(e.elRef.nativeElement,"dragstart").pipe(a.takeUntil(e.destroy$)).subscribe((function(n){return e.handleDragStart(n)})),i.fromEvent(e.elRef.nativeElement,"dragenter").pipe(a.takeUntil(e.destroy$)).subscribe((function(n){return e.handleDragEnter(n)})),i.fromEvent(e.elRef.nativeElement,"dragover").pipe(a.takeUntil(e.destroy$)).subscribe((function(n){return e.handleDragOver(n)})),i.fromEvent(e.elRef.nativeElement,"dragleave").pipe(a.takeUntil(e.destroy$)).subscribe((function(n){return e.handleDragLeave(n)})),i.fromEvent(e.elRef.nativeElement,"drop").pipe(a.takeUntil(e.destroy$)).subscribe((function(n){return e.handleDragDrop(n)})),i.fromEvent(e.elRef.nativeElement,"dragend").pipe(a.takeUntil(e.destroy$)).subscribe((function(n){return e.handleDragEnd(n)}))):(e.destroy$.next(),e.destroy$.complete())}))},e.prototype.isTemplateRef=function(e){return e instanceof t.TemplateRef},e.prototype.markForCheck=function(){this.cdr.markForCheck()},e.prototype.ngOnInit=function(){var e=this;this.nzTreeNode.isSelected&&this.nzTreeService.setNodeActive(this.nzTreeNode),this.nzTreeNode.isExpanded&&this.nzTreeService.setExpandedNodeList(this.nzTreeNode),this.nzTreeNode.isChecked&&this.nzTreeService.setCheckedNodeList(this.nzTreeNode),this.nzTreeNode.component=this,this.nzTreeService.eventTriggerChanged().pipe(a.filter((function(n){return n.node.key===e.nzTreeNode.key})),a.takeUntil(this.destroy$)).subscribe((function(){e.setClassMap(),e.markForCheck()})),this.setClassMap()},e.prototype.ngOnChanges=function(){this.setClassMap()},e.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},e.ɵfac=function(n){return new(n||e)(t.ɵɵdirectiveInject(r.NzTreeBaseService),t.ɵɵdirectiveInject(t.NgZone),t.ɵɵdirectiveInject(t.Renderer2),t.ɵɵdirectiveInject(t.ElementRef),t.ɵɵdirectiveInject(t.ChangeDetectorRef),t.ɵɵdirectiveInject(r.NzNoAnimationDirective,9))},e.ɵcmp=t.ɵɵdefineComponent({type:e,selectors:[["nz-tree-node"]],viewQuery:function(e,n){var r;(1&e&&t.ɵɵviewQuery(z,!0),2&e)&&(t.ɵɵqueryRefresh(r=t.ɵɵloadQuery())&&(n.dragElement=r.first))},hostBindings:function(e,n,r){1&e&&t.ɵɵlistener("mousedown",(function(e){return n.onMousedown(e)}))("click",(function(e){return n.nzClick(e)}))("dblclick",(function(e){return n.nzDblClick(e)}))("contextmenu",(function(e){return n.nzContextMenu(e)}))},inputs:{nzTreeNode:"nzTreeNode",nzShowLine:"nzShowLine",nzShowExpand:"nzShowExpand",nzCheckable:"nzCheckable",nzAsyncData:"nzAsyncData",nzHideUnMatched:"nzHideUnMatched",nzNoAnimation:"nzNoAnimation",nzSelectMode:"nzSelectMode",nzShowIcon:"nzShowIcon",nzExpandedIcon:"nzExpandedIcon",nzTreeTemplate:"nzTreeTemplate",nzBeforeDrop:"nzBeforeDrop",nzSearchValue:"nzSearchValue",nzDraggable:"nzDraggable",nzDefaultExpandAll:"nzDefaultExpandAll",nzExpandAll:"nzExpandAll"},exportAs:["nzTreeNode"],features:[t.ɵɵNgOnChangesFeature()],decls:7,vars:10,consts:[["role","treeitem",3,"ngClass"],["dragElement",""],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","group","class","ant-tree-child-tree","data-expanded","true",3,"ant-tree-child-tree-open",4,"ngIf"],[3,"ngClass","click"],["nz-icon","","nzType","loading","class","ant-tree-switcher-loading-icon",3,"nzSpin",4,"ngIf"],["nz-icon","","nzType","caret-down",3,"ant-select-switcher-icon","ant-tree-switcher-icon",4,"ngIf"],["nz-icon","","nzType","caret-down"],["nz-icon","","nzType","loading",1,"ant-tree-switcher-loading-icon",3,"nzSpin"],["nz-icon","","class","ant-tree-switcher-line-icon",3,"nzType",4,"ngIf"],["nz-icon","","nzType","file","class","ant-tree-switcher-line-icon",4,"ngIf"],["nz-icon","",1,"ant-tree-switcher-line-icon",3,"nzType"],["nz-icon","","nzType","file",1,"ant-tree-switcher-line-icon"],[3,"title","ngClass"],[3,"ant-tree-icon__open","ant-tree-icon__close","ant-tree-icon_loading","ngClass",4,"ngIf"],[1,"ant-tree-title",3,"innerHTML"],[3,"ngClass"],["nz-icon","",3,"nzType",4,"ngIf"],["nz-icon","",3,"nzType"],["role","group","data-expanded","true",1,"ant-tree-child-tree"],[3,"nzTreeNode","nzShowExpand","nzNoAnimation","nzSelectMode","nzShowLine","nzExpandedIcon","nzDraggable","nzCheckable","nzAsyncData","nzExpandAll","nzShowIcon","nzSearchValue","nzHideUnMatched","nzBeforeDrop","nzTreeTemplate",4,"ngFor","ngForOf"],[3,"nzTreeNode","nzShowExpand","nzNoAnimation","nzSelectMode","nzShowLine","nzExpandedIcon","nzDraggable","nzCheckable","nzAsyncData","nzExpandAll","nzShowIcon","nzSearchValue","nzHideUnMatched","nzBeforeDrop","nzTreeTemplate"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"li",0,1),t.ɵɵtemplate(2,N,4,3,"ng-container",2),t.ɵɵtemplate(3,D,3,3,"ng-container",2),t.ɵɵtemplate(4,O,5,12,"ng-container",2),t.ɵɵtemplate(5,I,0,0,"ng-template",3),t.ɵɵtemplate(6,M,2,4,"ul",4),t.ɵɵelementEnd()),2&e&&(t.ɵɵstyleProp("display",n.displayStyle),t.ɵɵproperty("ngClass",n.nzNodeClass),t.ɵɵadvance(2),t.ɵɵproperty("ngIf",n.nzShowExpand),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.nzCheckable),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",!n.nzTreeTemplate),t.ɵɵadvance(1),t.ɵɵproperty("ngTemplateOutlet",n.nzTreeTemplate)("ngTemplateOutletContext",t.ɵɵpureFunction1(8,u,n.nzTreeNode)),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.nzTreeNode.isExpanded))},directives:[n.NgClass,n.NgIf,n.NgTemplateOutlet,o.NzIconDirective,n.NgForOf,e,r.NzNoAnimationDirective],pipes:[r.NzHighlightPipe],encapsulation:2,data:{animation:[r.treeCollapseMotion]},changeDetection:0}),d([r.InputBoolean(),p("design:type",Boolean)],e.prototype,"nzShowLine",void 0),d([r.InputBoolean(),p("design:type",Boolean)],e.prototype,"nzShowExpand",void 0),d([r.InputBoolean(),p("design:type",Boolean)],e.prototype,"nzCheckable",void 0),d([r.InputBoolean(),p("design:type",Boolean)],e.prototype,"nzAsyncData",void 0),d([r.InputBoolean(),p("design:type",Object)],e.prototype,"nzHideUnMatched",void 0),d([r.InputBoolean(),p("design:type",Object)],e.prototype,"nzNoAnimation",void 0),d([r.InputBoolean(),p("design:type",Object)],e.prototype,"nzSelectMode",void 0),d([r.InputBoolean(),p("design:type",Object)],e.prototype,"nzShowIcon",void 0),e}(),P=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return l(n,e),n.ɵfac=function(e){return B(e||n)},n.ɵprov=t.ɵɵdefineInjectable({token:n,factory:n.ɵfac}),n}(r.NzTreeBaseService),B=t.ɵɵgetInheritedFactory(P),L=["nzTreeTemplate"];function K(e,n){if(1&e&&(t.ɵɵelementContainerStart(0),t.ɵɵelement(1,"nz-tree-node",2),t.ɵɵelementContainerEnd()),2&e){var r=n.$implicit,o=t.ɵɵnextContext();t.ɵɵadvance(1),t.ɵɵproperty("nzTreeNode",r)("nzSelectMode",o.nzSelectMode)("nzShowLine",o.nzShowLine)("nzExpandedIcon",o.nzExpandedIcon)("nzDraggable",o.nzDraggable)("nzCheckable",o.nzCheckable)("nzShowExpand",o.nzShowExpand)("nzAsyncData",o.nzAsyncData)("nzSearchValue",o.nzSearchValue)("nzHideUnMatched",o.nzHideUnMatched)("nzBeforeDrop",o.nzBeforeDrop)("nzExpandAll",o.nzExpandAll)("nzShowIcon",o.nzShowIcon)("nzTreeTemplate",o.treeTemplate)("@.disabled",null==o.noAnimation?null:o.noAnimation.nzNoAnimation)("nzNoAnimation",null==o.noAnimation?null:o.noAnimation.nzNoAnimation)}}function _(e,n){return e||n}var $=function(e){function o(n,r,o,a){var s=e.call(this,n)||this;return s.nzConfigService=r,s.cdr=o,s.noAnimation=a,s.nzShowExpand=!0,s.nzShowLine=!1,s.nzCheckable=!1,s.nzAsyncData=!1,s.nzDraggable=!1,s.nzSelectMode=!1,s.nzCheckStrictly=!1,s.nzExpandAll=!1,s._nzDefaultExpandAll=!1,s.nzMultiple=!1,s.nzExpandedKeysChange=new t.EventEmitter,s.nzSelectedKeysChange=new t.EventEmitter,s.nzCheckedKeysChange=new t.EventEmitter,s.nzSearchValueChange=new t.EventEmitter,s.nzOnSearchNode=new t.EventEmitter,s.nzClick=new t.EventEmitter,s.nzDblClick=new t.EventEmitter,s.nzContextMenu=new t.EventEmitter,s.nzCheckBoxChange=new t.EventEmitter,s.nzExpandChange=new t.EventEmitter,s.nzOnDragStart=new t.EventEmitter,s.nzOnDragEnter=new t.EventEmitter,s.nzOnDragOver=new t.EventEmitter,s.nzOnDragLeave=new t.EventEmitter,s.nzOnDrop=new t.EventEmitter,s.nzOnDragEnd=new t.EventEmitter,s.nzDefaultSubject=new i.ReplaySubject(6),s.destroy$=new i.Subject,s.prefixCls="ant-tree",s.classMap={},s.onChange=function(){return null},s.onTouched=function(){return null},s}return l(o,e),Object.defineProperty(o.prototype,"treeTemplate",{get:function(){return this.nzTreeTemplate||this.nzTreeTemplateChild},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"nzDefaultExpandAll",{get:function(){return this._nzDefaultExpandAll},set:function(e){r.warnDeprecation("'nzDefaultExpandAll' would be removed in 9.0.0. Please use 'nzExpandAll' instead."),this.nzExpandAll=e,this._nzDefaultExpandAll=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"nzData",{set:function(e){this.initNzData(e)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"nzDefaultExpandedKeys",{set:function(e){r.warnDeprecation("'nzDefaultExpandedKeys' would be removed in 9.0.0. Please use 'nzExpandedKeys' instead."),this.nzDefaultSubject.next({type:"nzExpandedKeys",keys:e})},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"nzDefaultSelectedKeys",{set:function(e){r.warnDeprecation("'nzDefaultSelectedKeys' would be removed in 9.0.0. Please use 'nzSelectedKeys' instead."),this.nzDefaultSubject.next({type:"nzSelectedKeys",keys:e})},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"nzDefaultCheckedKeys",{set:function(e){r.warnDeprecation("'nzDefaultCheckedKeys' would be removed in 9.0.0. Please use 'nzCheckedKeys' instead."),this.nzDefaultSubject.next({type:"nzCheckedKeys",keys:e})},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"nzExpandedKeys",{set:function(e){this.nzDefaultSubject.next({type:"nzExpandedKeys",keys:e})},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"nzSelectedKeys",{set:function(e){this.nzDefaultSubject.next({type:"nzSelectedKeys",keys:e})},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"nzCheckedKeys",{set:function(e){this.nzDefaultSubject.next({type:"nzCheckedKeys",keys:e})},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"nzSearchValue",{get:function(){return this._searchValue},set:function(e){this._searchValue=e,this.nzTreeService.searchExpand(e),r.isNotNil(e)&&(this.nzSearchValueChange.emit(this.nzTreeService.formatEvent("search",null,null)),this.nzOnSearchNode.emit(this.nzTreeService.formatEvent("search",null,null)))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"nzNodes",{get:function(){return this.nzTreeService.rootNodes},enumerable:!0,configurable:!0}),o.prototype.setClassMap=function(){var e;this.classMap=((e={})[this.prefixCls]=!0,e[this.prefixCls+"-show-line"]=this.nzShowLine,e[this.prefixCls+"-icon-hide"]=!this.nzShowIcon,e[this.prefixCls+"-block-node"]=this.nzBlockNode,e["draggable-tree"]=this.nzDraggable,e["ant-select-tree"]=this.nzSelectMode,e)},o.prototype.writeValue=function(e){this.initNzData(e)},o.prototype.registerOnChange=function(e){this.onChange=e},o.prototype.registerOnTouched=function(e){this.onTouched=e},o.prototype.initNzData=function(e){Array.isArray(e)&&(this.nzTreeService.isCheckStrictly=this.nzCheckStrictly,this.nzTreeService.isMultiple=this.nzMultiple,this.nzTreeService.initTree(this.coerceTreeNodes(e)))},o.prototype.ngOnInit=function(){var e=this;this.setClassMap(),this.nzDefaultSubject.pipe(a.takeUntil(this.destroy$)).subscribe((function(n){if(n&&n.keys){switch(n.type){case"nzExpandedKeys":e.nzTreeService.calcExpandedKeys(n.keys,e.nzNodes),e.nzExpandedKeysChange.emit(n.keys);break;case"nzSelectedKeys":e.nzTreeService.calcSelectedKeys(n.keys,e.nzNodes,e.nzMultiple),e.nzSelectedKeysChange.emit(n.keys);break;case"nzCheckedKeys":e.nzTreeService.calcCheckedKeys(n.keys,e.nzNodes,e.nzCheckStrictly),e.nzCheckedKeysChange.emit(n.keys)}e.cdr.markForCheck()}})),this.nzTreeService.eventTriggerChanged().pipe(a.takeUntil(this.destroy$)).subscribe((function(n){switch(n.eventName){case"expand":e.nzExpandChange.emit(n);break;case"click":e.nzClick.emit(n);break;case"check":e.nzCheckBoxChange.emit(n);break;case"dblclick":e.nzDblClick.emit(n);break;case"contextmenu":e.nzContextMenu.emit(n);break;case"dragstart":e.nzOnDragStart.emit(n);break;case"dragenter":e.nzOnDragEnter.emit(n);break;case"dragover":e.nzOnDragOver.emit(n);break;case"dragleave":e.nzOnDragLeave.emit(n);break;case"drop":e.nzOnDrop.emit(n);break;case"dragend":e.nzOnDragEnd.emit(n)}}))},o.prototype.ngOnChanges=function(e){e.nzCheckStrictly&&(this.nzTreeService.isCheckStrictly=this.nzCheckStrictly),e.nzMultiple&&(this.nzTreeService.isMultiple=this.nzMultiple)},o.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},o.ɵfac=function(e){return new(e||o)(t.ɵɵdirectiveInject(r.NzTreeBaseService),t.ɵɵdirectiveInject(r.NzConfigService),t.ɵɵdirectiveInject(t.ChangeDetectorRef),t.ɵɵdirectiveInject(r.NzNoAnimationDirective,9))},o.ɵcmp=t.ɵɵdefineComponent({type:o,selectors:[["nz-tree"]],contentQueries:function(e,n,r){var o;(1&e&&t.ɵɵstaticContentQuery(r,L,!0),2&e)&&(t.ɵɵqueryRefresh(o=t.ɵɵloadQuery())&&(n.nzTreeTemplateChild=o.first))},inputs:{nzShowIcon:"nzShowIcon",nzShowExpand:"nzShowExpand",nzShowLine:"nzShowLine",nzExpandedIcon:"nzExpandedIcon",nzCheckable:"nzCheckable",nzAsyncData:"nzAsyncData",nzDraggable:"nzDraggable",nzHideUnMatched:"nzHideUnMatched",nzSelectMode:"nzSelectMode",nzCheckStrictly:"nzCheckStrictly",nzBlockNode:"nzBlockNode",nzExpandAll:"nzExpandAll",nzTreeTemplate:"nzTreeTemplate",nzDefaultExpandAll:"nzDefaultExpandAll",nzBeforeDrop:"nzBeforeDrop",nzMultiple:"nzMultiple",nzData:"nzData",nzDefaultExpandedKeys:"nzDefaultExpandedKeys",nzDefaultSelectedKeys:"nzDefaultSelectedKeys",nzDefaultCheckedKeys:"nzDefaultCheckedKeys",nzExpandedKeys:"nzExpandedKeys",nzSelectedKeys:"nzSelectedKeys",nzCheckedKeys:"nzCheckedKeys",nzSearchValue:"nzSearchValue"},outputs:{nzExpandedKeysChange:"nzExpandedKeysChange",nzSelectedKeysChange:"nzSelectedKeysChange",nzCheckedKeysChange:"nzCheckedKeysChange",nzSearchValueChange:"nzSearchValueChange",nzOnSearchNode:"nzOnSearchNode",nzClick:"nzClick",nzDblClick:"nzDblClick",nzContextMenu:"nzContextMenu",nzCheckBoxChange:"nzCheckBoxChange",nzExpandChange:"nzExpandChange",nzOnDragStart:"nzOnDragStart",nzOnDragEnter:"nzOnDragEnter",nzOnDragOver:"nzOnDragOver",nzOnDragLeave:"nzOnDragLeave",nzOnDrop:"nzOnDrop",nzOnDragEnd:"nzOnDragEnd"},exportAs:["nzTree"],features:[t.ɵɵProvidersFeature([P,{provide:r.NzTreeBaseService,useFactory:_,deps:[[new t.SkipSelf,new t.Optional,r.NzTreeHigherOrderServiceToken],P]},{provide:s.NG_VALUE_ACCESSOR,useExisting:t.forwardRef((function(){return o})),multi:!0}]),t.ɵɵInheritDefinitionFeature,t.ɵɵNgOnChangesFeature()],decls:2,vars:2,consts:[["role","tree","unselectable","on",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"nzTreeNode","nzSelectMode","nzShowLine","nzExpandedIcon","nzDraggable","nzCheckable","nzShowExpand","nzAsyncData","nzSearchValue","nzHideUnMatched","nzBeforeDrop","nzExpandAll","nzShowIcon","nzTreeTemplate","nzNoAnimation"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"ul",0),t.ɵɵtemplate(1,K,2,16,"ng-container",1),t.ɵɵelementEnd()),2&e&&(t.ɵɵproperty("ngClass",n.classMap),t.ɵɵadvance(1),t.ɵɵproperty("ngForOf",n.nzNodes))},directives:[n.NgClass,n.NgForOf,j,r.NzNoAnimationDirective],encapsulation:2,changeDetection:0}),d([r.InputBoolean(),r.WithConfig("tree",!1),p("design:type",Boolean)],o.prototype,"nzShowIcon",void 0),d([r.InputBoolean(),p("design:type",Boolean)],o.prototype,"nzShowExpand",void 0),d([r.InputBoolean(),p("design:type",Object)],o.prototype,"nzShowLine",void 0),d([r.InputBoolean(),p("design:type",Object)],o.prototype,"nzCheckable",void 0),d([r.InputBoolean(),p("design:type",Object)],o.prototype,"nzAsyncData",void 0),d([r.InputBoolean(),p("design:type",Boolean)],o.prototype,"nzDraggable",void 0),d([r.InputBoolean(),r.WithConfig("tree",!1),p("design:type",Boolean)],o.prototype,"nzHideUnMatched",void 0),d([r.InputBoolean(),p("design:type",Object)],o.prototype,"nzSelectMode",void 0),d([r.InputBoolean(),p("design:type",Object)],o.prototype,"nzCheckStrictly",void 0),d([r.WithConfig("tree",!1),r.InputBoolean(),p("design:type",Boolean)],o.prototype,"nzBlockNode",void 0),d([r.InputBoolean(),p("design:type",Object)],o.prototype,"nzExpandAll",void 0),d([r.InputBoolean(),p("design:type",Boolean),p("design:paramtypes",[Boolean])],o.prototype,"nzDefaultExpandAll",null),d([r.InputBoolean(),p("design:type",Object)],o.prototype,"nzMultiple",void 0),o}(r.NzTreeBase),H=function(){function e(){}return e.ɵmod=t.ɵɵdefineNgModule({type:e}),e.ɵinj=t.ɵɵdefineInjector({factory:function(n){return new(n||e)},imports:[[n.CommonModule,r.NzAddOnModule,o.NzIconModule,r.NzNoAnimationModule,r.NzHighlightModule]]}),e}();("undefined"==typeof ngJitMode||ngJitMode)&&t.ɵɵsetNgModuleScope(H,{declarations:[$,j],imports:[n.CommonModule,r.NzAddOnModule,o.NzIconModule,r.NzNoAnimationModule,r.NzHighlightModule],exports:[$,j]}),e.NzTreeComponent=$,e.NzTreeModule=H,e.NzTreeNodeComponent=j,e.NzTreeService=P,e.NzTreeServiceFactory=_,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ng-zorro-antd-tree.umd.min.js.map