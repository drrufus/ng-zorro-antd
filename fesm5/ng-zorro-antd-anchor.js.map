{"version":3,"file":"ng-zorro-antd-anchor.js","sources":["ng://ng-zorro-antd/anchor/nz-anchor.component.html","ng://ng-zorro-antd/anchor/nz-anchor.component.ts","ng://ng-zorro-antd/anchor/nz-anchor-link.component.ts","ng://ng-zorro-antd/anchor/nz-anchor-link.component.html","ng://ng-zorro-antd/anchor/nz-anchor.module.ts","ng://ng-zorro-antd/anchor/public-api.ts","ng://ng-zorro-antd/anchor/ng-zorro-antd-anchor.ts"],"sourcesContent":["<nz-affix *ngIf=\"nzAffix; else content\" [nzOffsetTop]=\"nzOffsetTop\">\r\n  <ng-template [ngTemplateOutlet]=\"content\"></ng-template>\r\n</nz-affix>\r\n<ng-template #content>\r\n  <div class=\"ant-anchor-wrapper\" [ngStyle]=\"wrapperStyle\">\r\n    <div class=\"ant-anchor\" [ngClass]=\"{ fixed: !nzAffix && !nzShowInkInFixed }\">\r\n      <div class=\"ant-anchor-ink\">\r\n        <div class=\"ant-anchor-ink-ball\" [class.visible]=\"visible\" #ink></div>\r\n      </div>\r\n      <ng-content></ng-content>\r\n    </div>\r\n  </div>\r\n</ng-template>\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { Platform } from '@angular/cdk/platform';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport {\r\n  AfterViewInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Inject,\r\n  Input,\r\n  OnDestroy,\r\n  Output,\r\n  ViewChild,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { fromEvent, Subscription } from 'rxjs';\r\nimport { distinctUntilChanged, throttleTime } from 'rxjs/operators';\r\n\r\nimport { InputBoolean, InputNumber, NgStyleInterface, NzConfigService, NzScrollService, toNumber, WithConfig } from 'ng-zorro-antd/core';\r\n\r\nimport { NzAnchorLinkComponent } from './nz-anchor-link.component';\r\n\r\ninterface Section {\r\n  comp: NzAnchorLinkComponent;\r\n  top: number;\r\n}\r\n\r\nconst NZ_CONFIG_COMPONENT_NAME = 'anchor';\r\nconst sharpMatcherRegx = /#([^#]+)$/;\r\n\r\n@Component({\r\n  selector: 'nz-anchor',\r\n  exportAs: 'nzAnchor',\r\n  preserveWhitespaces: false,\r\n  templateUrl: './nz-anchor.component.html',\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class NzAnchorComponent implements OnDestroy, AfterViewInit {\r\n  @ViewChild('ink', { static: false }) private ink: ElementRef;\r\n\r\n  @Input() @InputBoolean() nzAffix = true;\r\n\r\n  @Input()\r\n  @WithConfig(NZ_CONFIG_COMPONENT_NAME, false)\r\n  @InputBoolean()\r\n  nzShowInkInFixed: boolean;\r\n\r\n  @Input()\r\n  @WithConfig(NZ_CONFIG_COMPONENT_NAME, 5)\r\n  @InputNumber()\r\n  nzBounds: number;\r\n\r\n  @Input()\r\n  @WithConfig<number>(NZ_CONFIG_COMPONENT_NAME)\r\n  set nzOffsetTop(value: number) {\r\n    this._offsetTop = toNumber(value, 0);\r\n    this.wrapperStyle = {\r\n      'max-height': `calc(100vh - ${this._offsetTop}px)`\r\n    };\r\n  }\r\n\r\n  get nzOffsetTop(): number {\r\n    return this._offsetTop;\r\n  }\r\n\r\n  private _offsetTop: number;\r\n\r\n  @Input()\r\n  set nzTarget(el: string | Element) {\r\n    this.target = typeof el === 'string' ? this.doc.querySelector(el) : el;\r\n    this.registerScrollEvent();\r\n  }\r\n\r\n  @Output() readonly nzClick = new EventEmitter<string>();\r\n  @Output() readonly nzScroll = new EventEmitter<NzAnchorLinkComponent>();\r\n\r\n  visible = false;\r\n  wrapperStyle: NgStyleInterface = { 'max-height': '100vh' };\r\n\r\n  private links: NzAnchorLinkComponent[] = [];\r\n  private animating = false;\r\n  private target: Element | null = null;\r\n  private scroll$: Subscription | null = null;\r\n  private destroyed = false;\r\n\r\n  constructor(\r\n    public nzConfigService: NzConfigService,\r\n    private scrollSrv: NzScrollService,\r\n    /* tslint:disable-next-line:no-any */\r\n    @Inject(DOCUMENT) private doc: any,\r\n    private cdr: ChangeDetectorRef,\r\n    private platform: Platform\r\n  ) {}\r\n\r\n  registerLink(link: NzAnchorLinkComponent): void {\r\n    this.links.push(link);\r\n  }\r\n\r\n  unregisterLink(link: NzAnchorLinkComponent): void {\r\n    this.links.splice(this.links.indexOf(link), 1);\r\n  }\r\n\r\n  private getTarget(): Element | Window {\r\n    return this.target || window;\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.registerScrollEvent();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroyed = true;\r\n    this.removeListen();\r\n  }\r\n\r\n  private registerScrollEvent(): void {\r\n    if (!this.platform.isBrowser) {\r\n      return;\r\n    }\r\n    this.removeListen();\r\n    this.scroll$ = fromEvent(this.getTarget(), 'scroll')\r\n      .pipe(throttleTime(50), distinctUntilChanged())\r\n      .subscribe(() => this.handleScroll());\r\n    // Browser would maintain the scrolling position when refreshing.\r\n    // So we have to delay calculation in avoid of getting a incorrect result.\r\n    setTimeout(() => this.handleScroll());\r\n  }\r\n\r\n  private removeListen(): void {\r\n    if (this.scroll$) {\r\n      this.scroll$.unsubscribe();\r\n    }\r\n  }\r\n\r\n  private getOffsetTop(element: HTMLElement): number {\r\n    if (!element || !element.getClientRects().length) {\r\n      return 0;\r\n    }\r\n    const rect = element.getBoundingClientRect();\r\n    if (rect.width || rect.height) {\r\n      if (this.getTarget() === window) {\r\n        return rect.top - element.ownerDocument!.documentElement!.clientTop;\r\n      }\r\n      return rect.top - (this.getTarget() as HTMLElement).getBoundingClientRect().top;\r\n    }\r\n    return rect.top;\r\n  }\r\n\r\n  handleScroll(): void {\r\n    if (typeof document === 'undefined' || this.destroyed || this.animating) {\r\n      return;\r\n    }\r\n\r\n    const sections: Section[] = [];\r\n    const scope = (this.nzOffsetTop || 0) + this.nzBounds;\r\n    this.links.forEach(comp => {\r\n      const sharpLinkMatch = sharpMatcherRegx.exec(comp.nzHref.toString());\r\n      if (!sharpLinkMatch) {\r\n        return;\r\n      }\r\n      const target = this.doc.getElementById(sharpLinkMatch[1]);\r\n      if (target) {\r\n        const top = this.getOffsetTop(target);\r\n        if (top < scope) {\r\n          sections.push({\r\n            top,\r\n            comp\r\n          });\r\n        }\r\n      }\r\n    });\r\n\r\n    this.visible = !!sections.length;\r\n    if (!this.visible) {\r\n      this.clearActive();\r\n      this.cdr.detectChanges();\r\n    } else {\r\n      const maxSection = sections.reduce((prev, curr) => (curr.top > prev.top ? curr : prev));\r\n      this.handleActive(maxSection.comp);\r\n    }\r\n  }\r\n\r\n  private clearActive(): void {\r\n    this.links.forEach(i => {\r\n      i.active = false;\r\n      i.markForCheck();\r\n    });\r\n  }\r\n\r\n  private handleActive(comp: NzAnchorLinkComponent): void {\r\n    this.clearActive();\r\n\r\n    comp.active = true;\r\n    comp.markForCheck();\r\n\r\n    const linkNode = (comp.elementRef.nativeElement as HTMLDivElement).querySelector('.ant-anchor-link-title') as HTMLElement;\r\n    this.ink.nativeElement.style.top = `${linkNode.offsetTop + linkNode.clientHeight / 2 - 4.5}px`;\r\n    this.visible = true;\r\n    this.cdr.detectChanges();\r\n\r\n    this.nzScroll.emit(comp);\r\n  }\r\n\r\n  handleScrollTo(linkComp: NzAnchorLinkComponent): void {\r\n    const el = this.doc.querySelector(linkComp.nzHref);\r\n    if (!el) {\r\n      return;\r\n    }\r\n\r\n    this.animating = true;\r\n    const containerScrollTop = this.scrollSrv.getScroll(this.getTarget());\r\n    const elOffsetTop = this.getOffsetTop(el);\r\n    const targetScrollTop = containerScrollTop + elOffsetTop - (this.nzOffsetTop || 0);\r\n    this.scrollSrv.scrollTo(this.getTarget(), targetScrollTop, undefined, () => {\r\n      this.animating = false;\r\n      this.handleActive(linkComp);\r\n    });\r\n    this.nzClick.emit(linkComp.nzHref);\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { Platform } from '@angular/cdk/platform';\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ContentChild,\r\n  ElementRef,\r\n  Input,\r\n  OnDestroy,\r\n  OnInit,\r\n  Renderer2,\r\n  TemplateRef,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { NzAnchorComponent } from './nz-anchor.component';\r\n\r\n@Component({\r\n  selector: 'nz-link',\r\n  exportAs: 'nzLink',\r\n  preserveWhitespaces: false,\r\n  templateUrl: './nz-anchor-link.component.html',\r\n  host: {\r\n    '[class.ant-anchor-link-active]': 'active'\r\n  },\r\n  styles: [\r\n    `\r\n      nz-link {\r\n        display: block;\r\n      }\r\n    `\r\n  ],\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class NzAnchorLinkComponent implements OnInit, OnDestroy {\r\n  @Input() nzHref = '#';\r\n\r\n  titleStr: string | null = '';\r\n  // tslint:disable-next-line:no-any\r\n  titleTpl: TemplateRef<any>;\r\n  active: boolean = false;\r\n\r\n  @Input()\r\n  set nzTitle(value: string | TemplateRef<void>) {\r\n    if (value instanceof TemplateRef) {\r\n      this.titleStr = null;\r\n      this.titleTpl = value;\r\n    } else {\r\n      this.titleStr = value;\r\n    }\r\n  }\r\n\r\n  @ContentChild('nzTemplate', { static: false }) nzTemplate: TemplateRef<void>;\r\n\r\n  constructor(\r\n    public elementRef: ElementRef,\r\n    private anchorComp: NzAnchorComponent,\r\n    private cdr: ChangeDetectorRef,\r\n    private platform: Platform,\r\n    renderer: Renderer2\r\n  ) {\r\n    renderer.addClass(elementRef.nativeElement, 'ant-anchor-link');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.anchorComp.registerLink(this);\r\n  }\r\n\r\n  goToClick(e: Event): void {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    if (this.platform.isBrowser) {\r\n      this.anchorComp.handleScrollTo(this);\r\n    }\r\n  }\r\n\r\n  markForCheck(): void {\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.anchorComp.unregisterLink(this);\r\n  }\r\n}\r\n","<a\r\n  (click)=\"goToClick($event)\"\r\n  href=\"{{ nzHref }}\"\r\n  class=\"ant-anchor-link-title\"\r\n  title=\"{{ titleStr }}\"\r\n>\r\n  <span *ngIf=\"titleStr; else titleTpl || nzTemplate\">{{ titleStr }}</span>\r\n</a>\r\n<ng-content></ng-content>\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\nimport { PlatformModule } from '@angular/cdk/platform';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { NzAffixModule } from 'ng-zorro-antd/affix';\r\nimport { SCROLL_SERVICE_PROVIDER } from 'ng-zorro-antd/core';\r\n\r\nimport { NzAnchorLinkComponent } from './nz-anchor-link.component';\r\nimport { NzAnchorComponent } from './nz-anchor.component';\r\n\r\n@NgModule({\r\n  declarations: [NzAnchorComponent, NzAnchorLinkComponent],\r\n  exports: [NzAnchorComponent, NzAnchorLinkComponent],\r\n  imports: [CommonModule, NzAffixModule, PlatformModule],\r\n  providers: [SCROLL_SERVICE_PROVIDER]\r\n})\r\nexport class NzAnchorModule {}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nexport * from './nz-anchor-link.component';\r\nexport * from './nz-anchor.component';\r\nexport * from './nz-anchor.module';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i0.ɵɵelementStart","i0.ɵɵtemplate","i0.ɵɵelementEnd","i0.ɵɵproperty","i0.ɵɵadvance","i0.ɵɵelement","i0.ɵɵprojection","i0.ɵɵclassProp","i0.ɵɵtext","i0.ɵɵtextInterpolate","i0.ɵɵlistener","i0.ɵɵpropertyInterpolate"],"mappings":"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"}