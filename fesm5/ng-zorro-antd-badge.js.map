{"version":3,"file":"ng-zorro-antd-badge.js","sources":["ng://ng-zorro-antd/badge/nz-badge.component.html","ng://ng-zorro-antd/badge/nz-badge.component.ts","ng://ng-zorro-antd/badge/nz-badge.module.ts","ng://ng-zorro-antd/badge/public-api.ts","ng://ng-zorro-antd/badge/ng-zorro-antd-badge.ts"],"sourcesContent":["<span #contentElement><ng-content></ng-content></span>\r\n<span\r\n  class=\"ant-badge-status-dot ant-badge-status-{{ nzStatus || presetColor }}\"\r\n  [style.background]=\"!presetColor && nzColor\"\r\n  *ngIf=\"nzStatus || nzColor\"\r\n  [ngStyle]=\"nzStyle\"\r\n></span>\r\n<span class=\"ant-badge-status-text\" *ngIf=\"nzStatus || nzColor\">{{ nzText }}</span>\r\n<ng-container *nzStringTemplateOutlet=\"nzCount\">\r\n  <sup\r\n    class=\"ant-scroll-number\"\r\n    *ngIf=\"showSup && viewInit\"\r\n    [@.disabled]=\"notWrapper\"\r\n    [@zoomBadgeMotion]\r\n    [ngStyle]=\"nzStyle\"\r\n    [attr.title]=\"nzTitle || nzCount\"\r\n    [style.right.px]=\"nzOffset && nzOffset[0] ? -nzOffset[0] : null\"\r\n    [style.marginTop.px]=\"nzOffset && nzOffset[1] ? nzOffset[1] : null\"\r\n    [class.ant-badge-count]=\"!nzDot\"\r\n    [class.ant-badge-dot]=\"nzDot\"\r\n    [class.ant-badge-multiple-words]=\"countArray.length >= 2\"\r\n  >\r\n    <ng-container *ngFor=\"let n of maxNumberArray; let i = index\">\r\n      <span\r\n        class=\"ant-scroll-number-only\"\r\n        *ngIf=\"count <= nzOverflowCount\"\r\n        [style.transform]=\"'translateY(' + -countArray[i] * 100 + '%)'\"\r\n      >\r\n        <ng-container *ngIf=\"!nzDot && countArray[i] !== undefined\">\r\n          <p *ngFor=\"let p of countSingleArray\" [class.current]=\"p === countArray[i]\">{{ p }}</p>\r\n        </ng-container>\r\n      </span>\r\n    </ng-container>\r\n    <ng-container *ngIf=\"count > nzOverflowCount\">{{ nzOverflowCount }}+</ng-container>\r\n  </sup>\r\n</ng-container>\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { ContentObserver } from '@angular/cdk/observers';\r\nimport {\r\n  AfterViewInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  Input,\r\n  NgZone,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  Renderer2,\r\n  SimpleChanges,\r\n  TemplateRef,\r\n  ViewChild,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { InputBoolean, isEmpty, NzConfigService, WithConfig, zoomBadgeMotion } from 'ng-zorro-antd/core';\r\nimport { Subject } from 'rxjs';\r\nimport { startWith, take, takeUntil } from 'rxjs/operators';\r\n\r\nexport type NzBadgeStatusType = 'success' | 'processing' | 'default' | 'error' | 'warning';\r\n\r\nconst NZ_CONFIG_COMPONENT_NAME = 'backTop';\r\n\r\n@Component({\r\n  selector: 'nz-badge',\r\n  exportAs: 'nzBadge',\r\n  preserveWhitespaces: false,\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  animations: [zoomBadgeMotion],\r\n  templateUrl: './nz-badge.component.html',\r\n  host: {\r\n    '[class.ant-badge-status]': 'nzStatus'\r\n  }\r\n})\r\nexport class NzBadgeComponent implements OnInit, AfterViewInit, OnChanges, OnDestroy {\r\n  private destroy$ = new Subject();\r\n  notWrapper = true;\r\n  viewInit = false;\r\n  maxNumberArray: string[] = [];\r\n  countArray: number[] = [];\r\n  countSingleArray = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];\r\n  colorArray = ['pink', 'red', 'yellow', 'orange', 'cyan', 'green', 'blue', 'purple', 'geekblue', 'magenta', 'volcano', 'gold', 'lime'];\r\n  presetColor: string | null = null;\r\n  count: number;\r\n  @ViewChild('contentElement', { static: false }) contentElement: ElementRef;\r\n  @Input() @InputBoolean() nzShowZero: boolean = false;\r\n  @Input() @InputBoolean() nzShowDot = true;\r\n  @Input() @InputBoolean() nzDot = false;\r\n  @Input() @WithConfig(NZ_CONFIG_COMPONENT_NAME, 99) nzOverflowCount: number;\r\n  @Input() nzText: string;\r\n  @Input() @WithConfig(NZ_CONFIG_COMPONENT_NAME) nzColor: string;\r\n  @Input() nzTitle: string;\r\n  @Input() nzStyle: { [key: string]: string };\r\n  @Input() nzStatus: NzBadgeStatusType;\r\n  @Input() nzCount: number | TemplateRef<void>;\r\n  @Input() nzOffset: [number, number];\r\n\r\n  checkContent(): void {\r\n    this.notWrapper = isEmpty(this.contentElement.nativeElement);\r\n    if (this.notWrapper) {\r\n      this.renderer.addClass(this.elementRef.nativeElement, 'ant-badge-not-a-wrapper');\r\n    } else {\r\n      this.renderer.removeClass(this.elementRef.nativeElement, 'ant-badge-not-a-wrapper');\r\n    }\r\n  }\r\n\r\n  get showSup(): boolean {\r\n    return (this.nzShowDot && this.nzDot) || this.count > 0 || (this.count === 0 && this.nzShowZero);\r\n  }\r\n\r\n  generateMaxNumberArray(): void {\r\n    this.maxNumberArray = this.nzOverflowCount.toString().split('');\r\n  }\r\n\r\n  constructor(\r\n    public nzConfigService: NzConfigService,\r\n    private renderer: Renderer2,\r\n    private elementRef: ElementRef,\r\n    private contentObserver: ContentObserver,\r\n    private cdr: ChangeDetectorRef,\r\n    private ngZone: NgZone\r\n  ) {\r\n    renderer.addClass(elementRef.nativeElement, 'ant-badge');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.generateMaxNumberArray();\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.ngZone.onStable.pipe(take(1)).subscribe(() => {\r\n      this.viewInit = true;\r\n      this.cdr.markForCheck();\r\n    });\r\n\r\n    this.contentObserver\r\n      .observe(this.contentElement)\r\n      .pipe(startWith(true), takeUntil(this.destroy$))\r\n      .subscribe(() => {\r\n        this.checkContent();\r\n      });\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    const { nzOverflowCount, nzCount, nzColor } = changes;\r\n    if (nzCount && !(nzCount.currentValue instanceof TemplateRef)) {\r\n      this.count = Math.max(0, nzCount.currentValue);\r\n      this.countArray = this.count\r\n        .toString()\r\n        .split('')\r\n        .map(item => +item);\r\n    }\r\n    if (nzOverflowCount) {\r\n      this.generateMaxNumberArray();\r\n    }\r\n    if (nzColor) {\r\n      this.presetColor = this.colorArray.indexOf(this.nzColor) !== -1 ? this.nzColor : null;\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { ObserversModule } from '@angular/cdk/observers';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { NzAddOnModule } from 'ng-zorro-antd/core';\r\n\r\nimport { NzBadgeComponent } from './nz-badge.component';\r\n\r\n@NgModule({\r\n  declarations: [NzBadgeComponent],\r\n  exports: [NzBadgeComponent],\r\n  imports: [CommonModule, ObserversModule, NzAddOnModule]\r\n})\r\nexport class NzBadgeModule {}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nexport * from './nz-badge.component';\r\nexport * from './nz-badge.module';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i0.ɵɵelement","i0.ɵɵstyleSanitizer","i0.ɵɵclassMapInterpolate1","i0.ɵɵstyleProp","i0.ɵɵproperty","i0.ɵɵelementStart","i0.ɵɵtext","i0.ɵɵelementEnd","i0.ɵɵadvance","i0.ɵɵtextInterpolate","i0.ɵɵclassProp","i0.ɵɵelementContainerStart","i0.ɵɵtemplate","i0.ɵɵelementContainerEnd","i0.ɵɵtextInterpolate1","i0.ɵɵattribute","i0.ɵɵprojection"],"mappings":"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"}