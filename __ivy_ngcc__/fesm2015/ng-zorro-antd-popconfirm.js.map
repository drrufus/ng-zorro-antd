{"version":3,"file":"ng-zorro-antd-popconfirm.js","sources":["ng:/ng-zorro-antd/popconfirm/nz-popconfirm.component.ts","ng:/ng-zorro-antd/popconfirm/nz-popconfirm.directive.ts","ng:/ng-zorro-antd/popconfirm/nz-popconfirm.module.ts"],"names":["tslib_1.__decorate"],"mappings":"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","sourcesContent":["/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  EventEmitter,\r\n  Host,\r\n  Input,\r\n  Optional,\r\n  Output,\r\n  TemplateRef,\r\n  ViewChild,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { zoomBigMotion, InputBoolean, NzNoAnimationDirective } from 'ng-zorro-antd/core';\r\nimport { NzTooltipBaseComponentLegacy, NzTooltipTrigger, NzToolTipComponent } from 'ng-zorro-antd/tooltip';\r\nimport { ElementRef } from '@angular/core';\r\nimport { FocusTrapFactory, FocusTrap } from '@angular/cdk/a11y';\r\n\r\n@Component({\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  selector: 'nz-popconfirm',\r\n  exportAs: 'nzPopconfirmComponent',\r\n  preserveWhitespaces: false,\r\n  animations: [zoomBigMotion],\r\n  templateUrl: './nz-popconfirm.component.html',\r\n  providers: [\r\n    {\r\n      provide: NzTooltipBaseComponentLegacy,\r\n      useExisting: NzPopconfirmComponent\r\n    }\r\n  ],\r\n  styles: [\r\n    `\r\n      .ant-popover {\r\n        position: relative;\r\n      }\r\n    `\r\n  ]\r\n})\r\nexport class NzPopconfirmComponent extends NzToolTipComponent {\r\n  @Input() nzOkText: string;\r\n  @Input() nzOkType: string = 'primary';\r\n  @Input() nzCancelText: string;\r\n  @Input() @InputBoolean() nzCondition = false;\r\n  @Input() nzIcon: string | TemplateRef<void>;\r\n\r\n  @Output() readonly nzOnCancel: EventEmitter<void> = new EventEmitter();\r\n  @Output() readonly nzOnConfirm: EventEmitter<void> = new EventEmitter();\r\n\r\n  // some stuff for focus-trap (a11y):\r\n  @ViewChild('popoverContainer', { static: false })\r\n  popoverContainer: ElementRef;\r\n  private focusTrap: FocusTrap | null = null;\r\n  private previouslyFocusedElement: HTMLElement | null;\r\n\r\n  @ViewChild('focusableTitle', { static: false })\r\n  private focusableTitle: ElementRef;\r\n\r\n  _prefix = 'ant-popover-placement';\r\n  _trigger: NzTooltipTrigger = 'click';\r\n  _hasBackdrop = true;\r\n\r\n  constructor(\r\n    cdr: ChangeDetectorRef,\r\n    private focusTrapFactory: FocusTrapFactory,\r\n    @Host() @Optional() public noAnimation?: NzNoAnimationDirective,\r\n  ) {\r\n    super(cdr, noAnimation);\r\n  }\r\n\r\n  show(): void {\r\n    if (!this.nzCondition) {\r\n      this.previouslyFocusedElement = document.activeElement as HTMLElement;\r\n      super.show();\r\n      this.focusTrap = this.focusTrapFactory.create(this.popoverContainer.nativeElement);\r\n      this.focusTrap.focusFirstTabbableElementWhenReady();\r\n\r\n      // focus on the title:\r\n      setTimeout(() => {\r\n        if (this.focusableTitle) {\r\n          this.focusableTitle.nativeElement.focus();\r\n        }\r\n      }, 200);\r\n    } else {\r\n      this.onConfirm();\r\n    }\r\n  }\r\n\r\n  close(): void {\r\n    this.focusTrap && this.focusTrap.destroy();\r\n    super.hide();\r\n    this.previouslyFocusedElement && this.previouslyFocusedElement.focus();\r\n  }\r\n\r\n  onCancel(): void {\r\n    this.nzOnCancel.emit();\r\n    this.close();\r\n  }\r\n\r\n  onConfirm(): void {\r\n    this.nzOnConfirm.emit();\r\n    this.close();\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport {\r\n  ComponentFactory,\r\n  ComponentFactoryResolver,\r\n  Directive,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Host,\r\n  Input,\r\n  OnInit,\r\n  Optional,\r\n  Output,\r\n  Renderer2,\r\n  TemplateRef,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\n\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { InputBoolean, NzNoAnimationDirective, NzTSType } from 'ng-zorro-antd/core';\r\nimport { NzTooltipBaseDirective, NzTooltipTrigger } from 'ng-zorro-antd/tooltip';\r\n\r\nimport { NzPopconfirmComponent } from './nz-popconfirm.component';\r\n\r\n@Directive({\r\n  selector: '[nz-popconfirm]',\r\n  exportAs: 'nzPopconfirm',\r\n  host: {\r\n    '[class.ant-popover-open]': 'isTooltipComponentVisible'\r\n  }\r\n})\r\nexport class NzPopconfirmDirective extends NzTooltipBaseDirective implements OnInit {\r\n  @Input('nzPopconfirmTitle') specificTitle: NzTSType;\r\n  @Input('nz-popconfirm') directiveNameTitle: NzTSType | null;\r\n  @Input('nzPopconfirmTrigger') specificTrigger: NzTooltipTrigger;\r\n  @Input('nzPopconfirmPlacement') specificPlacement: string;\r\n  @Input() nzOkText: string;\r\n  @Input() nzOkType: string;\r\n  @Input() nzCancelText: string;\r\n  @Input() nzIcon: string | TemplateRef<void>;\r\n  @Input() @InputBoolean() nzCondition: boolean;\r\n\r\n  /**\r\n   * @deprecated 9.0.0. This is deprecated and going to be removed in 9.0.0.\r\n   * Please use a more specific API. Like `nzTooltipTrigger`.\r\n   */\r\n  @Input() nzTrigger: NzTooltipTrigger = 'click';\r\n\r\n  @Output() readonly nzOnCancel = new EventEmitter<void>();\r\n  @Output() readonly nzOnConfirm = new EventEmitter<void>();\r\n\r\n  componentFactory: ComponentFactory<NzPopconfirmComponent> = this.resolver.resolveComponentFactory(\r\n    NzPopconfirmComponent\r\n  );\r\n\r\n  protected needProxyProperties = [\r\n    'nzOverlayClassName',\r\n    'nzOverlayStyle',\r\n    'nzMouseEnterDelay',\r\n    'nzMouseLeaveDelay',\r\n    'nzVisible',\r\n    'nzOkText',\r\n    'nzOkType',\r\n    'nzCancelText',\r\n    'nzCondition',\r\n    'nzIcon'\r\n  ];\r\n\r\n  constructor(\r\n    elementRef: ElementRef,\r\n    hostView: ViewContainerRef,\r\n    resolver: ComponentFactoryResolver,\r\n    renderer: Renderer2,\r\n    @Optional() tooltip: NzPopconfirmComponent,\r\n    @Host() @Optional() public noAnimation?: NzNoAnimationDirective\r\n  ) {\r\n    super(elementRef, hostView, resolver, renderer, tooltip, noAnimation);\r\n  }\r\n\r\n  /**\r\n   * @override\r\n   */\r\n  protected createDynamicTooltipComponent(): void {\r\n    super.createDynamicTooltipComponent();\r\n\r\n    (this.tooltip as NzPopconfirmComponent).nzOnCancel.pipe(takeUntil(this.$destroy)).subscribe(() => {\r\n      this.nzOnCancel.emit();\r\n    });\r\n    (this.tooltip as NzPopconfirmComponent).nzOnConfirm.pipe(takeUntil(this.$destroy)).subscribe(() => {\r\n      this.nzOnConfirm.emit();\r\n    });\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { OverlayModule } from '@angular/cdk/overlay';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { NzButtonModule } from 'ng-zorro-antd/button';\r\nimport { NzAddOnModule, NzNoAnimationModule, NzOverlayModule } from 'ng-zorro-antd/core';\r\nimport { NzI18nModule } from 'ng-zorro-antd/i18n';\r\nimport { NzIconModule } from 'ng-zorro-antd/icon';\r\nimport { NzToolTipModule } from 'ng-zorro-antd/tooltip';\r\n\r\nimport { NzPopconfirmComponent } from './nz-popconfirm.component';\r\nimport { NzPopconfirmDirective } from './nz-popconfirm.directive';\r\n\r\n@NgModule({\r\n  declarations: [NzPopconfirmComponent, NzPopconfirmDirective],\r\n  exports: [NzPopconfirmComponent, NzPopconfirmDirective],\r\n  imports: [\r\n    CommonModule,\r\n    NzButtonModule,\r\n    OverlayModule,\r\n    NzI18nModule,\r\n    NzIconModule,\r\n    NzAddOnModule,\r\n    NzOverlayModule,\r\n    NzNoAnimationModule,\r\n    NzToolTipModule\r\n  ],\r\n  entryComponents: [NzPopconfirmComponent]\r\n})\r\nexport class NzPopconfirmModule {}\r\n"]}