{"version":3,"file":"ng-zorro-antd-skeleton.js","sources":["ng://ng-zorro-antd/skeleton/nz-skeleton.component.ts","ng://ng-zorro-antd/skeleton/nz-skeleton.component.html","ng://ng-zorro-antd/skeleton/nz-skeleton.module.ts","ng://ng-zorro-antd/skeleton/public-api.ts","ng://ng-zorro-antd/skeleton/ng-zorro-antd-skeleton.ts"],"sourcesContent":["/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  Input,\r\n  OnChanges,\r\n  OnInit,\r\n  Renderer2,\r\n  SimpleChanges,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { toCssPixel } from 'ng-zorro-antd/core';\r\nimport { AvatarShape, AvatarSize, NzSkeletonAvatar, NzSkeletonParagraph, NzSkeletonTitle } from './nz-skeleton.type';\r\n\r\n@Component({\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  selector: 'nz-skeleton',\r\n  exportAs: 'nzSkeleton',\r\n  templateUrl: './nz-skeleton.component.html',\r\n  host: {\r\n    '[class.ant-skeleton-with-avatar]': '!!nzAvatar',\r\n    '[class.ant-skeleton-active]': 'nzActive'\r\n  }\r\n})\r\nexport class NzSkeletonComponent implements OnInit, OnChanges {\r\n  @Input() nzActive = false;\r\n  @Input() nzLoading = true;\r\n  @Input() nzTitle: NzSkeletonTitle | boolean = true;\r\n  @Input() nzAvatar: NzSkeletonAvatar | boolean = false;\r\n  @Input() nzParagraph: NzSkeletonParagraph | boolean = true;\r\n\r\n  title: NzSkeletonTitle;\r\n  avatar: NzSkeletonAvatar;\r\n  paragraph: NzSkeletonParagraph;\r\n  rowsList: number[] = [];\r\n  widthList: Array<number | string> = [];\r\n\r\n  constructor(private cdr: ChangeDetectorRef, renderer: Renderer2, elementRef: ElementRef) {\r\n    renderer.addClass(elementRef.nativeElement, 'ant-skeleton');\r\n  }\r\n\r\n  toCSSUnit(value: number | string = ''): string {\r\n    return toCssPixel(value);\r\n  }\r\n\r\n  private getTitleProps(): NzSkeletonTitle {\r\n    const hasAvatar: boolean = !!this.nzAvatar;\r\n    const hasParagraph: boolean = !!this.nzParagraph;\r\n    let width = '';\r\n    if (!hasAvatar && hasParagraph) {\r\n      width = '38%';\r\n    } else if (hasAvatar && hasParagraph) {\r\n      width = '50%';\r\n    }\r\n    return { width, ...this.getProps(this.nzTitle) };\r\n  }\r\n\r\n  private getAvatarProps(): NzSkeletonAvatar {\r\n    const shape: AvatarShape = !!this.nzTitle && !this.nzParagraph ? 'square' : 'circle';\r\n    const size: AvatarSize = 'large';\r\n    return { shape, size, ...this.getProps(this.nzAvatar) };\r\n  }\r\n\r\n  private getParagraphProps(): NzSkeletonParagraph {\r\n    const hasAvatar: boolean = !!this.nzAvatar;\r\n    const hasTitle: boolean = !!this.nzTitle;\r\n    const basicProps: NzSkeletonParagraph = {};\r\n    // Width\r\n    if (!hasAvatar || !hasTitle) {\r\n      basicProps.width = '61%';\r\n    }\r\n    // Rows\r\n    if (!hasAvatar && hasTitle) {\r\n      basicProps.rows = 3;\r\n    } else {\r\n      basicProps.rows = 2;\r\n    }\r\n    return { ...basicProps, ...this.getProps(this.nzParagraph) };\r\n  }\r\n\r\n  private getProps<T>(prop: T | boolean | undefined): T | {} {\r\n    return prop && typeof prop === 'object' ? prop : {};\r\n  }\r\n\r\n  private getWidthList(): Array<number | string> {\r\n    const { width, rows } = this.paragraph;\r\n    let widthList: Array<string | number> = [];\r\n    if (width && Array.isArray(width)) {\r\n      widthList = width;\r\n    } else if (width && !Array.isArray(width)) {\r\n      widthList = [];\r\n      widthList[rows! - 1] = width;\r\n    }\r\n    return widthList;\r\n  }\r\n\r\n  private updateProps(): void {\r\n    this.title = this.getTitleProps();\r\n    this.avatar = this.getAvatarProps();\r\n    this.paragraph = this.getParagraphProps();\r\n    this.rowsList = [...Array(this.paragraph.rows)];\r\n    this.widthList = this.getWidthList();\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.updateProps();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.nzTitle || changes.nzAvatar || changes.nzParagraph) {\r\n      this.updateProps();\r\n    }\r\n  }\r\n}\r\n","<ng-container *ngIf=\"nzLoading\">\r\n  <div class=\"ant-skeleton-header\" *ngIf=\"!!nzAvatar\">\r\n    <span\r\n      class=\"ant-skeleton-avatar\"\r\n      [class.ant-skeleton-avatar-lg]=\"avatar.size === 'large'\"\r\n      [class.ant-skeleton-avatar-sm]=\"avatar.size === 'small'\"\r\n      [class.ant-skeleton-avatar-circle]=\"avatar.shape === 'circle'\"\r\n      [class.ant-skeleton-avatar-square]=\"avatar.shape === 'square'\"\r\n    >\r\n    </span>\r\n  </div>\r\n  <div class=\"ant-skeleton-content\">\r\n    <h3 *ngIf=\"!!nzTitle\" class=\"ant-skeleton-title\" [style.width]=\"toCSSUnit(title.width)\"></h3>\r\n    <ul *ngIf=\"!!nzParagraph\" class=\"ant-skeleton-paragraph\">\r\n      <li *ngFor=\"let row of rowsList; let i = index\" [style.width]=\"toCSSUnit(widthList[i])\"></li>\r\n    </ul>\r\n  </div>\r\n</ng-container>\r\n<ng-container *ngIf=\"!nzLoading\">\r\n  <ng-content></ng-content>\r\n</ng-container>\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { NzSkeletonComponent } from './nz-skeleton.component';\r\n\r\n@NgModule({\r\n  declarations: [NzSkeletonComponent],\r\n  imports: [CommonModule],\r\n  exports: [NzSkeletonComponent]\r\n})\r\nexport class NzSkeletonModule {}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nexport * from './nz-skeleton.component';\r\nexport * from './nz-skeleton.module';\r\nexport * from './nz-skeleton.type';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i0.ɵɵelementStart","i0.ɵɵelement","i0.ɵɵelementEnd","i0.ɵɵadvance","i0.ɵɵclassProp","i0.ɵɵstyleProp","i0.ɵɵtemplate","i0.ɵɵproperty","i0.ɵɵelementContainerStart","i0.ɵɵelementContainerEnd","i0.ɵɵprojection"],"mappings":"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"}