{"version":3,"file":"ng-zorro-antd-spin.js","sources":["ng://ng-zorro-antd/spin/nz-spin.component.html","ng://ng-zorro-antd/spin/nz-spin.component.ts","ng://ng-zorro-antd/spin/nz-spin.module.ts","ng://ng-zorro-antd/spin/public-api.ts","ng://ng-zorro-antd/spin/ng-zorro-antd-spin.ts"],"sourcesContent":["<ng-template #defaultIndicatorTemplate>\r\n  <span class=\"ant-spin-dot\" [class.ant-spin-dot-spin]=\"loading\">\r\n    <i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i\r\n    ><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i>\r\n  </span>\r\n</ng-template>\r\n<div *ngIf=\"loading\">\r\n  <div\r\n    class=\"ant-spin\"\r\n    [class.ant-spin-spinning]=\"loading\"\r\n    [class.ant-spin-lg]=\"nzSize === 'large'\"\r\n    [class.ant-spin-sm]=\"nzSize === 'small'\"\r\n    [class.ant-spin-show-text]=\"nzTip\"\r\n  >\r\n    <ng-template [ngTemplateOutlet]=\"nzIndicator || defaultIndicatorTemplate\"></ng-template>\r\n    <div class=\"ant-spin-text\" *ngIf=\"nzTip\">{{ nzTip }}</div>\r\n  </div>\r\n</div>\r\n<div *ngIf=\"!nzSimple\" class=\"ant-spin-container\" [class.ant-spin-blur]=\"loading\">\r\n  <ng-content></ng-content>\r\n</div>\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  SimpleChanges,\r\n  TemplateRef,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { BehaviorSubject, Observable, Subject, Subscription } from 'rxjs';\r\nimport { debounceTime, takeUntil } from 'rxjs/operators';\r\n\r\nimport { InputBoolean, InputNumber, NzConfigService, NzSizeLDSType, WithConfig } from 'ng-zorro-antd/core';\r\n\r\nconst NZ_CONFIG_COMPONENT_NAME = 'spin';\r\n\r\n@Component({\r\n  selector: 'nz-spin',\r\n  exportAs: 'nzSpin',\r\n  preserveWhitespaces: false,\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  templateUrl: './nz-spin.component.html',\r\n  host: {\r\n    '[class.ant-spin-nested-loading]': '!nzSimple'\r\n  },\r\n  styles: [\r\n    `\r\n      nz-spin {\r\n        display: block;\r\n      }\r\n    `\r\n  ]\r\n})\r\nexport class NzSpinComponent implements OnChanges, OnDestroy, OnInit {\r\n  @Input() @WithConfig(NZ_CONFIG_COMPONENT_NAME) nzIndicator: TemplateRef<void>;\r\n  @Input() nzSize: NzSizeLDSType = 'default';\r\n  @Input() nzTip: string;\r\n  @Input() @InputNumber() nzDelay = 0;\r\n  @Input() @InputBoolean() nzSimple = false;\r\n  @Input() @InputBoolean() nzSpinning = true;\r\n  loading = true;\r\n  private destroy$ = new Subject<void>();\r\n  private spinning$ = new BehaviorSubject(this.nzSpinning);\r\n  private loading$: Observable<boolean> = this.spinning$.pipe(debounceTime(this.nzDelay));\r\n  private loading_: Subscription | null;\r\n\r\n  subscribeLoading(): void {\r\n    this.unsubscribeLoading();\r\n    this.loading_ = this.loading$.subscribe(data => {\r\n      this.loading = data;\r\n      this.cdr.markForCheck();\r\n    });\r\n  }\r\n\r\n  unsubscribeLoading(): void {\r\n    if (this.loading_) {\r\n      this.loading_.unsubscribe();\r\n      this.loading_ = null;\r\n    }\r\n  }\r\n\r\n  constructor(public nzConfigService: NzConfigService, private cdr: ChangeDetectorRef) {}\r\n\r\n  ngOnInit(): void {\r\n    this.subscribeLoading();\r\n\r\n    this.nzConfigService\r\n      .getConfigChangeEventForComponent(NZ_CONFIG_COMPONENT_NAME)\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe(() => this.cdr.markForCheck());\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.nzSpinning) {\r\n      if (changes.nzSpinning.isFirstChange()) {\r\n        this.loading = this.nzSpinning;\r\n      }\r\n      this.spinning$.next(this.nzSpinning);\r\n    }\r\n    if (changes.nzDelay) {\r\n      this.loading$ = this.spinning$.pipe(debounceTime(this.nzDelay));\r\n      this.subscribeLoading();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n    this.unsubscribeLoading();\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { ObserversModule } from '@angular/cdk/observers';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { NzSpinComponent } from './nz-spin.component';\r\n\r\n@NgModule({\r\n  exports: [NzSpinComponent],\r\n  declarations: [NzSpinComponent],\r\n  imports: [CommonModule, ObserversModule]\r\n})\r\nexport class NzSpinModule {}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nexport * from './nz-spin.component';\r\nexport * from './nz-spin.module';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i0.ɵɵelementStart","i0.ɵɵelement","i0.ɵɵelementEnd","i0.ɵɵclassProp","i0.ɵɵtext","i0.ɵɵadvance","i0.ɵɵtextInterpolate","i0.ɵɵtemplate","i0.ɵɵproperty","i0.ɵɵprojection"],"mappings":"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"}