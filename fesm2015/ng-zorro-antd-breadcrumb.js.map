{"version":3,"file":"ng-zorro-antd-breadcrumb.js","sources":["ng://ng-zorro-antd/breadcrumb/nz-breadcrumb.component.html","ng://ng-zorro-antd/breadcrumb/nz-breadcrumb.component.ts","ng://ng-zorro-antd/breadcrumb/nz-breadcrumb-item.component.ts","ng://ng-zorro-antd/breadcrumb/nz-breadcrumb-item.component.html","ng://ng-zorro-antd/breadcrumb/nz-breadcrumb.module.ts","ng://ng-zorro-antd/breadcrumb/public-api.ts","ng://ng-zorro-antd/breadcrumb/ng-zorro-antd-breadcrumb.ts"],"sourcesContent":["<ng-content></ng-content>\r\n<ng-container *ngIf=\"nzAutoGenerate\">\r\n  <nz-breadcrumb-item *ngFor=\"let breadcrumb of breadcrumbs\">\r\n    <a [attr.href]=\"breadcrumb.url\" (click)=\"navigate(breadcrumb.url, $event)\">{{\r\n      breadcrumb.label\r\n    }}</a>\r\n  </nz-breadcrumb-item>\r\n</ng-container>\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  Injector,\r\n  Input,\r\n  NgZone,\r\n  OnDestroy,\r\n  OnInit,\r\n  Renderer2,\r\n  TemplateRef,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { ActivatedRoute, NavigationEnd, Params, PRIMARY_OUTLET, Router } from '@angular/router';\r\n\r\nimport { InputBoolean, PREFIX } from 'ng-zorro-antd/core';\r\nimport { Subject } from 'rxjs';\r\nimport { filter, startWith, takeUntil } from 'rxjs/operators';\r\n\r\nexport interface BreadcrumbOption {\r\n  label: string;\r\n  params: Params;\r\n  url: string;\r\n}\r\n\r\n@Component({\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  selector: 'nz-breadcrumb',\r\n  exportAs: 'nzBreadcrumb',\r\n  preserveWhitespaces: false,\r\n  templateUrl: './nz-breadcrumb.component.html',\r\n  styles: [\r\n    `\r\n      nz-breadcrumb {\r\n        display: block;\r\n      }\r\n    `\r\n  ]\r\n})\r\nexport class NzBreadCrumbComponent implements OnInit, OnDestroy {\r\n  @Input() @InputBoolean() nzAutoGenerate = false;\r\n  @Input() nzSeparator: string | TemplateRef<void> = '/';\r\n  @Input() nzRouteLabel: string = 'breadcrumb';\r\n\r\n  breadcrumbs: BreadcrumbOption[] | undefined = [];\r\n\r\n  private destroy$ = new Subject<void>();\r\n\r\n  constructor(\r\n    private injector: Injector,\r\n    private ngZone: NgZone,\r\n    private cdr: ChangeDetectorRef,\r\n    elementRef: ElementRef,\r\n    renderer: Renderer2\r\n  ) {\r\n    renderer.addClass(elementRef.nativeElement, 'ant-breadcrumb');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (this.nzAutoGenerate) {\r\n      this.registerRouterChange();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  navigate(url: string, e: MouseEvent): void {\r\n    e.preventDefault();\r\n\r\n    this.ngZone\r\n      .run(() =>\r\n        this.injector\r\n          .get(Router)\r\n          .navigateByUrl(url)\r\n          .then()\r\n      )\r\n      .then();\r\n  }\r\n\r\n  private registerRouterChange(): void {\r\n    try {\r\n      const router = this.injector.get(Router);\r\n      const activatedRoute = this.injector.get(ActivatedRoute);\r\n      router.events\r\n        .pipe(\r\n          filter(e => e instanceof NavigationEnd),\r\n          takeUntil(this.destroy$),\r\n          startWith(true) // Trigger initial render.\r\n        )\r\n        .subscribe(() => {\r\n          this.breadcrumbs = this.getBreadcrumbs(activatedRoute.root);\r\n          this.cdr.markForCheck();\r\n        });\r\n    } catch (e) {\r\n      throw new Error(`${PREFIX} You should import RouterModule if you want to use 'NzAutoGenerate'.`);\r\n    }\r\n  }\r\n\r\n  private getBreadcrumbs(route: ActivatedRoute, url: string = '', breadcrumbs: BreadcrumbOption[] = []): BreadcrumbOption[] | undefined {\r\n    const children: ActivatedRoute[] = route.children;\r\n    // If there's no sub root, then stop the recurse and returns the generated breadcrumbs.\r\n    if (children.length === 0) {\r\n      return breadcrumbs;\r\n    }\r\n    for (const child of children) {\r\n      if (child.outlet === PRIMARY_OUTLET) {\r\n        // Only parse components in primary router-outlet (in another word, router-outlet without a specific name).\r\n        // Parse this layer and generate a breadcrumb item.\r\n        const routeURL: string = child.snapshot.url.map(segment => segment.path).join('/');\r\n        const nextUrl = url + `/${routeURL}`;\r\n        const breadcrumbLabel = child.snapshot.data[this.nzRouteLabel];\r\n        // If have data, go to generate a breadcrumb for it.\r\n        if (routeURL && breadcrumbLabel) {\r\n          const breadcrumb: BreadcrumbOption = {\r\n            label: breadcrumbLabel,\r\n            params: child.snapshot.params,\r\n            url: nextUrl\r\n          };\r\n          breadcrumbs.push(breadcrumb);\r\n        }\r\n        return this.getBreadcrumbs(child, nextUrl, breadcrumbs);\r\n      }\r\n    }\r\n    return undefined;\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { ChangeDetectionStrategy, Component, Input, ViewEncapsulation } from '@angular/core';\r\n\r\nimport { NzDropdownMenuComponent } from 'ng-zorro-antd/dropdown';\r\n\r\nimport { NzBreadCrumbComponent } from './nz-breadcrumb.component';\r\n\r\n@Component({\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  selector: 'nz-breadcrumb-item',\r\n  exportAs: 'nzBreadcrumbItem',\r\n  preserveWhitespaces: false,\r\n  templateUrl: './nz-breadcrumb-item.component.html',\r\n  styles: [\r\n    `\r\n      nz-breadcrumb-item:last-child {\r\n        color: rgba(0, 0, 0, 0.65);\r\n      }\r\n\r\n      nz-breadcrumb-item:last-child .ant-breadcrumb-separator {\r\n        display: none;\r\n      }\r\n    `\r\n  ]\r\n})\r\nexport class NzBreadCrumbItemComponent {\r\n  /**\r\n   * Dropdown content of a breadcrumb item.\r\n   */\r\n  @Input() nzOverlay?: NzDropdownMenuComponent;\r\n\r\n  constructor(public nzBreadCrumbComponent: NzBreadCrumbComponent) {}\r\n}\r\n","<ng-container *ngIf=\"!!nzOverlay; else noMenuTpl\">\r\n  <span class=\"ant-breadcrumb-overlay-link\" nz-dropdown [nzDropdownMenu]=\"nzOverlay\">\r\n    <ng-template [ngTemplateOutlet]=\"noMenuTpl\"></ng-template>\r\n    <i *ngIf=\"!!nzOverlay\" nz-icon nzType=\"down\"></i>\r\n  </span>\r\n</ng-container>\r\n\r\n<ng-template #noMenuTpl>\r\n  <span class=\"ant-breadcrumb-link\">\r\n    <ng-content></ng-content>\r\n  </span>\r\n</ng-template>\r\n\r\n<span class=\"ant-breadcrumb-separator\">\r\n  <ng-container *nzStringTemplateOutlet=\"nzBreadCrumbComponent.nzSeparator\">\r\n    {{ nzBreadCrumbComponent.nzSeparator }}\r\n  </ng-container>\r\n</span>\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { OverlayModule } from '@angular/cdk/overlay';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { NzAddOnModule, NzOverlayModule } from 'ng-zorro-antd/core';\r\nimport { NzDropDownModule } from 'ng-zorro-antd/dropdown';\r\nimport { NzIconModule } from 'ng-zorro-antd/icon';\r\n\r\nimport { NzBreadCrumbItemComponent } from './nz-breadcrumb-item.component';\r\nimport { NzBreadCrumbComponent } from './nz-breadcrumb.component';\r\n\r\n@NgModule({\r\n  imports: [CommonModule, NzAddOnModule, OverlayModule, NzOverlayModule, NzDropDownModule, NzIconModule],\r\n  declarations: [NzBreadCrumbComponent, NzBreadCrumbItemComponent],\r\n  exports: [NzBreadCrumbComponent, NzBreadCrumbItemComponent]\r\n})\r\nexport class NzBreadCrumbModule {}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nexport * from './nz-breadcrumb-item.component';\r\nexport * from './nz-breadcrumb.component';\r\nexport * from './nz-breadcrumb.module';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i0.ɵɵelementStart","i0.ɵɵlistener","i0.ɵɵtext","i0.ɵɵelementEnd","i0.ɵɵadvance","i0.ɵɵattribute","i0.ɵɵtextInterpolate","i0.ɵɵelementContainerStart","i0.ɵɵtemplate","i0.ɵɵelementContainerEnd","i0.ɵɵproperty","i0.ɵɵprojection","i0.ɵɵelement","i0.ɵɵtextInterpolate1"],"mappings":"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"}