{"version":3,"file":"ng-zorro-antd-statistic.js","sources":["ng://ng-zorro-antd/statistic/nz-statistic-definitions.ts","ng://ng-zorro-antd/statistic/nz-statistic-number.component.ts","ng://ng-zorro-antd/statistic/nz-statistic-number.component.html","ng://ng-zorro-antd/statistic/nz-statistic.component.ts","ng://ng-zorro-antd/statistic/nz-statistic.component.html","ng://ng-zorro-antd/statistic/nz-countdown.component.ts","ng://ng-zorro-antd/statistic/nz-countdown.component.html","ng://ng-zorro-antd/statistic/nz-statistic.module.ts","ng://ng-zorro-antd/statistic/public-api.ts","ng://ng-zorro-antd/statistic/ng-zorro-antd-statistic.ts"],"sourcesContent":["/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nexport type NzStatisticValueType = number | string;\r\n\r\nexport const REFRESH_INTERVAL = 1000 / 30;\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { getLocaleNumberSymbol, NumberSymbol } from '@angular/common';\r\nimport { ChangeDetectionStrategy, Component, Inject, Input, LOCALE_ID, OnChanges, TemplateRef, ViewEncapsulation } from '@angular/core';\r\nimport { NzStatisticValueType } from './nz-statistic-definitions';\r\n\r\n@Component({\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  preserveWhitespaces: false,\r\n  selector: 'nz-statistic-number',\r\n  exportAs: 'nzStatisticNumber',\r\n  templateUrl: './nz-statistic-number.component.html',\r\n  host: {\r\n    class: 'ant-statistic-content-value'\r\n  },\r\n  styles: ['nz-number { display: inline }']\r\n})\r\nexport class NzStatisticNumberComponent implements OnChanges {\r\n  @Input() nzValue: NzStatisticValueType;\r\n  @Input() nzValueTemplate: TemplateRef<{ $implicit: NzStatisticValueType }>;\r\n\r\n  displayInt = '';\r\n  displayDecimal = '';\r\n\r\n  constructor(@Inject(LOCALE_ID) private locale_id: string) {}\r\n\r\n  ngOnChanges(): void {\r\n    this.formatNumber();\r\n  }\r\n\r\n  private formatNumber(): void {\r\n    const decimalSeparator: string = typeof this.nzValue === 'number' ? '.' : getLocaleNumberSymbol(this.locale_id, NumberSymbol.Decimal);\r\n    const value = String(this.nzValue);\r\n    const [int, decimal] = value.split(decimalSeparator);\r\n\r\n    this.displayInt = int;\r\n    this.displayDecimal = decimal ? `${decimalSeparator}${decimal}` : '';\r\n  }\r\n}\r\n","<ng-container\r\n  *ngIf=\"nzValueTemplate\"\r\n  [ngTemplateOutlet]=\"nzValueTemplate\"\r\n  [ngTemplateOutletContext]=\"{ $implicit: nzValue }\"\r\n>\r\n</ng-container>\r\n<ng-container *ngIf=\"!nzValueTemplate\">\r\n  <span *ngIf=\"displayInt\" class=\"ant-statistic-content-value-int\">{{ displayInt }}</span>\r\n  <span *ngIf=\"displayDecimal\" class=\"ant-statistic-content-value-decimal\">{{\r\n    displayDecimal\r\n  }}</span>\r\n</ng-container>\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { ChangeDetectionStrategy, Component, Input, TemplateRef, ViewEncapsulation } from '@angular/core';\r\nimport { NzStatisticValueType } from './nz-statistic-definitions';\r\n\r\n@Component({\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  selector: 'nz-statistic',\r\n  exportAs: 'nzStatistic',\r\n  templateUrl: './nz-statistic.component.html',\r\n  host: {\r\n    class: 'ant-statistic'\r\n  },\r\n  styles: ['nz-statistic { display: block; }']\r\n})\r\nexport class NzStatisticComponent {\r\n  @Input() nzPrefix: string | TemplateRef<void>;\r\n  @Input() nzSuffix: string | TemplateRef<void>;\r\n  @Input() nzTitle: string | TemplateRef<void>;\r\n  @Input() nzValue: NzStatisticValueType;\r\n  @Input() nzValueStyle = {};\r\n  @Input() nzValueTemplate: TemplateRef<{ $implicit: NzStatisticValueType }>;\r\n}\r\n","<div class=\"ant-statistic-title\">\r\n  <ng-container *nzStringTemplateOutlet=\"nzTitle\">{{ nzTitle }}</ng-container>\r\n</div>\r\n<div class=\"ant-statistic-content\" [ngStyle]=\"nzValueStyle\">\r\n  <span *ngIf=\"nzPrefix\" class=\"ant-statistic-content-prefix\">\r\n    <ng-container *nzStringTemplateOutlet=\"nzPrefix\">{{ nzPrefix }}</ng-container>\r\n  </span>\r\n  <nz-statistic-number [nzValue]=\"nzValue\" [nzValueTemplate]=\"nzValueTemplate\">\r\n  </nz-statistic-number>\r\n  <span *ngIf=\"nzSuffix\" class=\"ant-statistic-content-suffix\">\r\n    <ng-container *nzStringTemplateOutlet=\"nzSuffix\">{{ nzSuffix }}</ng-container>\r\n  </span>\r\n</div>\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { Platform } from '@angular/cdk/platform';\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  NgZone,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  Output,\r\n  SimpleChanges,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { interval, Subscription } from 'rxjs';\r\n\r\nimport { REFRESH_INTERVAL } from './nz-statistic-definitions';\r\nimport { NzStatisticComponent } from './nz-statistic.component';\r\n\r\n@Component({\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  selector: 'nz-countdown',\r\n  exportAs: 'nzCountdown',\r\n  templateUrl: './nz-countdown.component.html'\r\n})\r\nexport class NzCountdownComponent extends NzStatisticComponent implements OnInit, OnChanges, OnDestroy {\r\n  /** @override */\r\n  @Input() nzFormat: string = 'HH:mm:ss';\r\n  @Output() readonly nzCountdownFinish = new EventEmitter<void>();\r\n\r\n  diff: number;\r\n\r\n  private target: number;\r\n  private updater_: Subscription | null;\r\n\r\n  constructor(private cdr: ChangeDetectorRef, private ngZone: NgZone, private platform: Platform) {\r\n    super();\r\n  }\r\n\r\n  /** @override */\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.nzValue) {\r\n      this.target = Number(changes.nzValue.currentValue);\r\n      if (!changes.nzValue.isFirstChange()) {\r\n        this.syncTimer();\r\n      }\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.syncTimer();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.stopTimer();\r\n  }\r\n\r\n  syncTimer(): void {\r\n    if (this.target >= Date.now()) {\r\n      this.startTimer();\r\n    } else {\r\n      this.stopTimer();\r\n    }\r\n  }\r\n\r\n  startTimer(): void {\r\n    if (this.platform.isBrowser) {\r\n      this.ngZone.runOutsideAngular(() => {\r\n        this.stopTimer();\r\n        this.updater_ = interval(REFRESH_INTERVAL).subscribe(() => {\r\n          this.updateValue();\r\n          this.cdr.detectChanges();\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  stopTimer(): void {\r\n    if (this.updater_) {\r\n      this.updater_.unsubscribe();\r\n      this.updater_ = null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update time that should be displayed on the screen.\r\n   */\r\n  protected updateValue(): void {\r\n    this.diff = Math.max(this.target - Date.now(), 0);\r\n\r\n    if (this.diff === 0) {\r\n      this.stopTimer();\r\n      this.nzCountdownFinish.emit();\r\n    }\r\n  }\r\n}\r\n","<nz-statistic\r\n  [nzValue]=\"diff\"\r\n  [nzValueStyle]=\"nzValueStyle\"\r\n  [nzValueTemplate]=\"nzValueTemplate || countDownTpl\"\r\n  [nzTitle]=\"nzTitle\"\r\n  [nzPrefix]=\"nzPrefix\"\r\n  [nzSuffix]=\"nzSuffix\"\r\n>\r\n</nz-statistic>\r\n\r\n<ng-template #countDownTpl>{{ diff | nzTimeRange: nzFormat }}</ng-template>\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\nimport { PlatformModule } from '@angular/cdk/platform';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { NzAddOnModule, NzPipesModule } from 'ng-zorro-antd/core';\r\n\r\nimport { NzCountdownComponent } from './nz-countdown.component';\r\nimport { NzStatisticNumberComponent } from './nz-statistic-number.component';\r\nimport { NzStatisticComponent } from './nz-statistic.component';\r\n\r\n@NgModule({\r\n  imports: [CommonModule, PlatformModule, NzAddOnModule, NzPipesModule],\r\n  declarations: [NzStatisticComponent, NzCountdownComponent, NzStatisticNumberComponent],\r\n  exports: [NzStatisticComponent, NzCountdownComponent, NzStatisticNumberComponent]\r\n})\r\nexport class NzStatisticModule {}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nexport * from './nz-countdown.component';\r\nexport * from './nz-statistic.component';\r\nexport * from './nz-statistic.module';\r\nexport * from './nz-statistic-number.component';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i0.ɵɵelementContainer","i0.ɵɵproperty","i0.ɵɵelementStart","i0.ɵɵtext","i0.ɵɵelementEnd","i0.ɵɵadvance","i0.ɵɵtextInterpolate","i0.ɵɵelementContainerStart","i0.ɵɵtemplate","i0.ɵɵelementContainerEnd","i0.ɵɵelement"],"mappings":"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"}